<!doctype html>
<html lang="en">
<head>
    <title></title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <style type="text/css">
        * {
    font-family: 'Open Sans', sans-serif;
}

a, a:hover, footer .fa {
    color: #E99749;
}

a.icon {
    text-decoration: none;
}

pre {
    padding: 5px;
    border: 2px solid #E99749;
    background: #F8F9FA;
}

pre code {
    font-family: 'Courier', sans-serif;
    font-size: 0.9em;
}


.nav-link {
    padding: 0;
    margin: 0;
}

.sidebar p {
    padding: 0;
    margin: 0;
}
    </style>
</head>
<body>
<div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
    <h5 class="my-0 mr-md-auto font-weight-normal">
        <img src="https://avatars0.githubusercontent.com/u/710363?s=45&v=4" alt="Novactive"/>
        Nova eZ Platform Bundles
    </h5>
    <ul class="navbar-nav mr-auto">
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="" id="components-menu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Bundles
            </a>
            <div class="dropdown-menu" aria-labelledby="components-menu">

                                    <a class="dropdown-item" href="/Nova-eZPlatform-Bundles/master/Accelerator/README.md.html">Accelerator</a>
                                    <a class="dropdown-item" href="/Nova-eZPlatform-Bundles/master/CloudinaryBundle/README.md.html">CloudinaryBundle</a>
                                    <a class="dropdown-item" href="/Nova-eZPlatform-Bundles/master/EditHelpBundle/README.md.html">EditHelpBundle</a>
                                    <a class="dropdown-item" href="/Nova-eZPlatform-Bundles/master/EnhancedImageAssetBundle/README.md.html">EnhancedImageAssetBundle</a>
                                    <a class="dropdown-item" href="/Nova-eZPlatform-Bundles/master/ExtraBundle/README.md.html">ExtraBundle</a>
                                    <a class="dropdown-item" href="/Nova-eZPlatform-Bundles/master/LdapAuthenticatorBundle/README.md.html">LdapAuthenticatorBundle</a>
                                    <a class="dropdown-item" href="/Nova-eZPlatform-Bundles/master/MailingBundle/README.md.html">MailingBundle</a>
                                    <a class="dropdown-item" href="/Nova-eZPlatform-Bundles/master/MenuManagerBundle/README.md.html">MenuManagerBundle</a>
                                    <a class="dropdown-item" href="/Nova-eZPlatform-Bundles/master/ProtectedContentBundle/README.md.html">ProtectedContentBundle</a>
                                    <a class="dropdown-item" href="/Nova-eZPlatform-Bundles/master/ResponsiveImagesBundle/README.md.html">ResponsiveImagesBundle</a>
                                    <a class="dropdown-item" href="/Nova-eZPlatform-Bundles/master/RssFeedBundle/README.md.html">RssFeedBundle</a>
                                    <a class="dropdown-item" href="/Nova-eZPlatform-Bundles/master/SEOBundle/README.md.html">SEOBundle</a>
                                    <a class="dropdown-item" href="/Nova-eZPlatform-Bundles/master/SlackBundle/README.md.html">SlackBundle</a>
                                    <a class="dropdown-item" href="/Nova-eZPlatform-Bundles/master/SolrSearchExtraBundle/README.md.html">SolrSearchExtraBundle</a>
                                    <a class="dropdown-item" href="/Nova-eZPlatform-Bundles/master/StaticTemplatesBundle/README.md.html">StaticTemplatesBundle</a>
                            </div>
        </li>
    </ul>
    <nav class="my-2 my-md-0 mr-md-3">
        <a class="p-2 text-dark" target="_blank" href="https://www.novactive.com">France</a>
        <a class="p-2 text-dark" target="_blank" href="https://www.novactive.us">California</a>
        <a class="p-2 text-dark" target="_blank" href="https://www.nextedia.com">Nextedia</a>
        <a class="p-2 text-dark icon" target="_blank" href="https://github.com/Novactive/Nova-eZPlatform-Bundles"><i class="fab fa-github fa-2x" aria-hidden="true"></i>&nbsp;&nbsp;</a>
    </nav>
</div>

<div class="container-fluid">
        <div class="row flex-column-reverse flex-md-row">
        <div class="col-md-8 col-sm-12">
            <h1 name="33d040d559749848597ecd36b4c88b13">Novactive eZ Cloudinary Bundle</h1>
<p>Novactive eZ Cloudinary Bundle is an eZPlatform bundle for Images optimizations and manipulations.</p>
<p>This bundle brings the power of <a href="https://demo.cloudinary.com/?mode=default">Cloudinary</a> in your eZ Platform project.</p>
<p>For this first version, the plugin allows you to define Cloudinary Variation on top of eZ Variations.
Images stay on your servers but the SRC is adapted to make Cloudinary rendering/manipulating images.</p>
<blockquote>
<p>All the configuration is SiteAccessAware then you can have different one depending on the SiteAccess</p>
</blockquote>
<h2 name="6a755e7d228a2b491321dbae0a7a248b">INSTALL</h2>
<h3 name="6065c97227a6214bc68bad0f15ff16d1">Use Composer</h3>
<p>Add the following to your composer.json and run <code>composer require novactive/ezcloudinarybundle</code> to refresh dependencies:</p>
<pre><code class=" json"># composer.json

"require": {
    "novactive/ezcloudinarybundle": "dev-master",
}</code></pre>
<h3 name="040da9acc61145e551bcf66b54f44420">Register the bundle</h3>
<p>Activate the bundle in <code>app\AppKernel.php</code> file.</p>
<pre><code class=" php">// app\AppKernel.php

public function registerBundles()
{
   ...
   $bundles = array(
       new FrameworkBundle(),
       ...
       new Novactive\Bundle\eZCloudinaryBundle\NovaeZCloudinaryBundle(),
   );
   ...
}</code></pre>
<h3 name="53222085b99570d95c9d8cf83dc9e0b1">Setup your credentials</h3>
<pre><code class=" yaml">nova_ezcloudinary:
    authentification:
        cloud_name: 'demo'
        api_key: "xxxxx"
        api_secret: "xxxx"</code></pre>
<h2 name="c64518704ce0c0d5501a45763f464276">Usage</h2>
<p>This bundle mimics the native image variation system.</p>
<pre><code class=" yaml">parameters:
    nova_ezcloudinary.default.cloudinary_variations:
            simpletest1:
                ezreference_variation: 'Native eZ Variation Name, ~ means original'
                filters: # look at the documentation on Cloudinary
                    width: 200
                    height: 200
                    gravity: 'face'
                    radius: 'max'
                    effect: 'sepia'
            simpletest2: # look at the documentation on Cloudinary
                ezreference_variation: 'medium' # Cloudinary manipulation are going to be base on the medium alias
                filters: # look at the documentation on Cloudinary
                    transformation:
                        width: 300
                        height: 300
                        effect: 'sepia'
                        radius: 'max'
                        fetch_format: 'auto'
                        angle: 45
</code></pre>
<p>In your template</p>
<pre><code class=" twig">    {{ ez_render_field( content, "image",{
        "parameters": {"alias": 'simpletest2'},
        "attr" : { "class" : "img-responsive" }
    }
    ) }}</code></pre>
<p>Automatically, <code>nova_ezcloudinary_alias</code> will be used instead of <code>ez_image_alias</code>.
The bundle fallback on the native Variation system if the alias name does not exist in <code>cloudinary_variations</code></p>
<p>Then basically there is no change in your code, just yaml configuration for your Variation.</p>
<blockquote>
<p>if you have override the content_fields, be sure to update the call to <code>nova_ezcloudinary_alias</code></p>
</blockquote>
<h3 name="747142bc06840020539579f230092d87">Chained Transformations</h3>
<p>Chained transformations can be done by adding an array to the configuration like so:</p>
<pre><code class=" yaml">filters:
  transformation:
    - secure: 'true'
      crop: 'crop'
      height: 823
      width: 1920
      quality: 'auto:best'
    - crop: 'crop'
      y: 0
      x: 415
      width: 1234
      height: 823
      quality: 'auto:best'
    - crop: 'scale'
      width: 537
      height: 358
      aspect_ratio: '3:2'
      quality: 'auto:eco'</code></pre>
<h2 name="0b08be20ae8bce6dbceb31ddfabe29c8">Local mode</h2>
<p>This bundle uses the fetch mode of Cloudinary, then images have to be &quot;reachable&quot; to be converted.
BUT, obviously your localhost is not public, to bypass that situation, we recommand the usage of <code>ngrok</code></p>
<p>Let's assume your webserver listen on the TCP port 42080</p>
<pre><code class=" bash">$ ngrok http 42080</code></pre>
<p>You will get something like:  <code>http://xxxxx.ngrok.io</code>
And you can set up that in the configuration:</p>
<pre><code class=" yaml">parameters:
    nova_ezcloudinary.default.cloudinary_fecth_proxy:
        host: xxxxx.ngrok.io</code></pre>
<blockquote>
<p>you can do your own tunnel, here, but <code>ngrok</code> is really good at it</p>
</blockquote>
<h2 name="295855300f144d70c88b1deec289ed50">Local mode without Cloudinary</h2>
<p>You can also disable all Cloudinary variations for you local usages, using only native ezplatform variation:</p>
<pre><code class=" yaml">parameters:
    nova_ezcloudinary.default.cloudinary_disabled: true
    nova_ezcloudinary.default.cloudinary_fallback_variation: original # Will replace all unknown variation by original</code></pre>
<h2>License</h2>
<p><a href="LICENSE.html">License</a></p>

            <p class="text-right">
                <img width="204" height="20"
                     src='https://img.shields.io/badge/Updated on-08--21--2020 21:26:31-green?style=flat-square&labelColor=black'
                     alt='Updated on 08--21--2020 21:26:31'
                />
            </p>
        </div>
        <div class="col-md-4 col-sm-12 d-print-none sidebar">
                            <p><strong>In this page</strong>:</p>
                <ul class="nav flex-column"><li class="nav-item first last"><a href="#33d040d559749848597ecd36b4c88b13" class="nav-link">Novactive eZ Cloudinary Bundle</a><ul class="menu_level_1"><li class="nav-item first"><a href="#6a755e7d228a2b491321dbae0a7a248b" class="nav-link">INSTALL</a><ul class="menu_level_2"><li class="nav-item first"><a href="#6065c97227a6214bc68bad0f15ff16d1" class="nav-link">Use Composer</a></li><li class="nav-item"><a href="#040da9acc61145e551bcf66b54f44420" class="nav-link">Register the bundle</a></li><li class="nav-item last"><a href="#53222085b99570d95c9d8cf83dc9e0b1" class="nav-link">Setup your credentials</a></li></ul></li><li class="nav-item"><a href="#c64518704ce0c0d5501a45763f464276" class="nav-link">Usage</a><ul class="menu_level_2"><li class="nav-item first last"><a href="#747142bc06840020539579f230092d87" class="nav-link">Chained Transformations</a></li></ul></li><li class="nav-item"><a href="#0b08be20ae8bce6dbceb31ddfabe29c8" class="nav-link">Local mode</a></li><li class="nav-item last"><a href="#295855300f144d70c88b1deec289ed50" class="nav-link">Local mode without Cloudinary</a></li></ul></li></ul>
                    </div>
    </div>
    <footer class="pt-4 my-md-5 pt-md-5 border-top">
    <div class="row">
        <div class="col-2">
            <img class="mb-2" src="https://avatars0.githubusercontent.com/u/710363?s=60&v=4" width="24" height="24" alt="Novactive"/>
            <small class="d-block mb-3 text-muted">&copy; 2020</small>
        </div>
        <div class="col-8">
            <p class="text-center">
                <i class="fas fa-code"></i> with
                <i class="fas fa-heart"></i> in Paris, Toulon, Nantes, Bordeaux and California.
            </p>
        </div>
        <div class="col-2">
            <p class="text-right">
                <a href="#">
                    Back to top
                </a>
            </p>
        </div>
    </div>
</footer>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

<link rel="stylesheet"  href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/github.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script>

<script type="text/javascript">
    $(function () {
        function _scrollToName (hash) {
            var name = hash.substr(1);
            var to = (name === '') ? 0 : $("[name=" + name + "]").offset().top - 10;
            $('html, body').animate({
                scrollTop: to
            }, 'slow');
        }

        $('a[href^="#"]').click(function () {
            var selector = $(this).attr("href");
            _scrollToName(selector);
            return false;
        });

        if (location.hash) {
            _scrollToName(location.hash);
        }
    });
    hljs.initHighlightingOnLoad();
</script>
</body>
</html>

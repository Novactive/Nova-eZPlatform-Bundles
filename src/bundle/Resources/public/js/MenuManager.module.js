/*! For license information please see MenuManager.module.js.LICENSE */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("prop-types"),require("jquery"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","prop-types","jquery","react-dom"],t):"object"==typeof exports?exports.MenuManager=t(require("react"),require("prop-types"),require("jquery"),require("react-dom")):(e.eZ=e.eZ||{},e.eZ.modules=e.eZ.modules||{},e.eZ.modules.MenuManager=t(e.React,e.PropTypes,e.jQuery,e.ReactDOM))}("undefined"!=typeof self?self:this,function(e,t,n,a){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";class a{constructor(e){this.id=String(e.id||"_"+Math.random().toString(36).substr(2,9)),this.parentId=e.parentId||"#",this.name=e.name,this.position=e.position||0,this.url=e.url||"",this.target=e.target||"",this.state=e.state,this.type=e.type,this.options=e.options||{}}getOption(e,t=null){const n=this.options[e];return void 0!==n?n:t}setOption(e,t){this.options[e]=t}toTreeNode(e){let t="";return!1===this.getOption("active",!0)&&(t+="jstree-desactivated"),{id:this.id,parent:this.parentId,text:this.translateProperty(this.name,e),data:{position:this.position,url:this.url,target:this.target,options:this.options},state:this.state,type:this.type,a_attr:{class:t}}}translateProperty(e,t){try{return JSON.parse(e)[t]}catch(t){return e}}isEnabled(){return void 0===this.state||!this.state.disabled}static fromTreeNode(e,t=null){return new a({id:e.id,parentId:e.parent,name:e.text,position:t||e.data.position,url:e.data.url,target:e.data.target,options:e.data.options,state:e.state,type:e.type})}}t.a=a},function(e,t){e.exports=n},function(e,t){e.exports=a},function(e,t,n){var a,r,i;!function(s){"use strict";r=[n(3)],void 0===(i="function"==typeof(a=s)?a.apply(t,r):a)||(e.exports=i)}(function(e,t){"use strict";if(!e.jstree){var n=0,a=!1,r=!1,i=!1,s=[],o=e("script:last").attr("src"),l=window.document;e.jstree={version:"3.3.8",defaults:{plugins:[]},plugins:{},path:o&&-1!==o.indexOf("/")?o.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(t,a){var r=new e.jstree.core(++n),i=a;return a=e.extend(!0,{},e.jstree.defaults,a),i&&i.plugins&&(a.plugins=i.plugins),e.each(a.plugins,function(e,t){"core"!==e&&(r=r.plugin(t,a[t]))}),e(t).data("jstree",r),r.init(t,a),r},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(l).off(".jstree")},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(t){var n=null,a=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!a||!a.length)try{a=e(t)}catch(e){}if(!a||!a.length)try{a=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(e){}return a&&a.length&&(a=a.closest(".jstree")).length&&(a=a.data("jstree"))?n=a:e(".jstree").each(function(){var a=e(this).data("jstree");if(a&&a._model.data[t])return n=a,!1}),n},e.fn.jstree=function(n){var a="string"==typeof n,r=Array.prototype.slice.call(arguments,1),i=null;return!(!0===n&&!this.length)&&(this.each(function(){var s=e.jstree.reference(this),o=a&&s?s[n]:null;if(i=a&&o?o.apply(s,r):null,s||a||n!==t&&!e.isPlainObject(n)||e.jstree.create(this,n),(s&&!a||!0===n)&&(i=s||!1),null!==i&&i!==t)return!1}),null!==i&&i!==t?i:this)},e.expr.pseudos.jstree=e.expr.createPseudo(function(n){return function(n){return e(n).hasClass("jstree")&&e(n).data("jstree")!==t}}),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,keyboard:{"ctrl-space":function(t){t.type="click",e(t.currentTarget).trigger(t)},enter:function(t){t.type="click",e(t.currentTarget).trigger(t)},left:function(t){if(t.preventDefault(),this.is_open(t.currentTarget))this.close_node(t.currentTarget);else{var n=this.get_parent(t.currentTarget);n&&n.id!==e.jstree.root&&this.get_node(n,!0).children(".jstree-anchor").focus()}},up:function(e){e.preventDefault();var t=this.get_prev_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").focus()},right:function(t){if(t.preventDefault(),this.is_closed(t.currentTarget))this.open_node(t.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").focus()});else if(this.is_open(t.currentTarget)){var n=this.get_node(t.currentTarget,!0).children(".jstree-children")[0];n&&e(this._firstChild(n)).children(".jstree-anchor").focus()}},down:function(e){e.preventDefault();var t=this.get_next_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").focus()},"*":function(e){this.open_all()},home:function(t){t.preventDefault();var n=this._firstChild(this.get_container_ul()[0]);n&&e(n).children(".jstree-anchor").filter(":visible").focus()},end:function(e){e.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus()},f2:function(e){e.preventDefault(),this.edit(e.currentTarget)}}},e.jstree.core.prototype={plugin:function(t,n){var a=e.jstree.plugins[t];return a?(this._data[t]={},a.prototype=this,new a(n,this)):this},init:function(t,n){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=n,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(e){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(e){}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var e,t,n=l.createElement("LI");return n.setAttribute("role","treeitem"),(e=l.createElement("I")).className="jstree-icon jstree-ocl",e.setAttribute("role","presentation"),n.appendChild(e),(e=l.createElement("A")).className="jstree-anchor",e.setAttribute("href","#"),e.setAttribute("tabindex","-1"),(t=l.createElement("I")).className="jstree-icon jstree-themeicon",t.setAttribute("role","presentation"),e.appendChild(t),n.appendChild(e),e=t=null,n},_kbevent_to_func:function(e){var t=[];e.ctrlKey&&t.push("ctrl"),e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),t.push({8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"}[e.which]||e.which),t=t.sort().join("-").toLowerCase();var n,a,r=this.settings.core.keyboard;for(n in r)if(r.hasOwnProperty(n)&&("-"!==(a=n)&&"+"!==a&&(a=(a=a.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS")).split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),a===t))return r[n];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var t="",n=null,a=0;this.element.on("dblclick.jstree",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(l.selection&&l.selection.empty)l.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(e){}}}).on("mousedown.jstree",e.proxy(function(e){e.target===this.element[0]&&(e.preventDefault(),a=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(e){e.preventDefault()}).on("click.jstree",".jstree-ocl",e.proxy(function(e){this.toggle_node(e.target)},this)).on("dblclick.jstree",".jstree-anchor",e.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this.settings.core.dblclick_toggle&&this.toggle_node(e.target)},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){t.preventDefault(),t.currentTarget!==l.activeElement&&e(t.currentTarget).focus(),this.activate_node(t.currentTarget,t)},this)).on("keydown.jstree",".jstree-anchor",e.proxy(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this._data.core.rtl&&(37===e.which?e.which=39:39===e.which&&(e.which=37));var t=this._kbevent_to_func(e);if(t){var n=t.call(this,e);if(!1===n||!0===n)return n}},this)).on("load_node.jstree",e.proxy(function(t,n){n.status&&(n.node.id!==e.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(e.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t,n,a=[];for(t=0,n=this._data.core.selected.length;t<n;t++)a=a.concat(this._model.data[this._data.core.selected[t]].parents);for(t=0,n=(a=e.vakata.array_unique(a)).length;t<n;t++)this.open_node(a[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",e.proxy(function(a){if(a.target.tagName&&"input"===a.target.tagName.toLowerCase())return!0;n&&clearTimeout(n),n=setTimeout(function(){t=""},500);var r=String.fromCharCode(a.which).toLowerCase(),i=this.element.find(".jstree-anchor").filter(":visible"),s=i.index(l.activeElement)||0,o=!1;if((t+=r).length>1){if(i.slice(s).each(e.proxy(function(n,a){if(0===e(a).text().toLowerCase().indexOf(t))return e(a).focus(),o=!0,!1},this)),o)return;if(i.slice(0,s).each(e.proxy(function(n,a){if(0===e(a).text().toLowerCase().indexOf(t))return e(a).focus(),o=!0,!1},this)),o)return}if(new RegExp("^"+r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)){if(i.slice(s+1).each(e.proxy(function(t,n){if(e(n).text().toLowerCase().charAt(0)===r)return e(n).focus(),o=!0,!1},this)),o)return;if(i.slice(0,s+1).each(e.proxy(function(t,n){if(e(n).text().toLowerCase().charAt(0)===r)return e(n).focus(),o=!0,!1},this)),o)return}},this)).on("init.jstree",e.proxy(function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this._data.core.themes.ellipsis=e.ellipsis,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)},this)).on("loading.jstree",e.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()},this)).on("blur.jstree",".jstree-anchor",e.proxy(function(t){this._data.core.focused=null,e(t.currentTarget).filter(".jstree-hovered").trigger("mouseleave"),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",e.proxy(function(t){var n=this.get_node(t.currentTarget);n&&n.id&&(this._data.core.focused=n.id),this.element.find(".jstree-hovered").not(t.currentTarget).trigger("mouseleave"),e(t.currentTarget).trigger("mouseenter"),this.element.attr("tabindex","-1")},this)).on("focus.jstree",e.proxy(function(){if(+new Date-a>500&&!this._data.core.focused&&this.settings.core.restore_focus){a=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",e.proxy(function(e){this.hover_node(e.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),e(l).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var n=this.settings.core.strings;return e.isFunction(n)?n.call(this,t):n&&n[t]?n[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,n){var a;t&&t.id&&(t=t.id),t instanceof e&&t.length&&t[0].id&&(t=t[0].id);try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(a=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[a.closest(".jstree-node").attr("id")])t=this._model.data[a.closest(".jstree-node").attr("id")];else if((a=this.element.find(t)).length&&this._model.data[a.closest(".jstree-node").attr("id")])t=this._model.data[a.closest(".jstree-node").attr("id")];else{if(!(a=this.element.find(t)).length||!a.hasClass("jstree"))return!1;t=this._model.data[e.jstree.root]}return n&&(t=t.id===e.jstree.root?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(e){return!1}},get_path:function(t,n,a){if(!(t=t.parents?t:this.get_node(t))||t.id===e.jstree.root||!t.parents)return!1;var r,i,s=[];for(s.push(a?t.id:t.text),r=0,i=t.parents.length;r<i;r++)s.push(a?t.parents[r]:this.get_text(t.parents[r]));return s=s.reverse().slice(1),n?s.join(n):s},get_next_dom:function(t,n){var a;if((t=this.get_node(t,!0))[0]===this.element[0]){for(a=this._firstChild(this.get_container_ul()[0]);a&&0===a.offsetHeight;)a=this._nextSibling(a);return!!a&&e(a)}if(!t||!t.length)return!1;if(n){a=t[0];do{a=this._nextSibling(a)}while(a&&0===a.offsetHeight);return!!a&&e(a)}if(t.hasClass("jstree-open")){for(a=this._firstChild(t.children(".jstree-children")[0]);a&&0===a.offsetHeight;)a=this._nextSibling(a);if(null!==a)return e(a)}a=t[0];do{a=this._nextSibling(a)}while(a&&0===a.offsetHeight);return null!==a?e(a):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,n){var a;if((t=this.get_node(t,!0))[0]===this.element[0]){for(a=this.get_container_ul()[0].lastChild;a&&0===a.offsetHeight;)a=this._previousSibling(a);return!!a&&e(a)}if(!t||!t.length)return!1;if(n){a=t[0];do{a=this._previousSibling(a)}while(a&&0===a.offsetHeight);return!!a&&e(a)}a=t[0];do{a=this._previousSibling(a)}while(a&&0===a.offsetHeight);if(null!==a){for(t=e(a);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return!(!(a=t[0].parentNode.parentNode)||!a.className||-1===a.className.indexOf("jstree-node"))&&e(a)},get_parent:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.parent},get_children_dom:function(e){return(e=this.get_node(e,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return(e=this.get_node(e))&&(!1===e.state.loaded||e.children.length>0)},is_loaded:function(e){return(e=this.get_node(e))&&e.state.loaded},is_loading:function(e){return(e=this.get_node(e))&&e.state&&e.state.loading},is_open:function(e){return(e=this.get_node(e))&&e.state.opened},is_closed:function(e){return(e=this.get_node(e))&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,n){var a,r,i,s,o;if(e.isArray(t))return this._load_nodes(t.slice(),n),!0;if(!(t=this.get_node(t)))return n&&n.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,i=0,s=t.parents.length;i<s;i++)this._model.data[t.parents[i]].children_d=e.vakata.array_filter(this._model.data[t.parents[i]].children_d,function(n){return-1===e.inArray(n,t.children_d)});for(a=0,r=t.children_d.length;a<r;a++)this._model.data[t.children_d[a]].state.selected&&(o=!0),delete this._model.data[t.children_d[a]];o&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(n){return-1===e.inArray(n,t.children_d)})),t.children=[],t.children_d=[],o&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(t,e.proxy(function(e){(t=this._model.data[t.id]).state.loading=!1,t.state.loaded=e,t.state.failed=!t.state.loaded;var a,r=this.get_node(t,!0),i=0,s=this._model.data,o=!1;for(i=0,a=t.children.length;i<a;i++)if(s[t.children[i]]&&!s[t.children[i]].state.hidden){o=!0;break}t.state.loaded&&r&&r.length&&(r.removeClass("jstree-closed jstree-open jstree-leaf"),o?"#"!==t.id&&r.addClass(t.state.opened?"jstree-open":"jstree-closed"):r.addClass("jstree-leaf")),r.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:t,status:e}),n&&n.call(this,t,e)},this)),!0},_load_nodes:function(e,t,n,a){var r,i,s=!0,o=function(){this._load_nodes(e,t,!0)},l=this._model.data,c=[];for(r=0,i=e.length;r<i;r++)l[e[r]]&&(!l[e[r]].state.loaded&&!l[e[r]].state.failed||!n&&a)&&(this.is_loading(e[r])||this.load_node(e[r],o),s=!1);if(s){for(r=0,i=e.length;r<i;r++)l[e[r]]&&l[e[r]].state.loaded&&c.push(e[r]);t&&!t.done&&(t.call(this,c),t.done=!0)}},load_all:function(t,n){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var a,r,i=[],s=this._model.data,o=s[t.id].children_d;for(t.state&&!t.state.loaded&&i.push(t.id),a=0,r=o.length;a<r;a++)s[o[a]]&&s[o[a]].state&&!s[o[a]].state.loaded&&i.push(o[a]);i.length?this._load_nodes(i,function(){this.load_all(t,n)}):(n&&n.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,n){var a,r=this.settings.core.data,i=function(){return 3!==this.nodeType&&8!==this.nodeType};return r?e.isFunction(r)?r.call(this,t,e.proxy(function(a){!1===a?n.call(this,!1):this["string"==typeof a?"_append_html_data":"_append_json_data"](t,"string"==typeof a?e(e.parseHTML(a)).filter(i):a,function(e){n.call(this,e)})},this)):"object"==typeof r?r.url?(r=e.extend(!0,{},r),e.isFunction(r.url)&&(r.url=r.url.call(this,t)),e.isFunction(r.data)&&(r.data=r.data.call(this,t)),e.ajax(r).done(e.proxy(function(a,r,s){var o=s.getResponseHeader("Content-Type");return o&&-1!==o.indexOf("json")||"object"==typeof a?this._append_json_data(t,a,function(e){n.call(this,e)}):o&&-1!==o.indexOf("html")||"string"==typeof a?this._append_html_data(t,e(e.parseHTML(a)).filter(i),function(e){n.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:s})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))},this)).fail(e.proxy(function(e){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},n.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)},this))):(a=e.isArray(r)?e.extend(!0,[],r):e.isPlainObject(r)?e.extend(!0,{},r):r,t.id===e.jstree.root?this._append_json_data(t,a,function(e){n.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))):"string"==typeof r?t.id===e.jstree.root?this._append_html_data(t,e(e.parseHTML(r)).filter(i),function(e){n.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1)):n.call(this,!1):t.id===e.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),function(e){n.call(this,e)}):n.call(this,!1)},_node_changed:function(t){(t=this.get_node(t))&&-1===e.inArray(t.id,this._model.changed)&&this._model.changed.push(t.id)},_append_html_data:function(t,n,a){(t=this.get_node(t)).children=[],t.children_d=[];var r,i,s,o=n.is("ul")?n.children():n,l=t.id,c=[],d=[],h=this._model.data,u=h[l],p=this._data.core.selected.length;for(o.each(e.proxy(function(t,n){(r=this._parse_model_from_html(e(n),l,u.parents.concat()))&&(c.push(r),d.push(r),h[r].children_d.length&&(d=d.concat(h[r].children_d)))},this)),u.children=c,u.children_d=d,i=0,s=u.parents.length;i<s;i++)h[u.parents[i]].children_d=h[u.parents[i]].children_d.concat(d);this.trigger("model",{nodes:d,parent:l}),l!==e.jstree.root?(this._node_changed(l),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==p&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),a.call(this,!0)},_append_json_data:function(t,n,a,r){if(null!==this.element){(t=this.get_node(t)).children=[],t.children_d=[],n.d&&"string"==typeof(n=n.d)&&(n=JSON.parse(n)),e.isArray(n)||(n=[n]);var i=null,s={df:this._model.default_state,dat:n,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},o=this,l=function(e,t){e.data&&(e=e.data);var n,a,r,i,s=e.dat,l=e.par,c=[],d=[],h=[],u=e.df,p=e.t_id,f=e.t_cnt,g=e.m,m=g[l],_=e.sel,v=function(e,n,a){a=a?a.concat():[],n&&a.unshift(n);var r,i,s,o,l=e.id.toString(),c={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:n,parents:a,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in u)u.hasOwnProperty(r)&&(c.state[r]=u[r]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(c.icon=e.data.jstree.icon),c.icon!==t&&null!==c.icon&&""!==c.icon||(c.icon=!0),e&&e.data&&(c.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(c.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(c.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(c.li_attr[r]=e.li_attr[r]);if(c.li_attr.id||(c.li_attr.id=l),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(c.a_attr[r]=e.a_attr[r]);for(e&&e.children&&!0===e.children&&(c.state.loaded=!1,c.children=[],c.children_d=[]),g[c.id]=c,r=0,i=c.children.length;r<i;r++)s=v(g[c.children[r]],c.id,a),o=g[s],c.children_d.push(s),o.children_d.length&&(c.children_d=c.children_d.concat(o.children_d));return delete e.data,delete e.children,g[c.id].original=e,c.state.selected&&h.push(c.id),c.id},b=function(e,n,a){a=a?a.concat():[],n&&a.unshift(n);var r,i,s,o,l,c=!1;do{c="j"+p+"_"+ ++f}while(g[c]);for(r in l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:n,parents:a,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},u)u.hasOwnProperty(r)&&(l.state[r]=u[r]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),l.icon!==t&&null!==l.icon&&""!==l.icon||(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(l.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(l.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(l.li_attr[r]=e.li_attr[r]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(l.a_attr[r]=e.a_attr[r]);if(e&&e.children&&e.children.length){for(r=0,i=e.children.length;r<i;r++)s=b(e.children[r],l.id,a),o=g[s],l.children.push(s),o.children_d.length&&(l.children_d=l.children_d.concat(o.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,g[l.id]=l,l.state.selected&&h.push(l.id),l.id};if(s.length&&s[0].id!==t&&s[0].parent!==t){for(a=0,r=s.length;a<r;a++)s[a].children||(s[a].children=[]),s[a].state||(s[a].state={}),g[s[a].id.toString()]=s[a];for(a=0,r=s.length;a<r;a++)g[s[a].parent.toString()]?(g[s[a].parent.toString()].children.push(s[a].id.toString()),m.children_d.push(s[a].id.toString())):void 0!==o&&(o._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:s[a].id.toString(),parent:s[a].parent.toString()})},o.settings.core.error.call(o,o._data.core.last_error));for(a=0,r=m.children.length;a<r;a++)n=v(g[m.children[a]],l,m.parents.concat()),d.push(n),g[n].children_d.length&&(d=d.concat(g[n].children_d));for(a=0,r=m.parents.length;a<r;a++)g[m.parents[a]].children_d=g[m.parents[a]].children_d.concat(d);i={cnt:f,mod:g,sel:_,par:l,dpc:d,add:h}}else{for(a=0,r=s.length;a<r;a++)(n=b(s[a],l,m.parents.concat()))&&(c.push(n),d.push(n),g[n].children_d.length&&(d=d.concat(g[n].children_d)));for(m.children=c,m.children_d=d,a=0,r=m.parents.length;a<r;a++)g[m.parents[a]].children_d=g[m.parents[a]].children_d.concat(d);i={cnt:f,mod:g,sel:_,par:l,dpc:d,add:h}}if("undefined"!=typeof window&&void 0!==window.document)return i;postMessage(i)},c=function(t,n){if(null!==this.element){this._cnt=t.cnt;var r,i=this._model.data;for(r in i)i.hasOwnProperty(r)&&i[r].state&&i[r].state.loading&&t.mod[r]&&(t.mod[r].state.loading=!0);if(this._model.data=t.mod,n){var s,o=t.add,l=t.sel,c=this._data.core.selected.slice();if(i=this._model.data,l.length!==c.length||e.vakata.array_unique(l.concat(c)).length!==l.length){for(r=0,s=l.length;r<s;r++)-1===e.inArray(l[r],o)&&-1===e.inArray(l[r],c)&&(i[l[r]].state.selected=!1);for(r=0,s=c.length;r<s;r++)-1===e.inArray(c[r],l)&&(i[c[r]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),t.par!==e.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),a.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+l.toString()],{type:"text/javascript"}))),!this._data.core.working||r?(this._data.core.working=!0,(i=new window.Worker(this._wrk)).onmessage=e.proxy(function(e){c.call(this,e.data,!0);try{i.terminate(),i=null}catch(e){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),s.par?i.postMessage(s):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,n,a,!0])}catch(e){c.call(this,l(s),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else c.call(this,l(s),!1)}},_parse_model_from_html:function(n,a,r){r=r?[].concat(r):[],a&&r.unshift(a);var i,s,o,l,c,d=this._model.data,h={id:!1,text:!1,icon:!0,parent:a,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(o in this._model.default_state)this._model.default_state.hasOwnProperty(o)&&(h.state[o]=this._model.default_state[o]);if(l=e.vakata.attributes(n,!0),e.each(l,function(t,n){if(!(n=e.trim(n)).length)return!0;h.li_attr[t]=n,"id"===t&&(h.id=n.toString())}),(l=n.children("a").first()).length&&(l=e.vakata.attributes(l,!0),e.each(l,function(t,n){(n=e.trim(n)).length&&(h.a_attr[t]=n)})),(l=n.children("a").first().length?n.children("a").first().clone():n.clone()).children("ins, i, ul").remove(),l=l.html(),l=e("<div />").html(l),h.text=this.settings.core.force_text?l.text():l.html(),l=n.data(),h.data=l?e.extend(!0,{},l):null,h.state.opened=n.hasClass("jstree-open"),h.state.selected=n.children("a").hasClass("jstree-clicked"),h.state.disabled=n.children("a").hasClass("jstree-disabled"),h.data&&h.data.jstree)for(o in h.data.jstree)h.data.jstree.hasOwnProperty(o)&&(h.state[o]=h.data.jstree[o]);(l=n.children("a").children(".jstree-themeicon")).length&&(h.icon=!l.hasClass("jstree-themeicon-hidden")&&l.attr("rel")),h.state.icon!==t&&(h.icon=h.state.icon),h.icon!==t&&null!==h.icon&&""!==h.icon||(h.icon=!0),l=n.children("ul").children("li");do{c="j"+this._id+"_"+ ++this._cnt}while(d[c]);return h.id=h.li_attr.id?h.li_attr.id.toString():c,l.length?(l.each(e.proxy(function(t,n){i=this._parse_model_from_html(e(n),h.id,r),s=this._model.data[i],h.children.push(i),s.children_d.length&&(h.children_d=h.children_d.concat(s.children_d))},this)),h.children_d=h.children_d.concat(h.children)):n.hasClass("jstree-closed")&&(h.state.loaded=!1),h.li_attr.class&&(h.li_attr.class=h.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),h.a_attr.class&&(h.a_attr.class=h.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),d[h.id]=h,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_flat_json:function(e,n,a){a=a?a.concat():[],n&&a.unshift(n);var r,i,s,o,l=e.id.toString(),c=this._model.data,d=this._model.default_state,h={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:n,parents:a,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in d)d.hasOwnProperty(r)&&(h.state[r]=d[r]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(h.icon=e.data.jstree.icon),h.icon!==t&&null!==h.icon&&""!==h.icon||(h.icon=!0),e&&e.data&&(h.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(h.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(h.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(h.li_attr[r]=e.li_attr[r]);if(h.li_attr.id||(h.li_attr.id=l),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(h.a_attr[r]=e.a_attr[r]);for(e&&e.children&&!0===e.children&&(h.state.loaded=!1,h.children=[],h.children_d=[]),c[h.id]=h,r=0,i=h.children.length;r<i;r++)o=c[s=this._parse_model_from_flat_json(c[h.children[r]],h.id,a)],h.children_d.push(s),o.children_d.length&&(h.children_d=h.children_d.concat(o.children_d));return delete e.data,delete e.children,c[h.id].original=e,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_json:function(e,n,a){a=a?a.concat():[],n&&a.unshift(n);var r,i,s,o,l,c=!1,d=this._model.data,h=this._model.default_state;do{c="j"+this._id+"_"+ ++this._cnt}while(d[c]);for(r in l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:n,parents:a,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},h)h.hasOwnProperty(r)&&(l.state[r]=h[r]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),l.icon!==t&&null!==l.icon&&""!==l.icon||(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(l.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(l.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(l.li_attr[r]=e.li_attr[r]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(l.a_attr[r]=e.a_attr[r]);if(e&&e.children&&e.children.length){for(r=0,i=e.children.length;r<i;r++)o=d[s=this._parse_model_from_json(e.children[r],l.id,a)],l.children.push(s),o.children_d.length&&(l.children_d=l.children_d.concat(o.children_d));l.children_d=l.children.concat(l.children_d)}return e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,d[l.id]=l,l.state.selected&&this._data.core.selected.push(l.id),l.id},_redraw:function(){var t,n,a,r=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),i=l.createElement("UL"),s=this._data.core.focused;for(n=0,a=r.length;n<a;n++)(t=this.redraw_node(r[n],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&i.appendChild(t);this._model.force_full_redraw&&(i.className=this.get_container_ul()[0].className,i.setAttribute("role","group"),this.element.empty().append(i)),null!==s&&this.settings.core.restore_focus&&((t=this.get_node(s,!0))&&t.length&&t.children(".jstree-anchor")[0]!==l.activeElement?t.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:r})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(t){var n=this.get_node(t),a=!1,r=!1,i=!1,s=l;if(!n)return!1;if(n.id===e.jstree.root)return this.redraw(!0);if(!(t=this.get_node(t,!0))||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],n.children.length&&n.state.loaded){for((i=s.createElement("UL")).setAttribute("role","group"),i.className="jstree-children",a=0,r=n.children.length;a<r;a++)i.appendChild(this.redraw_node(n.children[a],!0,!0));t.appendChild(i)}},redraw_node:function(t,n,a,r){var i=this.get_node(t),s=!1,o=!1,c=!1,d=!1,h=!1,u=!1,p="",f=l,g=this._model.data,m=!1,_=null,v=0,b=0,y=!1,k=!1;if(!i)return!1;if(i.id===e.jstree.root)return this.redraw(!0);if(n=n||0===i.children.length,t=l.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(i.id[0])?"\\3"+i.id[0]+" "+i.id.substr(1).replace(e.jstree.idregex,"\\$&"):i.id.replace(e.jstree.idregex,"\\$&"))):l.getElementById(i.id))t=e(t),a||((s=t.parent().parent()[0])===this.element[0]&&(s=null),o=t.index()),n||!i.children.length||t.children(".jstree-children").length||(n=!0),n||(c=t.children(".jstree-children")[0]),m=t.children(".jstree-anchor")[0]===l.activeElement,t.remove();else if(n=!0,!a){if(!(null===(s=i.parent!==e.jstree.root?e("#"+i.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null)||s&&g[i.parent].state.opened))return!1;o=e.inArray(i.id,null===s?g[e.jstree.root].children:g[i.parent].children)}for(d in t=this._data.core.node.cloneNode(!0),p="jstree-node ",i.li_attr)if(i.li_attr.hasOwnProperty(d)){if("id"===d)continue;"class"!==d?t.setAttribute(d,i.li_attr[d]):p+=i.li_attr[d]}for(i.a_attr.id||(i.a_attr.id=i.id+"_anchor"),t.setAttribute("aria-selected",!!i.state.selected),t.setAttribute("aria-level",i.parents.length),t.setAttribute("aria-labelledby",i.a_attr.id),i.state.disabled&&t.setAttribute("aria-disabled",!0),d=0,h=i.children.length;d<h;d++)if(!g[i.children[d]].state.hidden){y=!0;break}if(null!==i.parent&&g[i.parent]&&!i.state.hidden&&(d=e.inArray(i.id,g[i.parent].children),k=i.id,-1!==d))for(d++,h=g[i.parent].children.length;d<h&&(g[g[i.parent].children[d]].state.hidden||(k=g[i.parent].children[d]),k===i.id);d++);for(h in i.state.hidden&&(p+=" jstree-hidden"),i.state.loading&&(p+=" jstree-loading"),i.state.loaded&&!y?p+=" jstree-leaf":(p+=i.state.opened&&i.state.loaded?" jstree-open":" jstree-closed",t.setAttribute("aria-expanded",i.state.opened&&i.state.loaded)),k===i.id&&(p+=" jstree-last"),t.id=i.id,t.className=p,p=(i.state.selected?" jstree-clicked":"")+(i.state.disabled?" jstree-disabled":""),i.a_attr)if(i.a_attr.hasOwnProperty(h)){if("href"===h&&"#"===i.a_attr[h])continue;"class"!==h?t.childNodes[1].setAttribute(h,i.a_attr[h]):p+=" "+i.a_attr[h]}if(p.length&&(t.childNodes[1].className="jstree-anchor "+p),(i.icon&&!0!==i.icon||!1===i.icon)&&(!1===i.icon?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===i.icon.indexOf("/")&&-1===i.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+i.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage='url("'+i.icon+'")',t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(f.createTextNode(i.text)):t.childNodes[1].innerHTML+=i.text,n&&i.children.length&&(i.state.opened||r)&&i.state.loaded){for((u=f.createElement("UL")).setAttribute("role","group"),u.className="jstree-children",d=0,h=i.children.length;d<h;d++)u.appendChild(this.redraw_node(i.children[d],n,!0));t.appendChild(u)}if(c&&t.appendChild(c),!a){for(s||(s=this.element[0]),d=0,h=s.childNodes.length;d<h;d++)if(s.childNodes[d]&&s.childNodes[d].className&&-1!==s.childNodes[d].className.indexOf("jstree-children")){_=s.childNodes[d];break}_||((_=f.createElement("UL")).setAttribute("role","group"),_.className="jstree-children",s.appendChild(_)),o<(s=_).childNodes.length?s.insertBefore(t,s.childNodes[o]):s.appendChild(t),m&&(v=this.element[0].scrollTop,b=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=v,this.element[0].scrollLeft=b)}return i.state.opened&&!i.state.loaded&&(i.state.opened=!1,setTimeout(e.proxy(function(){this.open_node(i.id,!1,0)},this),0)),t},open_node:function(n,a,r){var i,s,o,l;if(e.isArray(n)){for(i=0,s=(n=n.slice()).length;i<s;i++)this.open_node(n[i],a,r);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&(r=r===t?this.settings.core.animation:r,this.is_closed(n)?this.is_loaded(n)?(o=this.get_node(n,!0),l=this,o.length&&(r&&o.children(".jstree-children").length&&o.children(".jstree-children").stop(!0,!0),n.children.length&&!this._firstChild(o.children(".jstree-children")[0])&&this.draw_children(n),r?(this.trigger("before_open",{node:n}),o.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(r,function(){this.style.display="",l.element&&l.trigger("after_open",{node:n})})):(this.trigger("before_open",{node:n}),o[0].className=o[0].className.replace("jstree-closed","jstree-open"),o[0].setAttribute("aria-expanded",!0))),n.state.opened=!0,a&&a.call(this,n,!0),o.length||this.trigger("before_open",{node:n}),this.trigger("open_node",{node:n}),r&&o.length||this.trigger("after_open",{node:n}),!0):this.is_loading(n)?setTimeout(e.proxy(function(){this.open_node(n,a,r)},this),500):void this.load_node(n,function(e,t){return t?this.open_node(e,a,r):!!a&&a.call(this,e,!1)}):(a&&a.call(this,n,!1),!1))},_open_to:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var n,a,r=t.parents;for(n=0,a=r.length;n<a;n+=1)n!==e.jstree.root&&this.open_node(r[n],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(n,a){var r,i,s,o;if(e.isArray(n)){for(r=0,i=(n=n.slice()).length;r<i;r++)this.close_node(n[r],a);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&(!this.is_closed(n)&&(a=a===t?this.settings.core.animation:a,s=this,o=this.get_node(n,!0),n.state.opened=!1,this.trigger("close_node",{node:n}),void(o.length?a?o.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(a,function(){this.style.display="",o.children(".jstree-children").remove(),s.element&&s.trigger("after_close",{node:n})}):(o[0].className=o[0].className.replace("jstree-open","jstree-closed"),o.attr("aria-expanded",!1).children(".jstree-children").remove(),this.trigger("after_close",{node:n})):this.trigger("after_close",{node:n}))))},toggle_node:function(t){var n,a;if(e.isArray(t)){for(n=0,a=(t=t.slice()).length;n<a;n++)this.toggle_node(t[n]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,n,a){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var r,i,s,o=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0);if(!o.length){for(r=0,i=t.children_d.length;r<i;r++)this.is_closed(this._model.data[t.children_d[r]])&&(this._model.data[t.children_d[r]].state.opened=!0);return this.trigger("open_all",{node:t})}a=a||o,s=this,(o=this.is_closed(t)?o.find(".jstree-closed").addBack():o.find(".jstree-closed")).each(function(){s.open_node(this,function(e,t){t&&this.is_parent(e)&&this.open_all(e,n,a)},n||0)}),0===a.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(a)})},close_all:function(t,n){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var a,r,i=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0),s=this;for(i.length&&(i=this.is_open(t)?i.find(".jstree-open").addBack():i.find(".jstree-open"),e(i.get().reverse()).each(function(){s.close_node(this,n||0)})),a=0,r=t.children_d.length;a<r;a++)this._model.data[t.children_d[a]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(e){return(e=this.get_node(e))&&e.state&&e.state.disabled},enable_node:function(t){var n,a;if(e.isArray(t)){for(n=0,a=(t=t.slice()).length;n<a;n++)this.enable_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:t})},disable_node:function(t){var n,a;if(e.isArray(t)){for(n=0,a=(t=t.slice()).length;n<a;n++)this.disable_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:t})},is_hidden:function(e){return!0===(e=this.get_node(e)).state.hidden},hide_node:function(t,n){var a,r;if(e.isArray(t)){for(a=0,r=(t=t.slice()).length;a<r;a++)this.hide_node(t[a],!0);return n||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),n||this.redraw(),this.trigger("hide_node",{node:t}))},show_node:function(t,n){var a,r;if(e.isArray(t)){for(a=0,r=(t=t.slice()).length;a<r;a++)this.show_node(t[a],!0);return n||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),n||this.redraw(),this.trigger("show_node",{node:t}))},hide_all:function(t){var n,a=this._model.data,r=[];for(n in a)a.hasOwnProperty(n)&&n!==e.jstree.root&&!a[n].state.hidden&&(a[n].state.hidden=!0,r.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:r}),r},show_all:function(t){var n,a=this._model.data,r=[];for(n in a)a.hasOwnProperty(n)&&n!==e.jstree.root&&a[n].state.hidden&&(a[n].state.hidden=!1,r.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:r}),r},activate_node:function(e,n){if(this.is_disabled(e))return!1;if(n&&"object"==typeof n||(n={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&(!n.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(n.shiftKey){var a,r,i=this.get_node(e).id,s=this._data.core.last_clicked.id,o=this.get_node(this._data.core.last_clicked.parent).children,l=!1;for(a=0,r=o.length;a<r;a+=1)o[a]===i&&(l=!l),o[a]===s&&(l=!l),this.is_disabled(o[a])||!l&&o[a]!==i&&o[a]!==s?this.deselect_node(o[a],!0,n):this.is_hidden(o[a])||this.select_node(o[a],!0,!1,n);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:n})}else this.is_selected(e)?this.deselect_node(e,!1,n):this.select_node(e,!1,!1,n);else!this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,n):(this.deselect_all(!0),this.select_node(e,!1,!1,n),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:n})},hover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),n=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){n.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||!e.children(".jstree-hovered").length)return!1;e.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(e)})},select_node:function(t,n,a,r){var i,s,o;if(e.isArray(t)){for(s=0,o=(t=t.slice()).length;s<o;s++)this.select_node(t[s],n,a,r);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;i=this.get_node(t,!0),t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),a||(i=this._open_to(t)),i&&i.length&&i.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:r}),n||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:r}))},deselect_node:function(t,n,a){var r,i,s;if(e.isArray(t)){for(r=0,i=(t=t.slice()).length;r<i;r++)this.deselect_node(t[r],n,a);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;s=this.get_node(t,!0),t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),s.length&&s.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:a}),n||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:a}))},select_all:function(t){var n,a,r=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),n=0,a=this._data.core.selected.length;n<a;n++)this._model.data[this._data.core.selected[n]]&&(this._model.data[this._data.core.selected[n]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:r})},deselect_all:function(e){var t,n,a=this._data.core.selected.concat([]);for(t=0,n=this._data.core.selected.length;t<n;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:a}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:a})},is_selected:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.selected},get_selected:function(t){return t?e.map(this._data.core.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.core.selected.slice()},get_top_selected:function(t){var n,a,r,i,s=this.get_selected(!0),o={};for(n=0,a=s.length;n<a;n++)o[s[n].id]=s[n];for(n=0,a=s.length;n<a;n++)for(r=0,i=s[n].children_d.length;r<i;r++)o[s[n].children_d[r]]&&delete o[s[n].children_d[r]];for(n in s=[],o)o.hasOwnProperty(n)&&s.push(n);return t?e.map(s,e.proxy(function(e){return this.get_node(e)},this)):s},get_bottom_selected:function(t){var n,a,r=this.get_selected(!0),i=[];for(n=0,a=r.length;n<a;n++)r[n].children.length||i.push(r[n].id);return t?e.map(i,e.proxy(function(e){return this.get_node(e)},this)):i},get_state:function(){var t,n={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==e.jstree.root&&(this._model.data[t].state.loaded&&this.settings.core.loaded_state&&n.core.loaded.push(t),this._model.data[t].state.opened&&n.core.open.push(t),this._model.data[t].state.selected&&n.core.selected.push(t));return n},set_state:function(n,a){if(n){if(n.core&&n.core.selected&&n.core.initial_selection===t&&(n.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),n.core){var r,i;if(n.core.loaded)return this.settings.core.loaded_state&&e.isArray(n.core.loaded)&&n.core.loaded.length?this._load_nodes(n.core.loaded,function(e){delete n.core.loaded,this.set_state(n,a)}):(delete n.core.loaded,this.set_state(n,a)),!1;if(n.core.open)return e.isArray(n.core.open)&&n.core.open.length?this._load_nodes(n.core.open,function(e){this.open_node(e,!1,0),delete n.core.open,this.set_state(n,a)}):(delete n.core.open,this.set_state(n,a)),!1;if(n.core.scroll)return n.core.scroll&&n.core.scroll.left!==t&&this.element.scrollLeft(n.core.scroll.left),n.core.scroll&&n.core.scroll.top!==t&&this.element.scrollTop(n.core.scroll.top),delete n.core.scroll,this.set_state(n,a),!1;if(n.core.selected)return r=this,n.core.initial_selection!==t&&n.core.initial_selection!==this._data.core.selected.concat([]).sort().join(",")||(this.deselect_all(),e.each(n.core.selected,function(e,t){r.select_node(t,!1,!0)})),delete n.core.initial_selection,delete n.core.selected,this.set_state(n,a),!1;for(i in n)n.hasOwnProperty(i)&&"core"!==i&&-1===e.inArray(i,this.settings.plugins)&&delete n[i];if(e.isEmptyObject(n.core))return delete n.core,this.set_state(n,a),!1}return!e.isEmptyObject(n)||(n=null,a&&a.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(t,n){this._data.core.state=!0===n?{}:this.get_state(),n&&e.isFunction(n)&&(this._data.core.state=n.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var a=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+a+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,function(t,n){n&&(this.get_container_ul()[0].className=a,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var n=[],a=[],r=this._data.core.selected.concat([]);a.push(t.id),!0===t.state.opened&&n.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){a.push(this.id),n.push(this.id)}),this._load_nodes(a,e.proxy(function(e){this.open_node(n,!1,0),this.select_node(r),this.trigger("refresh_node",{node:t,nodes:e})},this),!1,!0)},set_id:function(t,n){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var a,r,i=this._model.data,s=t.id;for(n=n.toString(),i[t.parent].children[e.inArray(t.id,i[t.parent].children)]=n,a=0,r=t.parents.length;a<r;a++)i[t.parents[a]].children_d[e.inArray(t.id,i[t.parents[a]].children_d)]=n;for(a=0,r=t.children.length;a<r;a++)i[t.children[a]].parent=n;for(a=0,r=t.children_d.length;a<r;a++)i[t.children_d[a]].parents[e.inArray(t.id,i[t.children_d[a]].parents)]=n;return-1!==(a=e.inArray(t.id,this._data.core.selected))&&(this._data.core.selected[a]=n),(a=this.get_node(t.id,!0))&&(a.attr("id",n),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",n)),delete i[t.id],t.id=n,t.li_attr.id=n,i[n]=t,this.trigger("set_id",{node:t,new:t.id,old:s}),!0},get_text:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.text},set_text:function(t,n){var a,r;if(e.isArray(t)){for(a=0,r=(t=t.slice()).length;a<r;a++)this.set_text(t[a],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(t.text=n,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:n}),!0)},get_json:function(t,n,a){if(!(t=this.get_node(t||e.jstree.root)))return!1;n&&n.flat&&!a&&(a=[]);var r,i,s={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:e.extend(!0,{},t.li_attr),a_attr:e.extend(!0,{},t.a_attr),state:{},data:(!n||!n.no_data)&&e.extend(!0,e.isArray(t.data)?[]:{},t.data)};if(n&&n.flat?s.parent=t.parent:s.children=[],n&&n.no_state)delete s.state;else for(r in t.state)t.state.hasOwnProperty(r)&&(s.state[r]=t.state[r]);if(n&&n.no_li_attr&&delete s.li_attr,n&&n.no_a_attr&&delete s.a_attr,n&&n.no_id&&(delete s.id,s.li_attr&&s.li_attr.id&&delete s.li_attr.id,s.a_attr&&s.a_attr.id&&delete s.a_attr.id),n&&n.flat&&t.id!==e.jstree.root&&a.push(s),!n||!n.no_children)for(r=0,i=t.children.length;r<i;r++)n&&n.flat?this.get_json(t.children[r],n,a):s.children.push(this.get_json(t.children[r],n));return n&&n.flat?a:t.id===e.jstree.root?s.children:s},create_node:function(n,a,r,i,s){if(null===n&&(n=e.jstree.root),!(n=this.get_node(n)))return!1;if(!(r=r===t?"last":r).toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(n))return this.load_node(n,function(){this.create_node(n,a,r,i,!0)});var o,l,c,d;switch(a||(a={text:this.get_string("New node")}),(a="string"==typeof a?{text:a}:e.extend(!0,{},a)).text===t&&(a.text=this.get_string("New node")),n.id===e.jstree.root&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":o=this.get_node(n.parent),r=e.inArray(n.id,o.children),n=o;break;case"after":o=this.get_node(n.parent),r=e.inArray(n.id,o.children)+1,n=o;break;case"inside":case"first":r=0;break;case"last":r=n.children.length;break;default:r||(r=0)}if(r>n.children.length&&(r=n.children.length),a.id||(a.id=!0),!this.check("create_node",a,n,r))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===a.id&&delete a.id,!(a=this._parse_model_from_json(a,n.id,n.parents.concat())))return!1;for(o=this.get_node(a),(l=[]).push(a),l=l.concat(o.children_d),this.trigger("model",{nodes:l,parent:n.id}),n.children_d=n.children_d.concat(l),c=0,d=n.parents.length;c<d;c++)this._model.data[n.parents[c]].children_d=this._model.data[n.parents[c]].children_d.concat(l);for(a=o,o=[],c=0,d=n.children.length;c<d;c++)o[c>=r?c+1:c]=n.children[c];return o[r]=a.id,n.children=o,this.redraw_node(n,!0),this.trigger("create_node",{node:this.get_node(a),parent:n.id,position:r}),i&&i.call(this,this.get_node(a)),a.id},rename_node:function(t,n){var a,r,i;if(e.isArray(t)){for(a=0,r=(t=t.slice()).length;a<r;a++)this.rename_node(t[a],n);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(i=t.text,this.check("rename_node",t,this.get_parent(t),n)?(this.set_text(t,n),this.trigger("rename_node",{node:t,text:n,old:i}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(t){var n,a,r,i,s,o,l,c,d,h,u,p;if(e.isArray(t)){for(n=0,a=(t=t.slice()).length;n<a;n++)this.delete_node(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;if(r=this.get_node(t.parent),i=e.inArray(t.id,r.children),h=!1,!this.check("delete_node",t,r,i))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==i&&(r.children=e.vakata.array_remove(r.children,i)),(s=t.children_d.concat([])).push(t.id),o=0,l=t.parents.length;o<l;o++)this._model.data[t.parents[o]].children_d=e.vakata.array_filter(this._model.data[t.parents[o]].children_d,function(t){return-1===e.inArray(t,s)});for(c=0,d=s.length;c<d;c++)if(this._model.data[s[c]].state.selected){h=!0;break}for(h&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(t){return-1===e.inArray(t,s)})),this.trigger("delete_node",{node:t,parent:r.id}),h&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:r.id}),c=0,d=s.length;c<d;c++)delete this._model.data[s[c]];return-1!==e.inArray(this._data.core.focused,s)&&(this._data.core.focused=null,u=this.element[0].scrollTop,p=this.element[0].scrollLeft,r.id===e.jstree.root?this._model.data[e.jstree.root].children[0]&&this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(r,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=u,this.element[0].scrollLeft=p),this.redraw_node(r,!0),!0},check:function(t,n,a,r,i){n=n&&n.id?n:this.get_node(n),a=a&&a.id?a:this.get_node(a);var s=t.match(/^move_node|copy_node|create_node$/i)?a:n,o=this.settings.core.check_callback;if("move_node"===t||"copy_node"===t){if(!(i&&i.is_multi||"move_node"!==t||e.inArray(n.id,a.children)!==r))return this._data.core.last_error={error:"check",plugin:"core",id:"core_08",reason:"Moving node to its current position",data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!a||!a.id)&&a.id})},!1;if(!(i&&i.is_multi||n.id!==a.id&&("move_node"!==t||e.inArray(n.id,a.children)!==r)&&-1===e.inArray(a.id,n.children_d)))return this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!a||!a.id)&&a.id})},!1}return s&&s.data&&(s=s.data),s&&s.functions&&(!1===s.functions[t]||!0===s.functions[t])?(!1===s.functions[t]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!a||!a.id)&&a.id})}),s.functions[t]):!(!1===o||e.isFunction(o)&&!1===o.call(this,t,n,a,r,i)||o&&!1===o[t])||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!a||!a.id)&&a.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(n,a,r,i,s,o,l){var c,d,h,u,p,f,g,m,_,v,b,y,k,j;if(a=this.get_node(a),r=r===t?0:r,!a)return!1;if(!r.toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(a))return this.load_node(a,function(){this.move_node(n,a,r,i,!0,!1,l)});if(e.isArray(n)){if(1!==n.length){for(c=0,d=n.length;c<d;c++)(_=this.move_node(n[c],a,r,i,s,!1,l))&&(a=_,r="after");return this.redraw(),!0}n=n[0]}if(!(n=n&&n.id?n:this.get_node(n))||n.id===e.jstree.root)return!1;if(h=(n.parent||e.jstree.root).toString(),p=r.toString().match(/^(before|after)$/)&&a.id!==e.jstree.root?this.get_node(a.parent):a,g=!(f=l||(this._model.data[n.id]?this:e.jstree.reference(n.id)))||!f._id||this._id!==f._id,u=f&&f._id&&h&&f._model.data[h]&&f._model.data[h].children?e.inArray(n.id,f._model.data[h].children):-1,f&&f._id&&(n=f._model.data[n.id]),g)return!!(_=this.copy_node(n,a,r,i,s,!1,l))&&(f&&f.delete_node(n),_);switch(a.id===e.jstree.root&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":r=e.inArray(a.id,p.children);break;case"after":r=e.inArray(a.id,p.children)+1;break;case"inside":case"first":r=0;break;case"last":r=p.children.length;break;default:r||(r=0)}if(r>p.children.length&&(r=p.children.length),!this.check("move_node",n,p,r,{core:!0,origin:l,is_multi:f&&f._id&&f._id!==this._id,is_foreign:!f||!f._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(n.parent===p.id){for(m=p.children.concat(),-1!==(_=e.inArray(n.id,m))&&(m=e.vakata.array_remove(m,_),r>_&&r--),_=[],v=0,b=m.length;v<b;v++)_[v>=r?v+1:v]=m[v];_[r]=n.id,p.children=_,this._node_changed(p.id),this.redraw(p.id===e.jstree.root)}else{for((_=n.children_d.concat()).push(n.id),v=0,b=n.parents.length;v<b;v++){for(m=[],y=0,k=(j=f._model.data[n.parents[v]].children_d).length;y<k;y++)-1===e.inArray(j[y],_)&&m.push(j[y]);f._model.data[n.parents[v]].children_d=m}for(f._model.data[h].children=e.vakata.array_remove_item(f._model.data[h].children,n.id),v=0,b=p.parents.length;v<b;v++)this._model.data[p.parents[v]].children_d=this._model.data[p.parents[v]].children_d.concat(_);for(m=[],v=0,b=p.children.length;v<b;v++)m[v>=r?v+1:v]=p.children[v];for(m[r]=n.id,p.children=m,p.children_d.push(n.id),p.children_d=p.children_d.concat(n.children_d),n.parent=p.id,(_=p.parents.concat()).unshift(p.id),j=n.parents.length,n.parents=_,_=_.concat(),v=0,b=n.children_d.length;v<b;v++)this._model.data[n.children_d[v]].parents=this._model.data[n.children_d[v]].parents.slice(0,-1*j),Array.prototype.push.apply(this._model.data[n.children_d[v]].parents,_);h!==e.jstree.root&&p.id!==e.jstree.root||(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(h),this._node_changed(p.id)),o||this.redraw()}return i&&i.call(this,n,p,r),this.trigger("move_node",{node:n,parent:p.id,position:r,old_parent:h,old_position:u,is_multi:f&&f._id&&f._id!==this._id,is_foreign:!f||!f._id,old_instance:f,new_instance:this}),n.id},copy_node:function(n,a,r,i,s,o,l){var c,d,h,u,p,f,g,m,_,v;if(a=this.get_node(a),r=r===t?0:r,!a)return!1;if(!r.toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(a))return this.load_node(a,function(){this.copy_node(n,a,r,i,!0,!1,l)});if(e.isArray(n)){if(1!==n.length){for(c=0,d=n.length;c<d;c++)(u=this.copy_node(n[c],a,r,i,s,!0,l))&&(a=u,r="after");return this.redraw(),!0}n=n[0]}if(!(n=n&&n.id?n:this.get_node(n))||n.id===e.jstree.root)return!1;switch(m=(n.parent||e.jstree.root).toString(),_=r.toString().match(/^(before|after)$/)&&a.id!==e.jstree.root?this.get_node(a.parent):a,!(v=l||(this._model.data[n.id]?this:e.jstree.reference(n.id)))||!v._id||this._id!==v._id,v&&v._id&&(n=v._model.data[n.id]),a.id===e.jstree.root&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":r=e.inArray(a.id,_.children);break;case"after":r=e.inArray(a.id,_.children)+1;break;case"inside":case"first":r=0;break;case"last":r=_.children.length;break;default:r||(r=0)}if(r>_.children.length&&(r=_.children.length),!this.check("copy_node",n,_,r,{core:!0,origin:l,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(g=v?v.get_json(n,{no_id:!0,no_data:!0,no_state:!0}):n))return!1;if(!0===g.id&&delete g.id,!(g=this._parse_model_from_json(g,_.id,_.parents.concat())))return!1;for(u=this.get_node(g),n&&n.state&&!1===n.state.loaded&&(u.state.loaded=!1),(h=[]).push(g),h=h.concat(u.children_d),this.trigger("model",{nodes:h,parent:_.id}),p=0,f=_.parents.length;p<f;p++)this._model.data[_.parents[p]].children_d=this._model.data[_.parents[p]].children_d.concat(h);for(h=[],p=0,f=_.children.length;p<f;p++)h[p>=r?p+1:p]=_.children[p];return h[r]=u.id,_.children=h,_.children_d.push(u.id),_.children_d=_.children_d.concat(u.children_d),_.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(_.id),o||this.redraw(_.id===e.jstree.root),i&&i.call(this,u,_,r),this.trigger("copy_node",{node:u,original:n,parent:_.id,position:r,old_parent:m,old_position:v&&v._id&&m&&v._model.data[m]&&v._model.data[m].children?e.inArray(n.id,v._model.data[m].children):-1,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id,old_instance:v,new_instance:this}),u.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,s,o,l=[];for(s=0,o=t.length;s<o;s++)(n=this.get_node(t[s]))&&n.id&&n.id!==e.jstree.root&&l.push(n);if(!l.length)return!1;a=l,i=this,r="move_node",this.trigger("cut",{node:t})},copy:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,s,o,l=[];for(s=0,o=t.length;s<o;s++)(n=this.get_node(t[s]))&&n.id&&n.id!==e.jstree.root&&l.push(n);if(!l.length)return!1;a=l,i=this,r="copy_node",this.trigger("copy",{node:t})},get_buffer:function(){return{mode:r,node:a,inst:i}},can_paste:function(){return!1!==r&&!1!==a},paste:function(e,t){if(!((e=this.get_node(e))&&r&&r.match(/^(copy_node|move_node)$/)&&a))return!1;this[r](a,e,t,!1,!1,!1,i)&&this.trigger("paste",{parent:e.id,node:a,mode:r}),a=!1,r=!1,i=!1},clear_buffer:function(){a=!1,r=!1,i=!1,this.trigger("clear_buffer")},edit:function(t,n,a){var r,i,s,o,c,d,h,u,p,f=!1;return!!(t=this.get_node(t))&&(this.check("edit",t,this.get_parent(t))?(p=t,n="string"==typeof n?n:t.text,this.set_text(t,""),t=this._open_to(t),p.text=n,r=this._data.core.rtl,i=this.element.width(),this._data.core.focused=p.id,s=t.children(".jstree-anchor").focus(),o=e("<span>"),c=n,d=e("<div />",{css:{position:"absolute",top:"-200px",left:r?"0px":"-1000px",visibility:"hidden"}}).appendTo(l.body),h=e("<input />",{value:c,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:e.proxy(function(n){n.stopImmediatePropagation(),n.preventDefault();var r,i=o.children(".jstree-rename-input").val(),l=this.settings.core.force_text;""===i&&(i=c),d.remove(),o.replaceWith(s),o.remove(),c=l?c:e("<div></div>").append(e.parseHTML(c)).html(),t=this.get_node(t),this.set_text(t,c),(r=!!this.rename_node(t,l?e("<div></div>").text(i).text():e("<div></div>").append(e.parseHTML(i)).html()))||this.set_text(t,c),this._data.core.focused=p.id,setTimeout(e.proxy(function(){var e=this.get_node(p.id,!0);e.length&&(this._data.core.focused=p.id,e.children(".jstree-anchor").focus())},this),0),a&&a.call(this,p,r,f),h=null},this),keydown:function(e){var t=e.which;27===t&&(f=!0,this.value=c),27!==t&&13!==t&&37!==t&&38!==t&&39!==t&&40!==t&&32!==t||e.stopImmediatePropagation(),27!==t&&13!==t||(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){h.width(Math.min(d.text("pW"+this.value).width(),i))},keypress:function(e){if(13===e.which)return!1}}),u={fontFamily:s.css("fontFamily")||"",fontSize:s.css("fontSize")||"",fontWeight:s.css("fontWeight")||"",fontStyle:s.css("fontStyle")||"",fontStretch:s.css("fontStretch")||"",fontVariant:s.css("fontVariant")||"",letterSpacing:s.css("letterSpacing")||"",wordSpacing:s.css("wordSpacing")||""},o.attr("class",s.attr("class")).append(s.contents().clone()).append(h),s.replaceWith(o),d.css(u),h.css(u).width(Math.min(d.text("pW"+h[0].value).width(),i))[0].select(),void e(l).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(t){h&&t.target!==h&&e(h).blur()})):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(t,n){if(!t)return!1;if(!0===n){var a=this.settings.core.themes.dir;a||(a=e.jstree.path+"/themes"),n=a+"/"+t+"/style.css"}n&&-1===e.inArray(n,s)&&(e("head").append('<link rel="stylesheet" href="'+n+'" type="text/css" />'),s.push(n)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(n,a){var r,i,s,o;if(e.isArray(n)){for(r=0,i=(n=n.slice()).length;r<i;r++)this.set_icon(n[r],a);return!0}return!(!(n=this.get_node(n))||n.id===e.jstree.root)&&(o=n.icon,n.icon=!0===a||null===a||a===t||""===a||a,s=this.get_node(n,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===a?(s.removeClass("jstree-themeicon-custom "+o).css("background","").removeAttr("rel"),this.hide_icon(n)):!0===a||null===a||a===t||""===a?(s.removeClass("jstree-themeicon-custom "+o).css("background","").removeAttr("rel"),!1===o&&this.show_icon(n)):-1===a.indexOf("/")&&-1===a.indexOf(".")?(s.removeClass(o).css("background",""),s.addClass(a+" jstree-themeicon-custom").attr("rel",a),!1===o&&this.show_icon(n)):(s.removeClass(o).css("background",""),s.addClass("jstree-themeicon-custom").css("background","url('"+a+"') center center no-repeat").attr("rel",a),!1===o&&this.show_icon(n)),!0)},get_icon:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.icon},hide_icon:function(t){var n,a;if(e.isArray(t)){for(n=0,a=(t=t.slice()).length;n<a;n++)this.hide_icon(t[n]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root)&&(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(t){var n,a,r;if(e.isArray(t)){for(n=0,a=(t=t.slice()).length;n<a;n++)this.show_icon(t[n]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root)&&(r=this.get_node(t,!0),t.icon=!r.length||r.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),t.icon||(t.icon=!0),r.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},e.vakata={},e.vakata.attributes=function(t,n){t=e(t)[0];var a=n?{}:[];return t&&t.attributes&&e.each(t.attributes,function(t,r){-1===e.inArray(r.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==r.value&&""!==e.trim(r.value)&&(n?a[r.name]=r.value:a.push(r.name))}),a},e.vakata.array_unique=function(e){var n,a,r=[],i={};for(n=0,a=e.length;n<a;n++)i[e[n]]===t&&(r.push(e[n]),i[e[n]]=!0);return r},e.vakata.array_remove=function(e,t){return e.splice(t,1),e},e.vakata.array_remove_item=function(t,n){var a=e.inArray(n,t);return-1!==a?e.vakata.array_remove(t,a):t},e.vakata.array_filter=function(e,t,n,a,r){if(e.filter)return e.filter(t,n);for(r in a=[],e)~~r+""==r+""&&r>=0&&t.call(n,e[r],+r,e)&&a.push(e[r]);return a},e.jstree.plugins.changed=function(e,t){var n=[];this.trigger=function(e,a){var r,i;if(a||(a={}),"changed"===e.replace(".jstree","")){a.changed={selected:[],deselected:[]};var s={};for(r=0,i=n.length;r<i;r++)s[n[r]]=1;for(r=0,i=a.selected.length;r<i;r++)s[a.selected[r]]?s[a.selected[r]]=2:a.changed.selected.push(a.selected[r]);for(r=0,i=n.length;r<i;r++)1===s[n[r]]&&a.changed.deselected.push(n[r]);n=a.selected.slice()}t.trigger.call(this,e,a)},this.refresh=function(e,a){return n=[],t.refresh.apply(this,arguments)}};var c,d,h=l.createElement("I");h.className="jstree-icon jstree-checkbox",h.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},e.jstree.plugins.checkbox=function(n,a){this.bind=function(){a.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",e.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",e.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",e.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",e.proxy(function(e,t){var n,a,r=this._model.data,i=(r[t.parent],t.nodes);for(n=0,a=i.length;n<a;n++)r[i[n]].state.checked=r[i[n]].state.checked||r[i[n]].original&&r[i[n]].original.state&&r[i[n]].original.state.checked,r[i[n]].state.checked&&this._data.checkbox.selected.push(i[n])},this)),-1===this.settings.checkbox.cascade.indexOf("up")&&-1===this.settings.checkbox.cascade.indexOf("down")||this.element.on("model.jstree",e.proxy(function(t,n){var a,r,i,s,o,l,c=this._model.data,d=c[n.parent],h=n.nodes,u=[],p=this.settings.checkbox.cascade,f=this.settings.checkbox.tie_selection;if(-1!==p.indexOf("down"))if(d.state[f?"selected":"checked"]){for(r=0,i=h.length;r<i;r++)c[h[r]].state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected=this._data[f?"core":"checkbox"].selected.concat(h)}else for(r=0,i=h.length;r<i;r++)if(c[h[r]].state[f?"selected":"checked"]){for(s=0,o=c[h[r]].children_d.length;s<o;s++)c[c[h[r]].children_d[s]].state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected=this._data[f?"core":"checkbox"].selected.concat(c[h[r]].children_d)}if(-1!==p.indexOf("up")){for(r=0,i=d.children_d.length;r<i;r++)c[d.children_d[r]].children.length||u.push(c[d.children_d[r]].parent);for(s=0,o=(u=e.vakata.array_unique(u)).length;s<o;s++)for(d=c[u[s]];d&&d.id!==e.jstree.root;){for(a=0,r=0,i=d.children.length;r<i;r++)a+=c[d.children[r]].state[f?"selected":"checked"];if(a!==i)break;d.state[f?"selected":"checked"]=!0,this._data[f?"core":"checkbox"].selected.push(d.id),(l=this.get_node(d,!0))&&l.length&&l.attr("aria-selected",!0).children(".jstree-anchor").addClass(f?"jstree-clicked":"jstree-checked"),d=this.get_node(d.parent)}}this._data[f?"core":"checkbox"].selected=e.vakata.array_unique(this._data[f?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",e.proxy(function(t,n){var a,r,i,s,o=n.node,l=this._model.data,c=this.get_node(o.parent),d=this.settings.checkbox.cascade,h=this.settings.checkbox.tie_selection,u={},p=this._data[h?"core":"checkbox"].selected;for(a=0,r=p.length;a<r;a++)u[p[a]]=!0;if(-1!==d.indexOf("down")){var f=this._cascade_new_checked_state(o.id,!0),g=o.children_d.concat(o.id);for(a=0,r=g.length;a<r;a++)f.indexOf(g[a])>-1?u[g[a]]=!0:delete u[g[a]]}if(-1!==d.indexOf("up"))for(;c&&c.id!==e.jstree.root;){for(i=0,a=0,r=c.children.length;a<r;a++)i+=l[c.children[a]].state[h?"selected":"checked"];if(i!==r)break;c.state[h?"selected":"checked"]=!0,u[c.id]=!0,(s=this.get_node(c,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}for(a in p=[],u)u.hasOwnProperty(a)&&p.push(a);this._data[h?"core":"checkbox"].selected=p},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",e.proxy(function(t,n){var a,r,i,s=this.get_node(e.jstree.root),o=this._model.data;for(a=0,r=s.children_d.length;a<r;a++)(i=o[s.children_d[a]])&&i.original&&i.original.state&&i.original.state.undetermined&&(i.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",e.proxy(function(t,n){var a,r,i,s=n.node,o=(this.get_node(s,!0),this.settings.checkbox.cascade),l=this.settings.checkbox.tie_selection,c=this._data[l?"core":"checkbox"].selected,d=s.children_d.concat(s.id);if(-1!==o.indexOf("down")){var h=this._cascade_new_checked_state(s.id,!1);c=e.vakata.array_filter(c,function(e){return-1===d.indexOf(e)||h.indexOf(e)>-1})}if(-1!==o.indexOf("up")&&-1===c.indexOf(s.id)){for(a=0,r=s.parents.length;a<r;a++)(i=this._model.data[s.parents[a]]).state[l?"selected":"checked"]=!1,i&&i.original&&i.original.state&&i.original.state.undetermined&&(i.original.state.undetermined=!1),(i=this.get_node(s.parents[a],!0))&&i.length&&i.attr("aria-selected",!1).children(".jstree-anchor").removeClass(l?"jstree-clicked":"jstree-checked");c=e.vakata.array_filter(c,function(e){return-1===s.parents.indexOf(e)})}this._data[l?"core":"checkbox"].selected=c},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",e.proxy(function(t,n){for(var a,r,i,s,o=this.get_node(n.parent),l=this._model.data,c=this.settings.checkbox.tie_selection;o&&o.id!==e.jstree.root&&!o.state[c?"selected":"checked"];){for(i=0,a=0,r=o.children.length;a<r;a++)i+=l[o.children[a]].state[c?"selected":"checked"];if(!(r>0&&i===r))break;o.state[c?"selected":"checked"]=!0,this._data[c?"core":"checkbox"].selected.push(o.id),(s=this.get_node(o,!0))&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(c?"jstree-clicked":"jstree-checked"),o=this.get_node(o.parent)}},this)).on("move_node.jstree",e.proxy(function(t,n){var a,r,i,s,o,l=n.is_multi,c=n.old_parent,d=this.get_node(n.parent),h=this._model.data,u=this.settings.checkbox.tie_selection;if(!l)for(a=this.get_node(c);a&&a.id!==e.jstree.root&&!a.state[u?"selected":"checked"];){for(r=0,i=0,s=a.children.length;i<s;i++)r+=h[a.children[i]].state[u?"selected":"checked"];if(!(s>0&&r===s))break;a.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(a.id),(o=this.get_node(a,!0))&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"),a=this.get_node(a.parent)}for(a=d;a&&a.id!==e.jstree.root;){for(r=0,i=0,s=a.children.length;i<s;i++)r+=h[a.children[i]].state[u?"selected":"checked"];if(r===s)a.state[u?"selected":"checked"]||(a.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(a.id),(o=this.get_node(a,!0))&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"));else{if(!a.state[u?"selected":"checked"])break;a.state[u?"selected":"checked"]=!1,this._data[u?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[u?"core":"checkbox"].selected,a.id),(o=this.get_node(a,!0))&&o.length&&o.attr("aria-selected",!1).children(".jstree-anchor").removeClass(u?"jstree-clicked":"jstree-checked")}a=this.get_node(a.parent)}},this))},this.get_undetermined=function(n){if(-1===this.settings.checkbox.cascade.indexOf("undetermined"))return[];var a,r,i,s,o={},l=this._model.data,c=this.settings.checkbox.tie_selection,d=this._data[c?"core":"checkbox"].selected,h=[],u=this,p=[];for(a=0,r=d.length;a<r;a++)if(l[d[a]]&&l[d[a]].parents)for(i=0,s=l[d[a]].parents.length;i<s&&o[l[d[a]].parents[i]]===t;i++)l[d[a]].parents[i]!==e.jstree.root&&(o[l[d[a]].parents[i]]=!0,h.push(l[d[a]].parents[i]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var n,c=u.get_node(this);if(c)if(c.state.loaded){for(a=0,r=c.children_d.length;a<r;a++)if(!(n=l[c.children_d[a]]).state.loaded&&n.original&&n.original.state&&n.original.state.undetermined&&!0===n.original.state.undetermined)for(o[n.id]===t&&n.id!==e.jstree.root&&(o[n.id]=!0,h.push(n.id)),i=0,s=n.parents.length;i<s;i++)o[n.parents[i]]===t&&n.parents[i]!==e.jstree.root&&(o[n.parents[i]]=!0,h.push(n.parents[i]))}else if(c.original&&c.original.state&&c.original.state.undetermined&&!0===c.original.state.undetermined)for(o[c.id]===t&&c.id!==e.jstree.root&&(o[c.id]=!0,h.push(c.id)),i=0,s=c.parents.length;i<s;i++)o[c.parents[i]]===t&&c.parents[i]!==e.jstree.root&&(o[c.parents[i]]=!0,h.push(c.parents[i]))}),a=0,r=h.length;a<r;a++)l[h[a]].state[c?"selected":"checked"]||p.push(n?l[h[a]]:h[a]);return p},this._undetermined=function(){if(null!==this.element){var e,t,n,a=this.get_undetermined(!1);for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),e=0,t=a.length;e<t;e++)(n=this.get_node(a[e],!0))&&n.length&&n.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(t,n,r,i){if(t=a.redraw_node.apply(this,arguments)){var s,o,l=null,c=null;for(s=0,o=t.childNodes.length;s<o;s++)if(t.childNodes[s]&&t.childNodes[s].className&&-1!==t.childNodes[s].className.indexOf("jstree-anchor")){l=t.childNodes[s];break}l&&(!this.settings.checkbox.tie_selection&&this._model.data[t.id].state.checked&&(l.className+=" jstree-checked"),c=h.cloneNode(!1),this._model.data[t.id].state.checkbox_disabled&&(c.className+=" jstree-checkbox-disabled"),l.insertBefore(c,l.childNodes[0]))}return r||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)),t},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var n,a,r=this.settings.checkbox.cascade,i=this.settings.checkbox.tie_selection,s=this._data[i?"core":"checkbox"].selected,o=this._model.data;if(!t||!0===t.state[i?"selected":"checked"]||-1===r.indexOf("undetermined")||-1===r.indexOf("down")&&-1===r.indexOf("up"))return!1;if(!t.state.loaded&&!0===t.original.state.undetermined)return!0;for(n=0,a=t.children_d.length;n<a;n++)if(-1!==e.inArray(t.children_d[n],s)||!o[t.children_d[n]].state.loaded&&o[t.children_d[n]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(t){var n,a,r;if(e.isArray(t)){for(n=0,a=(t=t.slice()).length;n<a;n++)this.disable_checkbox(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;r=this.get_node(t,!0),t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t}))},this.enable_checkbox=function(t){var n,a,r;if(e.isArray(t)){for(n=0,a=(t=t.slice()).length;n<a;n++)this.enable_checkbox(t[n]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;r=this.get_node(t,!0),t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t}))},this.activate_node=function(t,n){return!e(n.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(n.target).hasClass("jstree-checkbox"))&&(n.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(n.target).hasClass("jstree-checkbox")?a.activate_node.call(this,t,n):!this.is_disabled(t)&&(this.is_checked(t)?this.uncheck_node(t,n):this.check_node(t,n),void this.trigger("activate_node",{node:this.get_node(t)})))},this._cascade_new_checked_state=function(e,t){var n,a,r,i=this.settings.checkbox.tie_selection,s=this._model.data[e],o=[],l=[];if(!this.settings.checkbox.cascade_to_disabled&&s.state.disabled||!this.settings.checkbox.cascade_to_hidden&&s.state.hidden)r=this.get_checked_descendants(e),s.state[i?"selected":"checked"]&&r.push(s.id),o=o.concat(r);else{if(s.children)for(n=0,a=s.children.length;n<a;n++){var c=s.children[n];r=this._cascade_new_checked_state(c,t),o=o.concat(r),r.indexOf(c)>-1&&l.push(c)}var d=this.get_node(s,!0),h=l.length>0&&l.length<s.children.length;s.original&&s.original.state&&s.original.state.undetermined&&(s.original.state.undetermined=h),h?(s.state[i?"selected":"checked"]=!1,d.attr("aria-selected",!1).children(".jstree-anchor").removeClass(i?"jstree-clicked":"jstree-checked")):t&&l.length===s.children.length?(s.state[i?"selected":"checked"]=t,o.push(s.id),d.attr("aria-selected",!0).children(".jstree-anchor").addClass(i?"jstree-clicked":"jstree-checked")):(s.state[i?"selected":"checked"]=!1,d.attr("aria-selected",!1).children(".jstree-anchor").removeClass(i?"jstree-clicked":"jstree-checked"))}return o},this.get_checked_descendants=function(t){var n=this,a=n.settings.checkbox.tie_selection,r=n._model.data[t];return e.vakata.array_filter(r.children_d,function(e){return n._model.data[e].state[a?"selected":"checked"]})},this.check_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,n);var a,r,i;if(e.isArray(t)){for(r=0,i=(t=t.slice()).length;r<i;r++)this.check_node(t[r],n);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;a=this.get_node(t,!0),t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),a&&a.length&&a.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:n}))},this.uncheck_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,n);var a,r,i;if(e.isArray(t)){for(a=0,r=(t=t.slice()).length;a<r;a++)this.uncheck_node(t[a],n);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;i=this.get_node(t,!0),t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),i.length&&i.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:n}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var t,n;this._data.checkbox.selected.concat([]);for(this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),t=0,n=this._data.checkbox.selected.length;t<n;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,n=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;e<t;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:n})},this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.checked},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.checkbox.selected.slice()},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var n,a,r,i,s=this.get_checked(!0),o={};for(n=0,a=s.length;n<a;n++)o[s[n].id]=s[n];for(n=0,a=s.length;n<a;n++)for(r=0,i=s[n].children_d.length;r<i;r++)o[s[n].children_d[r]]&&delete o[s[n].children_d[r]];for(n in s=[],o)o.hasOwnProperty(n)&&s.push(n);return t?e.map(s,e.proxy(function(e){return this.get_node(e)},this)):s},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var n,a,r=this.get_checked(!0),i=[];for(n=0,a=r.length;n<a;n++)r[n].children.length||i.push(r[n].id);return t?e.map(i,e.proxy(function(e){return this.get_node(e)},this)):i},this.load_node=function(t,n){var r,i,s;if(!e.isArray(t)&&!this.settings.checkbox.tie_selection&&(s=this.get_node(t))&&s.state.loaded)for(r=0,i=s.children_d.length;r<i;r++)this._model.data[s.children_d[r]].state.checked&&(!0,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,s.children_d[r]));return a.load_node.apply(this,arguments)},this.get_state=function(){var e=a.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?e:(e.checkbox=this._data.checkbox.selected.slice(),e)},this.set_state=function(t,n){var r=a.set_state.apply(this,arguments);if(r&&t.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var i=this;e.each(t.checkbox,function(e,t){i.check_node(t)})}return delete t.checkbox,this.set_state(t,n),!1}return r},this.refresh=function(e,t){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),a.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(e,t){this.activate_node=function(e,n){if(this.settings.conditionalselect.call(this,this.get_node(e),n))return t.activate_node.call(this,e,n)}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,n){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var n=e.jstree.reference(t.reference),a=n.get_node(t.reference);n.create_node(a,{},"last",function(e){try{n.edit(e)}catch(t){setTimeout(function(){n.edit(e)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var n=e.jstree.reference(t.reference),a=n.get_node(t.reference);n.edit(a)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var n=e.jstree.reference(t.reference),a=n.get_node(t.reference);n.is_selected(a)?n.delete_node(n.get_selected()):n.delete_node(a)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var n=e.jstree.reference(t.reference),a=n.get_node(t.reference);n.is_selected(a)?n.cut(n.get_top_selected()):n.cut(a)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var n=e.jstree.reference(t.reference),a=n.get_node(t.reference);n.is_selected(a)?n.copy(n.get_top_selected()):n.copy(a)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var n=e.jstree.reference(t.reference),a=n.get_node(t.reference);n.paste(a)}}}}}}},e.jstree.plugins.contextmenu=function(n,a){this.bind=function(){a.bind.call(this);var t,n,r=0,i=null;this.element.on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-contextmenu")},this)).on("contextmenu.jstree",".jstree-anchor",e.proxy(function(e,t){"input"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),r=e.ctrlKey?+new Date:0,(t||i)&&(r=+new Date+1e4),i&&clearTimeout(i),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e))},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){this._data.contextmenu.visible&&(!r||+new Date-r>250)&&e.vakata.context.hide(),r=0},this)).on("touchstart.jstree",".jstree-anchor",function(a){a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]&&(t=a.originalEvent.changedTouches[0].clientX,n=a.originalEvent.changedTouches[0].clientY,i=setTimeout(function(){e(a.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(a){i&&a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]&&(Math.abs(t-a.originalEvent.changedTouches[0].clientX)>10||Math.abs(n-a.originalEvent.changedTouches[0].clientY)>10)&&(clearTimeout(i),e.vakata.context.hide())}).on("touchend.vakata.jstree",function(e){i&&clearTimeout(i)}),e(l).on("context_hide.vakata.jstree",e.proxy(function(t,n){this._data.contextmenu.visible=!1,e(n.reference).removeClass("jstree-context")},this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),a.teardown.call(this)},this.show_contextmenu=function(n,a,r,i){if(!(n=this.get_node(n))||n.id===e.jstree.root)return!1;var s=this.settings.contextmenu,o=this.get_node(n,!0).children(".jstree-anchor"),l=!1,c=!1;(s.show_at_node||a===t||r===t)&&(l=o.offset(),a=l.left,r=l.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(n)&&this.activate_node(n,i),c=s.items,e.isFunction(c)&&(c=c.call(this,n,e.proxy(function(e){this._show_contextmenu(n,a,r,e)},this))),e.isPlainObject(c)&&this._show_contextmenu(n,a,r,c)},this._show_contextmenu=function(t,n,a,r){var i=this.get_node(t,!0).children(".jstree-anchor");e(l).one("context_show.vakata.jstree",e.proxy(function(t,n){var a="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(n.element).addClass(a),i.addClass("jstree-context")},this)),this._data.contextmenu.visible=!0,e.vakata.context.show(i,{x:n,y:a},r),this.trigger("show_contextmenu",{node:t,x:n,y:a})}},function(e){var t=!1,n={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(l).triggerHandler("context_"+t+".vakata",{reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_execute:function(t){return!(!(t=n.items[t])||t._disabled&&(!e.isFunction(t._disabled)||t._disabled({item:t,reference:n.reference,element:n.element}))||!t.action)&&t.action.call(null,{item:t,reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_parse:function(t,a){if(!t)return!1;a||(n.html="",n.items=[]);var r,i="",s=!1;return a&&(i+="<ul>"),e.each(t,function(t,a){if(!a)return!0;n.items.push(a),!s&&a.separator_before&&(i+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),s=!1,i+="<li class='"+(a._class||"")+(!0===a._disabled||e.isFunction(a._disabled)&&a._disabled({item:a,reference:n.reference,element:n.element})?" vakata-contextmenu-disabled ":"")+"' "+(a.shortcut?" data-shortcut='"+a.shortcut+"' ":"")+">",i+="<a href='#' rel='"+(n.items.length-1)+"' "+(a.title?"title='"+a.title+"'":"")+">",e.vakata.context.settings.icons&&(i+="<i ",a.icon&&(-1!==a.icon.indexOf("/")||-1!==a.icon.indexOf(".")?i+=" style='background:url(\""+a.icon+"\") center center no-repeat' ":i+=" class='"+a.icon+"' "),i+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),i+=(e.isFunction(a.label)?a.label({item:t,reference:n.reference,element:n.element}):a.label)+(a.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+a.shortcut+'">'+(a.shortcut_label||"")+"</span>":"")+"</a>",a.submenu&&(r=e.vakata.context._parse(a.submenu,!0))&&(i+=r),i+="</li>",a.separator_after&&(i+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",s=!0)}),i=i.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),a&&(i+="</ul>"),a||(n.html=i,e.vakata.context._trigger("parse")),i.length>10&&i},_show_submenu:function(n){if((n=e(n)).length&&n.children("ul").length){var a=n.children("ul"),r=n.offset().left,i=r+n.outerWidth(),s=n.offset().top,o=a.width(),l=a.height(),c=e(window).width()+e(window).scrollLeft(),d=e(window).height()+e(window).scrollTop();t?n[i-(o+10+n.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):n[i+o>c&&r>c-i?"addClass":"removeClass"]("vakata-context-right"),s+l+10>d&&a.css("bottom","-1px"),n.hasClass("vakata-context-right")?r<o&&a.css("margin-right",r-o):c-i<o&&a.css("margin-left",c-i-o),a.show()}},show:function(a,r,i){var s,o,c,d,h,u,p,f;switch(n.element&&n.element.length&&n.element.width(""),!0){case!r&&!a:return!1;case!!r&&!!a:n.reference=a,n.position_x=r.x,n.position_y=r.y;break;case!r&&!!a:n.reference=a,s=a.offset(),n.position_x=s.left+a.outerHeight(),n.position_y=s.top;break;case!!r&&!a:n.position_x=r.x,n.position_y=r.y}a&&!i&&e(a).data("vakata_contextmenu")&&(i=e(a).data("vakata_contextmenu")),e.vakata.context._parse(i)&&n.element.html(n.html),n.items.length&&(n.element.appendTo(l.body),o=n.element,c=n.position_x,d=n.position_y,h=o.width(),u=o.height(),p=e(window).width()+e(window).scrollLeft(),f=e(window).height()+e(window).scrollTop(),t&&(c-=o.outerWidth()-e(a).outerWidth())<e(window).scrollLeft()+20&&(c=e(window).scrollLeft()+20),c+h+20>p&&(c=p-(h+20)),d+u+20>f&&(d=f-(u+20)),n.element.css({left:c,top:d}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),n.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){n.is_visible&&(n.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),n.is_visible=!1,e.vakata.context._trigger("hide"))}},e(function(){t="rtl"===e(l.body).css("direction");var a=!1;n.element=e("<ul class='vakata-context'></ul>"),n.element.on("mouseenter","li",function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(a&&clearTimeout(a),n.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))}).on("mouseleave","li",function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(a=setTimeout(function(){e.vakata.context.hide()},e.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(t){t.preventDefault(),e(this).blur().parent().hasClass("vakata-context-disabled")||!1===e.vakata.context._execute(e(this).attr("rel"))||e.vakata.context.hide()}).on("keydown","a",function(t){var a=null;switch(t.which){case 13:case 32:t.type="click",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:n.is_visible&&(n.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 38:n.is_visible&&((a=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length||(a=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),a.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 39:n.is_visible&&(n.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 40:n.is_visible&&((a=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length||(a=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),a.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}}).on("keydown",function(e){e.preventDefault();var t=n.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.click()}),e(l).on("mousedown.vakata.jstree",function(t){n.is_visible&&n.element[0]!==t.target&&!e.contains(n.element[0],t.target)&&e.vakata.context.hide()}).on("context_show.vakata.jstree",function(e,a){n.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&n.element.addClass("vakata-context-rtl").css("direction","rtl"),n.element.find("ul").hide().end()})})}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1},e.jstree.plugins.dnd=function(t,n){this.init=function(e,t){n.init.call(this,e,t),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in l.createElement("span")},this.bind=function(){n.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",e.proxy(function(t){if(this.settings.dnd.large_drag_target&&e(t.target).closest(".jstree-node")[0]!==t.currentTarget)return!0;if("touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var n=this.get_node(t.target),a=this.is_selected(n)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,r=a>1?a+" "+this.get_string("nodes"):this.get_text(t.currentTarget);if(this.settings.core.force_text&&(r=e.vakata.html.escape(r)),n&&n.id&&n.id!==e.jstree.root&&(1===t.which||"touchstart"===t.type||"dragstart"===t.type)&&(!0===this.settings.dnd.is_draggable||e.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,a>1?this.get_top_selected(!0):[n],t))){if(c={jstree:!0,origin:this,obj:this.get_node(n,!0),nodes:a>1?this.get_top_selected():[n.id]},d=t.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,c,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+r+'<ins class="jstree-copy" style="display:none;">+</ins></div>');e.vakata.dnd._trigger("start",t,{helper:e(),element:d,data:c})}},this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(t){return t.preventDefault(),e.vakata.dnd._trigger("move",t,{helper:e(),element:d,data:c}),!1}).on("drop.jstree",e.proxy(function(t){return t.preventDefault(),e.vakata.dnd._trigger("stop",t,{helper:e(),element:d,data:c}),!1},this))},this.redraw_node=function(e,t,a,r){if((e=n.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)e.setAttribute("draggable",!0);else{var i,s,o=null;for(i=0,s=e.childNodes.length;i<s;i++)if(e.childNodes[i]&&e.childNodes[i].className&&-1!==e.childNodes[i].className.indexOf("jstree-anchor")){o=e.childNodes[i];break}o&&o.setAttribute("draggable",!0)}return e}},e(function(){var n=!1,a=!1,r=!1,i=!1,s=e('<div id="jstree-marker">&#160;</div>').hide();e(l).on("dragover.vakata.jstree",function(t){d&&e.vakata.dnd._trigger("move",t,{helper:e(),element:d,data:c})}).on("drop.vakata.jstree",function(t){d&&(e.vakata.dnd._trigger("stop",t,{helper:e(),element:d,data:c}),d=null,c=null)}).on("dnd_start.vakata.jstree",function(e,t){n=!1,r=!1,t&&t.data&&t.data.jstree&&s.appendTo(l.body)}).on("dnd_move.vakata.jstree",function(o,l){var c=l.event.target!==r.target;if(i&&(l.event&&"dragover"===l.event.type&&!c||clearTimeout(i)),l&&l.data&&l.data.jstree&&(!l.event.target.id||"jstree-marker"!==l.event.target.id)){r=l.event;var d,h,u,p,f,g,m,_,v,b,y,k,j,x,w,T,E=e.jstree.reference(l.event.target),N=!1,O=!1,C=!1;if(E&&E._data&&E._data.dnd)if(s.attr("class","jstree-"+E.get_theme()+(E.settings.core.themes.responsive?" jstree-dnd-responsive":"")),w=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey)),l.helper.children().attr("class","jstree-"+E.get_theme()+" jstree-"+E.get_theme()+"-"+E.get_theme_variant()+" "+(E.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[w?"show":"hide"](),l.event.target!==E.element[0]&&l.event.target!==E.get_container_ul()[0]||0!==E.get_container_ul().children().length){if((N=E.settings.dnd.large_drop_target?e(l.event.target).closest(".jstree-node").children(".jstree-anchor"):e(l.event.target).closest(".jstree-anchor"))&&N.length&&N.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(O=N.offset(),C=(l.event.pageY!==t?l.event.pageY:l.event.originalEvent.pageY)-O.top,u=N.outerHeight(),g=C<u/3?["b","i","a"]:C>u-u/3?["a","i","b"]:C>u/2?["i","a","b"]:["i","b","a"],e.each(g,function(t,r){switch(r){case"b":d=O.left-6,h=O.top,p=E.get_parent(N),f=N.parent().index();break;case"i":j=E.settings.dnd.inside_pos,x=E.get_node(N.parent()),d=O.left-2,h=O.top+u/2+1,p=x.id,f="first"===j?0:"last"===j?x.children.length:Math.min(j,x.children.length);break;case"a":d=O.left-6,h=O.top+u,p=E.get_parent(N),f=N.parent().index()+1}for(m=!0,_=0,v=l.data.nodes.length;_<v;_++)if(b=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",y=f,"move_node"===b&&"a"===r&&l.data.origin&&l.data.origin===E&&p===E.get_parent(l.data.nodes[_])&&(k=E.get_node(p),y>e.inArray(l.data.nodes[_],k.children)&&(y-=1)),!(m=m&&(E&&E.settings&&E.settings.dnd&&!1===E.settings.dnd.check_while_dragging||E.check(b,l.data.origin&&l.data.origin!==E?l.data.origin.get_node(l.data.nodes[_]):l.data.nodes[_],p,y,{dnd:!0,ref:E.get_node(N.parent()),pos:r,origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==E,is_foreign:!l.data.origin})))){E&&E.last_error&&(a=E.last_error());break}var o,C;if("i"===r&&N.parent().is(".jstree-closed")&&E.settings.dnd.open_timeout&&(l.event&&"dragover"===l.event.type&&!c||(i&&clearTimeout(i),i=setTimeout((o=E,C=N,function(){o.open_node(C)}),E.settings.dnd.open_timeout))),m)return(T=E.get_node(p,!0)).hasClass(".jstree-dnd-parent")||(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),T.addClass("jstree-dnd-parent")),n={ins:E,par:p,pos:"i"!==r||"last"!==j||0!==f||E.is_loaded(x)?f:"last"},s.css({left:d+"px",top:h+"px"}).show(),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=w?"copy":"move"),a={},g=!0,!1}),!0===g))return}else{for(m=!0,_=0,v=l.data.nodes.length;_<v&&(m=m&&E.check(l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",l.data.origin&&l.data.origin!==E?l.data.origin.get_node(l.data.nodes[_]):l.data.nodes[_],e.jstree.root,"last",{dnd:!0,ref:E.get_node(e.jstree.root),pos:"i",origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==E,is_foreign:!l.data.origin}));_++);if(m)return n={ins:E,par:e.jstree.root,pos:"last"},s.hide(),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=w?"copy":"move"))}e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),n=!1,l.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),l.event.originalEvent&&l.event.originalEvent.dataTransfer,s.hide()}}).on("dnd_scroll.vakata.jstree",function(e,t){t&&t.data&&t.data.jstree&&(s.hide(),n=!1,r=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(t,o){if(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),i&&clearTimeout(i),o&&o.data&&o.data.jstree){s.hide().detach();var l,c,d=[];if(n){for(l=0,c=o.data.nodes.length;l<c;l++)d[l]=o.data.origin?o.data.origin.get_node(o.data.nodes[l]):o.data.nodes[l];n.ins[o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(o.event.metaKey||o.event.ctrlKey))?"copy_node":"move_node"](d,n.par,n.pos,!1,!1,!1,o.data.origin)}else(l=e(o.event.target).closest(".jstree")).length&&a&&a.error&&"check"===a.error&&(l=l.jstree(!0))&&l.settings.core.error.call(this,a);r=!1,n=!1}}).on("keyup.jstree keydown.jstree",function(t,o){(o=e.vakata.dnd._get())&&o.data&&o.data.jstree&&("keyup"===t.type&&27===t.which?(i&&clearTimeout(i),n=!1,a=!1,r=!1,i=!1,s.hide().detach(),e.vakata.dnd._clean()):(o.helper.find(".jstree-copy").first()[o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),r&&(r.metaKey=t.metaKey,r.ctrlKey=t.ctrlKey,e.vakata.dnd._trigger("move",r))))})}),function(e){e.vakata.html={div:e("<div />"),escape:function(t){return e.vakata.html.div.text(t).html()},strip:function(t){return e.vakata.html.div.empty().append(e.parseHTML(t)).text()}};var n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(n,a,r){r===t&&(r=e.vakata.dnd._get()),r.event=a,e(l).triggerHandler("dnd_"+n+".vakata",r)},_get:function(){return{data:n.data,element:n.element,helper:n.helper}},_clean:function(){n.helper&&n.helper.remove(),n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},e(l).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(t){if(!n.scroll_e||!n.scroll_l&&!n.scroll_t)return n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),!1;if(!n.scroll_i)return n.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(!0===t)return!1;var a=n.scroll_e.scrollTop(),r=n.scroll_e.scrollLeft();n.scroll_e.scrollTop(a+n.scroll_t*e.vakata.dnd.settings.scroll_speed),n.scroll_e.scrollLeft(r+n.scroll_l*e.vakata.dnd.settings.scroll_speed),a===n.scroll_e.scrollTop()&&r===n.scroll_e.scrollLeft()||e.vakata.dnd._trigger("scroll",n.scroll_e)},start:function(t,a,r){"touchstart"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag&&e.vakata.dnd.stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.touchAction="none",t.currentTarget.style.msTouchAction="none",t.currentTarget.style.MozUserSelect="none")}catch(e){}return n.init_x=t.pageX,n.init_y=t.pageY,n.data=a,n.is_down=!0,n.element=t.currentTarget,n.target=t.target,n.is_touch="touchstart"===t.type,!1!==r&&(n.helper=e("<div id='vakata-dnd'></div>").html(r).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(l).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(t){if("touchmove"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_down){if(!n.is_drag){if(!(Math.abs(t.pageX-n.init_x)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(t.pageY-n.init_y)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;n.helper&&(n.helper.appendTo(l.body),n.helper_w=n.helper.outerWidth()),n.is_drag=!0,e(n.target).one("click.vakata",!1),e.vakata.dnd._trigger("start",t)}var a=!1,r=!1,i=!1,s=!1,o=!1,c=!1,d=!1,h=!1,u=!1,p=!1;return n.scroll_t=0,n.scroll_l=0,n.scroll_e=!1,e(e(t.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var a=e(this),r=a.offset();if(this.scrollHeight>this.offsetHeight&&(r.top+a.height()-t.pageY<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),t.pageY-r.top<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(r.left+a.width()-t.pageX<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),t.pageX-r.left<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1)),n.scroll_t||n.scroll_l)return n.scroll_e=e(this),!1}),n.scroll_e||(a=e(l),r=e(window),i=a.height(),s=r.height(),o=a.width(),c=r.width(),d=a.scrollTop(),h=a.scrollLeft(),i>s&&t.pageY-d<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1),i>s&&s-(t.pageY-d)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),o>c&&t.pageX-h<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1),o>c&&c-(t.pageX-h)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),(n.scroll_t||n.scroll_l)&&(n.scroll_e=a)),n.scroll_e&&e.vakata.dnd._scroll(!0),n.helper&&(u=parseInt(t.pageY+e.vakata.dnd.settings.helper_top,10),p=parseInt(t.pageX+e.vakata.dnd.settings.helper_left,10),i&&u+25>i&&(u=i-50),o&&p+n.helper_w>o&&(p=o-(n.helper_w+2)),n.helper.css({left:p+"px",top:u+"px"})),e.vakata.dnd._trigger("move",t),!1}},stop:function(t){if("touchend"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag)t.target!==n.target&&e(n.target).off("click.vakata"),e.vakata.dnd._trigger("stop",t);else if("touchend"===t.type&&t.target===n.target){var a=setTimeout(function(){e(t.target).click()},100);e(t.target).one("click",function(){a&&clearTimeout(a)})}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(t,n){this.init=function(e,t){this._data.massload={},n.init.call(this,e,t)},this._load_nodes=function(t,a,r,i){var s,o,l,c=this.settings.massload,d=(JSON.stringify(t),[]),h=this._model.data;if(!r){for(s=0,o=t.length;s<o;s++)h[t[s]]&&(h[t[s]].state.loaded||h[t[s]].state.failed)&&!i||(d.push(t[s]),(l=this.get_node(t[s],!0))&&l.length&&l.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},d.length){if(e.isFunction(c))return c.call(this,d,e.proxy(function(e){var s,o;if(e)for(s in e)e.hasOwnProperty(s)&&(this._data.massload[s]=e[s]);for(s=0,o=t.length;s<o;s++)(l=this.get_node(t[s],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,a,r,i)},this));if("object"==typeof c&&c&&c.url)return c=e.extend(!0,{},c),e.isFunction(c.url)&&(c.url=c.url.call(this,d)),e.isFunction(c.data)&&(c.data=c.data.call(this,d)),e.ajax(c).done(e.proxy(function(e,s,o){var c,d;if(e)for(c in e)e.hasOwnProperty(c)&&(this._data.massload[c]=e[c]);for(c=0,d=t.length;c<d;c++)(l=this.get_node(t[c],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,a,r,i)},this)).fail(e.proxy(function(e){n._load_nodes.call(this,t,a,r,i)},this))}}return n._load_nodes.call(this,t,a,r,i)},this._load_node=function(t,a){var r,i=this._data.massload[t.id],s=null;return i?(s=this["string"==typeof i?"_append_html_data":"_append_json_data"](t,"string"==typeof i?e(e.parseHTML(i)).filter(function(){return 3!==this.nodeType}):i,function(e){a.call(this,e)}),(r=this.get_node(t.id,!0))&&r.length&&r.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[t.id],s):n._load_node.call(this,t,a)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(n,a){this.bind=function(){a.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",e.proxy(function(t,n){if(this._data.search.som&&n.res.length){var a,r,i,s,o=this._model.data,l=[];for(a=0,r=n.res.length;a<r;a++)if(o[n.res[a]]&&!o[n.res[a]].state.hidden&&(l.push(n.res[a]),l=l.concat(o[n.res[a]].parents),this._data.search.smc))for(i=0,s=o[n.res[a]].children_d.length;i<s;i++)o[o[n.res[a]].children_d[i]]&&!o[o[n.res[a]].children_d[i]].state.hidden&&l.push(o[n.res[a]].children_d[i]);l=e.vakata.array_remove_item(e.vakata.array_unique(l),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(l,!0),this.redraw(!0)}},this)).on("clear_search.jstree",e.proxy(function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(n,a,r,i,s,o){if(!1===n||""===e.trim(n.toString()))return this.clear_search();i=(i=this.get_node(i))&&i.id?i.id:null,n=n.toString();var l,c,d=this.settings.search,h=!!d.ajax&&d.ajax,u=this._model.data,p=null,f=[],g=[];if(this._data.search.res.length&&!s&&this.clear_search(),r===t&&(r=d.show_only_matches),o===t&&(o=d.show_only_matches_children),!a&&!1!==h)return e.isFunction(h)?h.call(this,n,e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(n,!0,r,i,s,o)})},this),i):((h=e.extend({},h)).data||(h.data={}),h.data.str=n,i&&(h.data.inside=i),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=e.ajax(h).fail(e.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(h)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(n,!0,r,i,s,o)})},this)),this._data.search.lastRequest);if(s||(this._data.search.str=n,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=r,this._data.search.smc=o),p=new e.vakata.search(n,!0,{caseSensitive:d.case_sensitive,fuzzy:d.fuzzy}),e.each(u[i||e.jstree.root].children_d,function(e,t){var a=u[t];a.text&&!a.state.hidden&&(!d.search_leaves_only||a.state.loaded&&0===a.children.length)&&(d.search_callback&&d.search_callback.call(this,n,a)||!d.search_callback&&p.search(a.text).isMatch)&&(f.push(t),g=g.concat(a.parents))}),f.length){for(l=0,c=(g=e.vakata.array_unique(g)).length;l<c;l++)g[l]!==e.jstree.root&&u[g[l]]&&!0===this.open_node(g[l],null,0)&&this._data.search.opn.push(g[l]);s?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(f,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(f))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(f,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=f),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:n,res:this._data.search.res,show_only_matches:r})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(t,n,r,i){if((t=a.redraw_node.apply(this,arguments))&&-1!==e.inArray(t.id,this._data.search.res)){var s,o,l=null;for(s=0,o=t.childNodes.length;s<o;s++)if(t.childNodes[s]&&t.childNodes[s].className&&-1!==t.childNodes[s].className.indexOf("jstree-anchor")){l=t.childNodes[s];break}l&&(l.className+=" jstree-search")}return t}},function(e){e.vakata.search=function(t,n,a){a=a||{},!1!==(a=e.extend({},e.vakata.search.defaults,a)).fuzzy&&(a.fuzzy=!0),t=a.caseSensitive?t:t.toLowerCase();var r,i,s,o,l=a.location,c=a.distance,d=a.threshold,h=t.length;return h>32&&(a.fuzzy=!1),a.fuzzy&&(r=1<<h-1,i=function(){var e={},n=0;for(n=0;n<h;n++)e[t.charAt(n)]=0;for(n=0;n<h;n++)e[t.charAt(n)]|=1<<h-n-1;return e}(),s=function(e,t){var n=e/h,a=Math.abs(l-t);return c?n+a/c:a?1:n}),o=function(e){if(e=a.caseSensitive?e:e.toLowerCase(),t===e||-1!==e.indexOf(t))return{isMatch:!0,score:0};if(!a.fuzzy)return{isMatch:!1,score:1};var n,o,c,u,p,f,g,m,_,v=e.length,b=d,y=e.indexOf(t,l),k=h+v,j=1,x=[];for(-1!==y&&(b=Math.min(s(0,y),b),-1!==(y=e.lastIndexOf(t,l+h))&&(b=Math.min(s(0,y),b))),y=-1,n=0;n<h;n++){for(c=0,u=k;c<u;)s(n,l+u)<=b?c=u:k=u,u=Math.floor((k-c)/2+c);for(k=u,f=Math.max(1,l-u+1),g=Math.min(l+u,v)+h,(m=new Array(g+2))[g+1]=(1<<n)-1,o=g;o>=f;o--)if(_=i[e.charAt(o-1)],m[o]=0===n?(m[o+1]<<1|1)&_:(m[o+1]<<1|1)&_|(p[o+1]|p[o])<<1|1|p[o+1],m[o]&r&&(j=s(n,o-1))<=b){if(b=j,y=o-1,x.push(y),!(y>l))break;f=Math.max(1,2*l-y)}if(s(n+1,l)>b)break;p=m}return{isMatch:y>=0,score:j}},!0===n?{search:o}:o(n)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("model.jstree",e.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",e.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",e.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(t,n){var a,r;if((t=this.get_node(t))&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),n))for(a=0,r=t.children_d.length;a<r;a++)this.sort(t.children_d[a],!1)}};var u=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},e.jstree.plugins.state=function(t,n){this.bind=function(){n.bind.call(this);var t=e.proxy(function(){this.element.on(this.settings.state.events,e.proxy(function(){u&&clearTimeout(u),u=setTimeout(e.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",e.proxy(function(e,n){this.element.one("restore_state.jstree",t),this.restore_state()||t()},this))},this.save_state=function(){var t=this.get_state();this.settings.state.preserve_loaded||delete t.core.loaded;var n={state:t,ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(n))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(e){return!1}return!(t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl)&&(t&&t.state&&(t=t.state),t&&e.isFunction(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),!!t&&(this.settings.state.preserve_loaded||delete t.core.loaded,this.element.one("set_state.jstree",function(n,a){a.instance.trigger("restore_state",{state:e.extend(!0,{},t)})}),this.set_state(t),!0))},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={default:{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(n,a){this.init=function(n,r){var i,s;if(r&&r.types&&r.types.default)for(i in r.types)if("default"!==i&&i!==e.jstree.root&&r.types.hasOwnProperty(i))for(s in r.types.default)r.types.default.hasOwnProperty(s)&&r.types[i][s]===t&&(r.types[i][s]=r.types.default[s]);a.init.call(this,n,r),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(t,n){a.refresh.call(this,t,n),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",e.proxy(function(n,a){var r,i,s,o=this._model.data,l=a.nodes,c=this.settings.types,d="default";for(r=0,i=l.length;r<i;r++){if(d="default",o[l[r]].original&&o[l[r]].original.type&&c[o[l[r]].original.type]&&(d=o[l[r]].original.type),o[l[r]].data&&o[l[r]].data.jstree&&o[l[r]].data.jstree.type&&c[o[l[r]].data.jstree.type]&&(d=o[l[r]].data.jstree.type),o[l[r]].type=d,!0===o[l[r]].icon&&c[d].icon!==t&&(o[l[r]].icon=c[d].icon),c[d].li_attr!==t&&"object"==typeof c[d].li_attr)for(s in c[d].li_attr)if(c[d].li_attr.hasOwnProperty(s)){if("id"===s)continue;o[l[r]].li_attr[s]===t?o[l[r]].li_attr[s]=c[d].li_attr[s]:"class"===s&&(o[l[r]].li_attr.class=c[d].li_attr.class+" "+o[l[r]].li_attr.class)}if(c[d].a_attr!==t&&"object"==typeof c[d].a_attr)for(s in c[d].a_attr)if(c[d].a_attr.hasOwnProperty(s)){if("id"===s)continue;o[l[r]].a_attr[s]===t?o[l[r]].a_attr[s]=c[d].a_attr[s]:"href"===s&&"#"===o[l[r]].a_attr[s]?o[l[r]].a_attr.href=c[d].a_attr.href:"class"===s&&(o[l[r]].a_attr.class=c[d].a_attr.class+" "+o[l[r]].a_attr.class)}}o[e.jstree.root].type=e.jstree.root},this)),a.bind.call(this)},this.get_json=function(t,n,r){var i,s,o=this._model.data,l=n?e.extend(!0,{},n,{no_id:!1}):{},c=a.get_json.call(this,t,l,r);if(!1===c)return!1;if(e.isArray(c))for(i=0,s=c.length;i<s;i++)c[i].type=c[i].id&&o[c[i].id]&&o[c[i].id].type?o[c[i].id].type:"default",n&&n.no_id&&(delete c[i].id,c[i].li_attr&&c[i].li_attr.id&&delete c[i].li_attr.id,c[i].a_attr&&c[i].a_attr.id&&delete c[i].a_attr.id);else c.type=c.id&&o[c.id]&&o[c.id].type?o[c.id].type:"default",n&&n.no_id&&(c=this._delete_ids(c));return c},this._delete_ids=function(t){if(e.isArray(t)){for(var n=0,a=t.length;n<a;n++)t[n]=this._delete_ids(t[n]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&e.isArray(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(n,r,i,s,o){if(!1===a.check.call(this,n,r,i,s,o))return!1;r=r&&r.id?r:this.get_node(r),i=i&&i.id?i:this.get_node(i);var l,c,d,h,u=r&&r.id?o&&o.origin?o.origin:e.jstree.reference(r.id):null;switch(u=u&&u._model&&u._model.data?u._model.data:null,n){case"create_node":case"move_node":case"copy_node":if("move_node"!==n||-1===e.inArray(r.id,i.children)){if((l=this.get_rules(i)).max_children!==t&&-1!==l.max_children&&l.max_children===i.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+n,data:JSON.stringify({chk:n,pos:s,obj:!(!r||!r.id)&&r.id,par:!(!i||!i.id)&&i.id})},!1;if(l.valid_children!==t&&-1!==l.valid_children&&-1===e.inArray(r.type||"default",l.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+n,data:JSON.stringify({chk:n,pos:s,obj:!(!r||!r.id)&&r.id,par:!(!i||!i.id)&&i.id})},!1;if(u&&r.children_d&&r.parents){for(c=0,d=0,h=r.children_d.length;d<h;d++)c=Math.max(c,u[r.children_d[d]].parents.length);c=c-r.parents.length+1}(c<=0||c===t)&&(c=1);do{if(l.max_depth!==t&&-1!==l.max_depth&&l.max_depth<c)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+n,data:JSON.stringify({chk:n,pos:s,obj:!(!r||!r.id)&&r.id,par:!(!i||!i.id)&&i.id})},!1;i=this.get_node(i.parent),l=this.get_rules(i),c++}while(i)}}return!0},this.get_rules=function(e){if(!(e=this.get_node(e)))return!1;var n=this.get_type(e,!0);return n.max_depth===t&&(n.max_depth=-1),n.max_children===t&&(n.max_children=-1),n.valid_children===t&&(n.valid_children=-1),n},this.get_type=function(t,n){return!!(t=this.get_node(t))&&(n?e.extend({type:t.type},this.settings.types[t.type]):t.type)},this.set_type=function(n,a){var r,i,s,o,l,c,d,h,u=this._model.data;if(e.isArray(n)){for(i=0,s=(n=n.slice()).length;i<s;i++)this.set_type(n[i],a);return!0}if(r=this.settings.types,n=this.get_node(n),!r[a]||!n)return!1;if((d=this.get_node(n,!0))&&d.length&&(h=d.children(".jstree-anchor")),o=n.type,l=this.get_icon(n),n.type=a,(!0===l||!r[o]||r[o].icon!==t&&l===r[o].icon)&&this.set_icon(n,r[a].icon===t||r[a].icon),r[o]&&r[o].li_attr!==t&&"object"==typeof r[o].li_attr)for(c in r[o].li_attr)if(r[o].li_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(u[n.id].li_attr.class=(u[n.id].li_attr.class||"").replace(r[o].li_attr[c],""),d&&d.removeClass(r[o].li_attr[c])):u[n.id].li_attr[c]===r[o].li_attr[c]&&(u[n.id].li_attr[c]=null,d&&d.removeAttr(c))}if(r[o]&&r[o].a_attr!==t&&"object"==typeof r[o].a_attr)for(c in r[o].a_attr)if(r[o].a_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(u[n.id].a_attr.class=(u[n.id].a_attr.class||"").replace(r[o].a_attr[c],""),h&&h.removeClass(r[o].a_attr[c])):u[n.id].a_attr[c]===r[o].a_attr[c]&&("href"===c?(u[n.id].a_attr[c]="#",h&&h.attr("href","#")):(delete u[n.id].a_attr[c],h&&h.removeAttr(c)))}if(r[a].li_attr!==t&&"object"==typeof r[a].li_attr)for(c in r[a].li_attr)if(r[a].li_attr.hasOwnProperty(c)){if("id"===c)continue;u[n.id].li_attr[c]===t?(u[n.id].li_attr[c]=r[a].li_attr[c],d&&("class"===c?d.addClass(r[a].li_attr[c]):d.attr(c,r[a].li_attr[c]))):"class"===c&&(u[n.id].li_attr.class=r[a].li_attr[c]+" "+u[n.id].li_attr.class,d&&d.addClass(r[a].li_attr[c]))}if(r[a].a_attr!==t&&"object"==typeof r[a].a_attr)for(c in r[a].a_attr)if(r[a].a_attr.hasOwnProperty(c)){if("id"===c)continue;u[n.id].a_attr[c]===t?(u[n.id].a_attr[c]=r[a].a_attr[c],h&&("class"===c?h.addClass(r[a].a_attr[c]):h.attr(c,r[a].a_attr[c]))):"href"===c&&"#"===u[n.id].a_attr[c]?(u[n.id].a_attr.href=r[a].a_attr.href,h&&h.attr("href",r[a].a_attr.href)):"class"===c&&(u[n.id].a_attr.class=r[a].a_attr.class+" "+u[n.id].a_attr.class,h&&h.addClass(r[a].a_attr[c]))}return!0}},e.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(n,a){this.check=function(t,n,r,i,s){if(!1===a.check.call(this,t,n,r,i,s))return!1;if(n=n&&n.id?n:this.get_node(n),!(r=r&&r.id?r:this.get_node(r))||!r.children)return!0;var o,l,c,d="rename_node"===t?i:n.text,h=[],u=this.settings.unique.case_sensitive,p=this.settings.unique.trim_whitespace,f=this._model.data;for(o=0,l=r.children.length;o<l;o++)c=f[r.children[o]].text,u||(c=c.toLowerCase()),p&&(c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),h.push(c);switch(u||(d=d.toLowerCase()),p&&(d=d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),t){case"delete_node":return!0;case"rename_node":return c=n.text||"",u||(c=c.toLowerCase()),p&&(c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(o=-1===e.inArray(d,h)||n.text&&c===d)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),o;case"create_node":return(o=-1===e.inArray(d,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),o;case"copy_node":return(o=-1===e.inArray(d,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),o;case"move_node":return(o=n.parent===r.id&&(!s||!s.is_multi)||-1===e.inArray(d,h))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+d+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:i,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),o}return!0},this.create_node=function(n,r,i,s,o){if(!r||r.text===t){if(null===n&&(n=e.jstree.root),!(n=this.get_node(n)))return a.create_node.call(this,n,r,i,s,o);if(!(i=i===t?"last":i).toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(n))return a.create_node.call(this,n,r,i,s,o);r||(r={});var l,c,d,h,u,p,f=this._model.data,g=this.settings.unique.case_sensitive,m=this.settings.unique.trim_whitespace,_=this.settings.unique.duplicate;for(c=l=this.get_string("New node"),d=[],h=0,u=n.children.length;h<u;h++)p=f[n.children[h]].text,g||(p=p.toLowerCase()),m&&(p=p.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),d.push(p);for(h=1,p=c,g||(p=p.toLowerCase()),m&&(p=p.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==e.inArray(p,d);)p=c=_.call(this,l,++h).toString(),g||(p=p.toLowerCase()),m&&(p=p.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));r.text=c}return a.create_node.call(this,n,r,i,s,o)}};var p=l.createElement("DIV");if(p.setAttribute("unselectable","on"),p.setAttribute("role","presentation"),p.className="jstree-wholerow",p.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("ready.jstree set_state.jstree",e.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var n,a,r=!1;for(n=0,a=t.selected.length;n<a;n++)(r=this.get_node(t.selected[n],!0))&&r.length&&r.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",e.proxy(function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",e.proxy(function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",e.proxy(function(t){if(this._data.contextmenu){t.preventDefault();var n=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n)}},this)).on("click.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()}).on("dblclick.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var n=e.Event("dblclick",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",e.proxy(function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",e.proxy(function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),n.teardown.call(this)},this.redraw_node=function(t,a,r,i){if(t=n.redraw_node.apply(this,arguments)){var s=p.cloneNode(!0);-1!==e.inArray(t.id,this._data.core.selected)&&(s.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(s.className+=" jstree-wholerow-hovered"),t.insertBefore(s,t.childNodes[0])}return t}},window.customElements&&Object&&Object.create){var f=Object.create(HTMLElement.prototype);f.createdCallback=function(){var t,n={core:{},plugins:[]};for(t in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(n.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(n[t]=JSON.parse(this.getAttribute(t))));for(t in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(n.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));e(this).jstree(n)};try{window.customElements.define("vakata-jstree",function(){},{prototype:f})}catch(e){}}}})},function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1),s=n.n(i),o=n(7);class l extends a.Component{constructor(e){super(e),this.defaultLanguage=eZ.adminUiConfig.languages.priority[0],this.state={name:this.props.item.name,url:this.props.item.url,blank:"_blank"===this.props.item.target,language:this.defaultLanguage},this.handleLanguageChange=this.handleLanguageChange.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleLocalizedInputChange=this.handleLocalizedInputChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleCancel=this.handleCancel.bind(this)}componentDidUpdate(e,t){e.item!==this.props.item&&this.setState(e=>({name:this.props.item.name,url:this.props.item.url,blank:"_blank"===this.props.item.target}))}handleLanguageChange(e){const t=e.target.value;this.setState({language:t})}handleInputChange(e){const t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState({[a]:n})}handleLocalizedInputChange(e){const t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;let r={};try{r=JSON.parse(this.state[a])}catch(e){r[this.defaultLanguage]=this.state[a]}r[this.state.language]=n;const i=JSON.stringify(r);this.setState({[a]:i})}handleSubmit(e){e.preventDefault();const t=this.props.item;t.name=this.state.name,t.url=this.state.url,t.target=this.state.blank?"_blank":"",this.props.onSubmit(t)}handleCancel(e){this.props.onCancel()}getInputValue(e){try{return JSON.parse(e)[this.state.language]||""}catch(t){return e}}render(){const e=[];for(const t in eZ.adminUiConfig.languages.mappings)e.push(eZ.adminUiConfig.languages.mappings[t]);return r.a.createElement("div",null,r.a.createElement(o.b,{onSubmit:this.handleSubmit},r.a.createElement(o.c,null,r.a.createElement(o.e,{for:"language"},Translator.trans("menu_item.property.language")),r.a.createElement(o.d,{type:"select",onChange:this.handleLanguageChange},[...e].map(e=>r.a.createElement("option",{key:e.id,value:e.languageCode},e.name)))),r.a.createElement(o.c,null,r.a.createElement(o.e,{for:"item_name"},Translator.trans("menu_item.property.name")," (",this.state.language,")"),r.a.createElement(o.d,{type:"text",name:"name",value:this.getInputValue(this.state.name),id:"item_name",onChange:this.handleLocalizedInputChange})),r.a.createElement(o.c,null,r.a.createElement(o.e,{for:"item_url"},Translator.trans("menu_item.property.url")," (",this.state.language,")"),r.a.createElement(o.d,{type:"text",name:"url",value:this.getInputValue(this.state.url),id:"item_url",onChange:this.handleLocalizedInputChange})),r.a.createElement(o.c,{check:!0},r.a.createElement(o.e,{check:!0,for:"item_target"},r.a.createElement(o.d,{type:"checkbox",name:"blank",checked:this.state.blank,id:"item_target",onChange:this.handleInputChange}),Translator.trans("menu_item.property.new_window"))),r.a.createElement(o.a,{type:"submit",className:"pull-right",color:"primary"},Translator.trans("menu_item.edit_form.save")),r.a.createElement(o.a,{type:"button",onClick:this.handleCancel},Translator.trans("menu_item.edit_form.cancel"))))}}t.a=l,l.propTypes={item:s.a.object,onSubmit:s.a.func,onCancel:s.a.func}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return Pe}),n.d(t,"b",function(){return kn}),n.d(t,"c",function(){return En}),n.d(t,"d",function(){return Mn}),n.d(t,"e",function(){return Kn});var a=n(0),r=n.n(a),i=n(1),s=n.n(i),o=n(21),l=n.n(o),c=n(22),d=n.n(c),h=n(23),u=n.n(h),p=n(4),f=n.n(p),g=n(24),m=n(30),_=n.n(m),v=n(31),b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},k=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),j=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},w=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},T=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},E=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};function N(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function O(e){document.body.style.paddingRight=e>0?e+"px":null}function C(){return document.body.clientWidth<window.innerWidth}function M(){var e=window.getComputedStyle(document.body,null);return parseInt(e&&e.getPropertyValue("padding-right")||0,10)}function P(){var e=N(),t=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],n=t?parseInt(t.style.paddingRight||0,10):0;C()&&O(n+e)}var S=void 0;function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;return t?e.split(" ").map(function(e){return t[e]||e}).join(" "):e}function I(e,t){var n={};return Object.keys(e).forEach(function(a){-1===t.indexOf(a)&&(n[a]=e[a])}),n}function D(e,t){for(var n=Array.isArray(t)?t:[t],a=n.length,r=void 0,i={};a>0;)i[r=n[a-=1]]=e[r];return i}var L={};function R(e){L[e]||("undefined"!=typeof console&&console.error(e),L[e]=!0)}function F(e,t){return function(n,a,r){null!==n[a]&&void 0!==n[a]&&R('"'+a+'" property of "'+r+'" has been deprecated.\n'+t);for(var i=arguments.length,s=Array(i>3?i-3:0),o=3;o<i;o++)s[o-3]=arguments[o];return e.apply(void 0,[n,a,r].concat(s))}}function q(e,t,n){if(!(e[t]instanceof Element))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")}var U=s.a.oneOfType([s.a.string,s.a.func,q,s.a.shape({current:s.a.any})]),z={Fade:150,Collapse:350,Modal:300,Carousel:600},K=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],H={ENTERING:"entering",ENTERED:"entered",EXITING:"exiting",EXITED:"exited"},W={esc:27,space:32,enter:13,tab:9,up:38,down:40},B=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],$=!("undefined"==typeof window||!window.document||!window.document.createElement);function J(e){return!(!e||"object"!==(void 0===e?"undefined":b(e)))&&"current"in e}function X(e){if(J(e))return e.current;if(d()(e))return e();if("string"==typeof e&&$){var t=document.querySelectorAll(e);if(t.length||(t=document.querySelectorAll("#"+e)),!t.length)throw new Error("The target '"+e+"' could not be identified in the dom, tip: check spelling");return t}return e}function Y(e){return null!==e&&(Array.isArray(e)||$&&"number"==typeof e.length)}function G(e){var t=X(e);return Y(t)?t[0]:t}var V=["touchstart","click"];function Z(e,t,n){var a=e;Y(a)||(a=[a]);var r=n;if("string"==typeof r&&(r=r.split(/\s+/)),!Y(a)||"function"!=typeof t||!Array.isArray(r))throw new Error("\n      The first argument of this function must be DOM node or an array on DOM nodes or NodeList.\n      The second must be a function.\n      The third is a string or an array of strings that represents DOM events\n    ");return r.forEach(function(e){a.forEach(function(n){n.addEventListener(e,t)})}),function(){r.forEach(function(e){a.forEach(function(n){n.removeEventListener(e,t)})})}}var Q=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],ee=(Object.freeze({getScrollbarWidth:N,setScrollbarWidth:O,isBodyOverflowing:C,getOriginalBodyPadding:M,conditionallyUpdateScrollbar:P,setGlobalCssModule:function(e){S=e},mapToCssModules:A,omit:I,pick:D,warnOnce:R,deprecated:F,DOMElement:q,targetPropType:U,TransitionTimeouts:z,TransitionPropTypeKeys:K,TransitionStatuses:H,keyCodes:W,PopperPlacements:B,canUseDOM:$,isReactRefObj:J,findDOMElements:X,isArrayOrNodeList:Y,getTarget:G,defaultToggleEvents:V,addMultipleEventListeners:Z,focusableElements:Q}),{tag:s.a.oneOfType([s.a.func,s.a.string]),fluid:s.a.bool,className:s.a.string,cssModule:s.a.object}),te=function(e){var t=e.className,n=e.cssModule,a=e.fluid,i=e.tag,s=T(e,["className","cssModule","fluid","tag"]),o=A(l()(t,a?"container-fluid":"container"),n);return r.a.createElement(i,x({},s,{className:o}))};te.propTypes=ee,te.defaultProps={tag:"div"};var ne={tag:s.a.oneOfType([s.a.func,s.a.string]),noGutters:s.a.bool,className:s.a.string,cssModule:s.a.object,form:s.a.bool},ae=function(e){var t=e.className,n=e.cssModule,a=e.noGutters,i=e.tag,s=e.form,o=T(e,["className","cssModule","noGutters","tag","form"]),c=A(l()(t,a?"no-gutters":null,s?"form-row":"row"),n);return r.a.createElement(i,x({},o,{className:c}))};ae.propTypes=ne,ae.defaultProps={tag:"div"};var re=s.a.oneOfType([s.a.number,s.a.string]),ie=s.a.oneOfType([s.a.bool,s.a.number,s.a.string,s.a.shape({size:s.a.oneOfType([s.a.bool,s.a.number,s.a.string]),push:F(re,'Please use the prop "order"'),pull:F(re,'Please use the prop "order"'),order:re,offset:re})]),se={tag:s.a.oneOfType([s.a.func,s.a.string]),xs:ie,sm:ie,md:ie,lg:ie,xl:ie,className:s.a.string,cssModule:s.a.object,widths:s.a.array},oe={tag:"div",widths:["xs","sm","md","lg","xl"]},le=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},ce=function(e){var t=e.className,n=e.cssModule,a=e.widths,i=e.tag,s=T(e,["className","cssModule","widths","tag"]),o=[];a.forEach(function(t,a){var r=e[t];if(delete s[t],r||""===r){var i=!a;if(u()(r)){var c,d=i?"-":"-"+t+"-",h=le(i,t,r.size);o.push(A(l()((j(c={},h,r.size||""===r.size),j(c,"order"+d+r.order,r.order||0===r.order),j(c,"offset"+d+r.offset,r.offset||0===r.offset),c)),n))}else{var p=le(i,t,r);o.push(p)}}}),o.length||o.push("col");var c=A(l()(t,o),n);return r.a.createElement(i,x({},s,{className:c}))};ce.propTypes=se,ce.defaultProps=oe;var de={light:s.a.bool,dark:s.a.bool,inverse:F(s.a.bool,'Please use the prop "dark"'),full:s.a.bool,fixed:s.a.string,sticky:s.a.string,color:s.a.string,role:s.a.string,tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object,toggleable:F(s.a.oneOfType([s.a.bool,s.a.string]),'Please use the prop "expand"'),expand:s.a.oneOfType([s.a.bool,s.a.string])},he={xs:"sm",sm:"md",md:"lg",lg:"xl"},ue=function(e){var t,n=e.toggleable,a=e.expand,i=e.className,s=e.cssModule,o=e.light,c=e.dark,d=e.inverse,h=e.fixed,u=e.sticky,p=e.color,f=e.tag,g=T(e,["toggleable","expand","className","cssModule","light","dark","inverse","fixed","sticky","color","tag"]),m=A(l()(i,"navbar",function(e){return!1!==e&&(!0===e||"xs"===e?"navbar-expand":"navbar-expand-"+e)}(a)||function(e){return void 0!==e&&"xl"!==e&&(!1===e?"navbar-expand":"navbar-expand-"+(!0===e?"sm":he[e]||e))}(n),(j(t={"navbar-light":o,"navbar-dark":d||c},"bg-"+p,p),j(t,"fixed-"+h,h),j(t,"sticky-"+u,u),t)),s);return r.a.createElement(f,x({},g,{className:m}))};ue.propTypes=de,ue.defaultProps={tag:"nav",expand:!1};var pe={tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object},fe=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=T(e,["className","cssModule","tag"]),s=A(l()(t,"navbar-brand"),n);return r.a.createElement(a,x({},i,{className:s}))};fe.propTypes=pe,fe.defaultProps={tag:"a"};var ge={tag:s.a.oneOfType([s.a.func,s.a.string]),type:s.a.string,className:s.a.string,cssModule:s.a.object,children:s.a.node},me=function(e){var t=e.className,n=e.cssModule,a=e.children,i=e.tag,s=T(e,["className","cssModule","children","tag"]),o=A(l()(t,"navbar-toggler"),n);return r.a.createElement(i,x({},s,{className:o}),a||r.a.createElement("span",{className:A("navbar-toggler-icon",n)}))};me.propTypes=ge,me.defaultProps={tag:"button",type:"button"};var _e={tabs:s.a.bool,pills:s.a.bool,vertical:s.a.oneOfType([s.a.bool,s.a.string]),horizontal:s.a.string,justified:s.a.bool,fill:s.a.bool,navbar:s.a.bool,card:s.a.bool,tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object},ve=function(e){var t=e.className,n=e.cssModule,a=e.tabs,i=e.pills,s=e.vertical,o=e.horizontal,c=e.justified,d=e.fill,h=e.navbar,u=e.card,p=e.tag,f=T(e,["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"]),g=A(l()(t,h?"navbar-nav":"nav",!!o&&"justify-content-"+o,function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-"+e+"-column")}(s),{"nav-tabs":a,"card-header-tabs":u&&a,"nav-pills":i,"card-header-pills":u&&i,"nav-justified":c,"nav-fill":d}),n);return r.a.createElement(p,x({},f,{className:g}))};ve.propTypes=_e,ve.defaultProps={tag:"ul",vertical:!1};var be={tag:s.a.oneOfType([s.a.func,s.a.string]),active:s.a.bool,className:s.a.string,cssModule:s.a.object},ye=function(e){var t=e.className,n=e.cssModule,a=e.active,i=e.tag,s=T(e,["className","cssModule","active","tag"]),o=A(l()(t,"nav-item",!!a&&"active"),n);return r.a.createElement(i,x({},s,{className:o}))};ye.propTypes=be,ye.defaultProps={tag:"li"};var ke={disabled:s.a.bool,dropup:F(s.a.bool,'Please use the prop "direction" with the value "up".'),direction:s.a.oneOf(["up","down","left","right"]),group:s.a.bool,isOpen:s.a.bool,nav:s.a.bool,active:s.a.bool,addonType:s.a.oneOfType([s.a.bool,s.a.oneOf(["prepend","append"])]),size:s.a.string,tag:s.a.string,toggle:s.a.func,children:s.a.node,className:s.a.string,cssModule:s.a.object,inNavbar:s.a.bool,setActiveFromChild:s.a.bool},je={toggle:s.a.func.isRequired,isOpen:s.a.bool.isRequired,direction:s.a.oneOf(["up","down","left","right"]).isRequired,inNavbar:s.a.bool.isRequired},xe=function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.addEvents=n.addEvents.bind(n),n.handleDocumentClick=n.handleDocumentClick.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.removeEvents=n.removeEvents.bind(n),n.toggle=n.toggle.bind(n),n}return w(t,e),k(t,[{key:"getChildContext",value:function(){return{toggle:this.props.toggle,isOpen:this.props.isOpen,direction:"down"===this.props.direction&&this.props.dropup?"up":this.props.direction,inNavbar:this.props.inNavbar}}},{key:"componentDidMount",value:function(){this.handleProps()}},{key:"componentDidUpdate",value:function(e){this.props.isOpen!==e.isOpen&&this.handleProps()}},{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"getContainer",value:function(){return f.a.findDOMNode(this)}},{key:"addEvents",value:function(){var e=this;["click","touchstart","keyup"].forEach(function(t){return document.addEventListener(t,e.handleDocumentClick,!0)})}},{key:"removeEvents",value:function(){var e=this;["click","touchstart","keyup"].forEach(function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)})}},{key:"handleDocumentClick",value:function(e){if(!e||3!==e.which&&("keyup"!==e.type||e.which===W.tab)){var t=this.getContainer();(!t.contains(e.target)||t===e.target||"keyup"===e.type&&e.which!==W.tab)&&this.toggle(e)}}},{key:"handleKeyDown",value:function(e){if(!(W.tab===e.which||/button/i.test(e.target.tagName)&&e.which===W.space||/input|textarea/i.test(e.target.tagName)||(e.preventDefault(),this.props.disabled))){var t=this.getContainer();if(e.which===W.space&&W.enter&&this.props.isOpen&&t!==e.target&&e.target.click(),e.which===W.esc||!this.props.isOpen)return this.toggle(e),void t.querySelector("[aria-expanded]").focus();var n=A("dropdown-menu",this.props.cssModule),a=A("dropdown-item",this.props.cssModule),r=A("disabled",this.props.cssModule),i=t.querySelectorAll("."+n+" ."+a+":not(."+r+")");if(i.length){for(var s=-1,o=String.fromCharCode(e.which).toLowerCase(),l=0;l<i.length;l+=1){if((i[l].textContent&&i[l].textContent[0].toLowerCase())===o||i[l]===e.target){s=l;break}}e.which===W.up&&s>0&&(s-=1),e.which===W.down&&s<i.length-1&&(s+=1),s<0&&(s=0),i[s].focus()}}}},{key:"handleProps",value:function(){this.props.isOpen?this.addEvents():this.removeEvents()}},{key:"toggle",value:function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle(e)}},{key:"render",value:function(){var e,t=I(this.props,["toggle","disabled","inNavbar","direction"]),n=t.className,a=t.cssModule,i=t.dropup,s=t.isOpen,o=t.group,c=t.size,d=t.nav,h=t.setActiveFromChild,u=t.active,p=t.addonType,f=T(t,["className","cssModule","dropup","isOpen","group","size","nav","setActiveFromChild","active","addonType"]),m="down"===this.props.direction&&i?"up":this.props.direction;f.tag=f.tag||(d?"li":"div");var _=!1;h&&r.a.Children.map(this.props.children[1].props.children,function(e){e.props.active&&(_=!0)});var v=A(l()(n,"down"!==m&&"drop"+m,!(!d||!u)&&"active",!(!h||!_)&&"active",(j(e={},"input-group-"+p,p),j(e,"btn-group",o),j(e,"btn-group-"+c,!!c),j(e,"dropdown",!o&&!p),j(e,"show",s),j(e,"nav-item",d),e)),a);return r.a.createElement(g.b,x({},f,{className:v,onKeyDown:this.handleKeyDown}))}}]),t}(r.a.Component);xe.propTypes=ke,xe.defaultProps={isOpen:!1,direction:"down",nav:!1,active:!1,addonType:!1,inNavbar:!1,setActiveFromChild:!1},xe.childContextTypes=je;var we={tag:s.a.oneOfType([s.a.func,s.a.string]),innerRef:s.a.oneOfType([s.a.object,s.a.func,s.a.string]),disabled:s.a.bool,active:s.a.bool,className:s.a.string,cssModule:s.a.object,onClick:s.a.func,href:s.a.any},Te=function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return w(t,e),k(t,[{key:"onClick",value:function(e){this.props.disabled?e.preventDefault():("#"===this.props.href&&e.preventDefault(),this.props.onClick&&this.props.onClick(e))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cssModule,a=e.active,i=e.tag,s=e.innerRef,o=T(e,["className","cssModule","active","tag","innerRef"]),c=A(l()(t,"nav-link",{disabled:o.disabled,active:a}),n);return r.a.createElement(i,x({},o,{ref:s,onClick:this.onClick,className:c}))}}]),t}(r.a.Component);Te.propTypes=we,Te.defaultProps={tag:"a"};var Ee={tag:s.a.oneOfType([s.a.func,s.a.string]),listTag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.string,listClassName:s.a.string,cssModule:s.a.object,children:s.a.node,"aria-label":s.a.string},Ne=function(e){var t=e.className,n=e.listClassName,a=e.cssModule,i=e.children,s=e.tag,o=e.listTag,c=e["aria-label"],d=T(e,["className","listClassName","cssModule","children","tag","listTag","aria-label"]),h=A(l()(t),a),u=A(l()("breadcrumb",n),a);return r.a.createElement(s,x({},d,{className:h,"aria-label":c}),r.a.createElement(o,{className:u},i))};Ne.propTypes=Ee,Ne.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"};var Oe={tag:s.a.oneOfType([s.a.func,s.a.string]),active:s.a.bool,className:s.a.string,cssModule:s.a.object},Ce=function(e){var t=e.className,n=e.cssModule,a=e.active,i=e.tag,s=T(e,["className","cssModule","active","tag"]),o=A(l()(t,!!a&&"active","breadcrumb-item"),n);return r.a.createElement(i,x({},s,{className:o,"aria-current":a?"page":void 0}))};Ce.propTypes=Oe,Ce.defaultProps={tag:"li"};var Me={active:s.a.bool,"aria-label":s.a.string,block:s.a.bool,color:s.a.string,disabled:s.a.bool,outline:s.a.bool,tag:s.a.oneOfType([s.a.func,s.a.string]),innerRef:s.a.oneOfType([s.a.object,s.a.func,s.a.string]),onClick:s.a.func,size:s.a.string,children:s.a.node,className:s.a.string,cssModule:s.a.object,close:s.a.bool},Pe=function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return w(t,e),k(t,[{key:"onClick",value:function(e){this.props.disabled?e.preventDefault():this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){var e=this.props,t=e.active,n=e["aria-label"],a=e.block,i=e.className,s=e.close,o=e.cssModule,c=e.color,d=e.outline,h=e.size,u=e.tag,p=e.innerRef,f=T(e,["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"]);s&&void 0===f.children&&(f.children=r.a.createElement("span",{"aria-hidden":!0},""));var g="btn"+(d?"-outline":"")+"-"+c,m=A(l()(i,{close:s},s||"btn",s||g,!!h&&"btn-"+h,!!a&&"btn-block",{active:t,disabled:this.props.disabled}),o);f.href&&"button"===u&&(u="a");var _=s?"Close":null;return r.a.createElement(u,x({type:"button"===u&&f.onClick?"button":void 0},f,{className:m,ref:p,onClick:this.onClick,"aria-label":n||_}))}}]),t}(r.a.Component);Pe.propTypes=Me,Pe.defaultProps={color:"secondary",tag:"button"};var Se={children:s.a.node},Ae=function(e){return r.a.createElement(xe,x({group:!0},e))};Ae.propTypes=Se;var Ie={tag:s.a.oneOfType([s.a.func,s.a.string]),"aria-label":s.a.string,className:s.a.string,cssModule:s.a.object,role:s.a.string,size:s.a.string,vertical:s.a.bool},De=function(e){var t=e.className,n=e.cssModule,a=e.size,i=e.vertical,s=e.tag,o=T(e,["className","cssModule","size","vertical","tag"]),c=A(l()(t,!!a&&"btn-group-"+a,i?"btn-group-vertical":"btn-group"),n);return r.a.createElement(s,x({},o,{className:c}))};De.propTypes=Ie,De.defaultProps={tag:"div",role:"group"};var Le={tag:s.a.oneOfType([s.a.func,s.a.string]),"aria-label":s.a.string,className:s.a.string,cssModule:s.a.object,role:s.a.string},Re=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=T(e,["className","cssModule","tag"]),s=A(l()(t,"btn-toolbar"),n);return r.a.createElement(a,x({},i,{className:s}))};Re.propTypes=Le,Re.defaultProps={tag:"div",role:"toolbar"};var Fe={children:s.a.node,active:s.a.bool,disabled:s.a.bool,divider:s.a.bool,tag:s.a.oneOfType([s.a.func,s.a.string]),header:s.a.bool,onClick:s.a.func,className:s.a.string,cssModule:s.a.object,toggle:s.a.bool},qe={toggle:s.a.func},Ue=function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n.getTabIndex=n.getTabIndex.bind(n),n}return w(t,e),k(t,[{key:"onClick",value:function(e){this.props.disabled||this.props.header||this.props.divider?e.preventDefault():(this.props.onClick&&this.props.onClick(e),this.props.toggle&&this.context.toggle(e))}},{key:"getTabIndex",value:function(){return this.props.disabled||this.props.header||this.props.divider?"-1":"0"}},{key:"render",value:function(){var e=this.getTabIndex(),t=I(this.props,["toggle"]),n=t.className,a=t.cssModule,i=t.divider,s=t.tag,o=t.header,c=t.active,d=T(t,["className","cssModule","divider","tag","header","active"]),h=A(l()(n,{disabled:d.disabled,"dropdown-item":!i&&!o,active:c,"dropdown-header":o,"dropdown-divider":i}),a);return"button"===s&&(o?s="h6":i?s="div":d.href&&(s="a")),r.a.createElement(s,x({type:"button"===s&&(d.onClick||this.props.toggle)?"button":void 0},d,{tabIndex:e,className:h,onClick:this.onClick}))}}]),t}(r.a.Component);Ue.propTypes=Fe,Ue.defaultProps={tag:"button",toggle:!0},Ue.contextTypes=qe;var ze={tag:s.a.string,children:s.a.node.isRequired,right:s.a.bool,flip:s.a.bool,modifiers:s.a.object,className:s.a.string,cssModule:s.a.object,persist:s.a.bool},Ke={isOpen:s.a.bool.isRequired,direction:s.a.oneOf(["up","down","left","right"]).isRequired,inNavbar:s.a.bool.isRequired},He={flip:{enabled:!1}},We={up:"top",left:"left",right:"right",down:"bottom"},Be=function(e,t){var n=e.className,a=e.cssModule,i=e.right,s=e.tag,o=e.flip,c=e.modifiers,d=e.persist,h=T(e,["className","cssModule","right","tag","flip","modifiers","persist"]),u=A(l()(n,"dropdown-menu",{"dropdown-menu-right":i,show:t.isOpen}),a),p=s;if(d||t.isOpen&&!t.inNavbar){p=g.c;var f=We[t.direction]||"bottom",m=i?"end":"start";h.placement=f+"-"+m,h.component=s,h.modifiers=o?c:x({},c,He)}return r.a.createElement(p,x({tabIndex:"-1",role:"menu"},h,{"aria-hidden":!t.isOpen,className:u,"x-placement":h.placement}))};Be.propTypes=ze,Be.defaultProps={tag:"div",flip:!0},Be.contextTypes=Ke;var $e={caret:s.a.bool,color:s.a.string,children:s.a.node,className:s.a.string,cssModule:s.a.object,disabled:s.a.bool,onClick:s.a.func,"aria-haspopup":s.a.bool,split:s.a.bool,tag:s.a.oneOfType([s.a.func,s.a.string]),nav:s.a.bool},Je={isOpen:s.a.bool.isRequired,toggle:s.a.func.isRequired,inNavbar:s.a.bool.isRequired},Xe=function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return w(t,e),k(t,[{key:"onClick",value:function(e){this.props.disabled?e.preventDefault():(this.props.nav&&!this.props.tag&&e.preventDefault(),this.props.onClick&&this.props.onClick(e),this.context.toggle(e))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.color,a=e.cssModule,i=e.caret,s=e.split,o=e.nav,c=e.tag,d=T(e,["className","color","cssModule","caret","split","nav","tag"]),h=d["aria-label"]||"Toggle Dropdown",u=A(l()(t,{"dropdown-toggle":i||s,"dropdown-toggle-split":s,"nav-link":o}),a),p=d.children||r.a.createElement("span",{className:"sr-only"},h),f=void 0;return o&&!c?(f="a",d.href="#"):c?f=c:(f=Pe,d.color=n,d.cssModule=a),this.context.inNavbar?r.a.createElement(f,x({},d,{className:u,onClick:this.onClick,"aria-expanded":this.context.isOpen,children:p})):r.a.createElement(g.d,x({},d,{className:u,component:f,onClick:this.onClick,"aria-expanded":this.context.isOpen,children:p}))}}]),t}(r.a.Component);function Ye(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ge(e,t){return e(t={exports:{}},t.exports),t.exports}Xe.propTypes=$e,Xe.defaultProps={"aria-haspopup":!0,color:"secondary"},Xe.contextTypes=Je;var Ve=Ge(function(e,t){t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};var n,a=(n=s.a)&&n.__esModule?n:{default:n};t.timeoutsShape=a.default.oneOfType([a.default.number,a.default.shape({enter:a.default.number,exit:a.default.number}).isRequired]),t.classNamesShape=a.default.oneOfType([a.default.string,a.default.shape({enter:a.default.string,exit:a.default.string,active:a.default.string}),a.default.shape({enter:a.default.string,enterDone:a.default.string,enterActive:a.default.string,exit:a.default.string,exitDone:a.default.string,exitActive:a.default.string})])});Ye(Ve);var Ze=Ye(Ge(function(t,n){n.__esModule=!0,n.EXITING=n.ENTERED=n.ENTERING=n.EXITED=n.UNMOUNTED=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s.a),i=l(r.a),o=l(f.a);function l(e){return e&&e.__esModule?e:{default:e}}var c=n.UNMOUNTED="unmounted",d=n.EXITED="exited",h=n.ENTERING="entering",u=n.ENTERED="entered",p=n.EXITING="exiting",g=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":b(t))&&"function"!=typeof t?e:t}(this,e.call(this,n,a)),i=a.transitionGroup,s=i&&!i.isMounting?n.enter:n.appear,o=void 0;return r.nextStatus=null,n.in?s?(o=d,r.nextStatus=h):o=u:o=n.unmountOnExit||n.mountOnEnter?c:d,r.state={status:o},r.nextCallback=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":b(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{transitionGroup:null}},t.prototype.componentDidMount=function(){this.updateStatus(!0)},t.prototype.componentWillReceiveProps=function(e){var t=(this.pendingState||this.state).status;e.in?(t===c&&this.setState({status:d}),t!==h&&t!==u&&(this.nextStatus=h)):t!==h&&t!==u||(this.nextStatus=p)},t.prototype.componentDidUpdate=function(){this.updateStatus()},t.prototype.componentWillUnmount=function(){this.cancelNextCallback()},t.prototype.getTimeouts=function(){var e=this.props.timeout,t=void 0,n=void 0,a=void 0;return t=n=a=e,null!=e&&"number"!=typeof e&&(t=e.exit,n=e.enter,a=e.appear),{exit:t,enter:n,appear:a}},t.prototype.updateStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nextStatus;if(null!==t){this.nextStatus=null,this.cancelNextCallback();var n=o.default.findDOMNode(this);t===h?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===d&&this.setState({status:c})},t.prototype.performEnter=function(e,t){var n=this,a=this.props.enter,r=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,i=this.getTimeouts();t||a?(this.props.onEnter(e,r),this.safeSetState({status:h},function(){n.props.onEntering(e,r),n.onTransitionEnd(e,i.enter,function(){n.safeSetState({status:u},function(){n.props.onEntered(e,r)})})})):this.safeSetState({status:u},function(){n.props.onEntered(e)})},t.prototype.performExit=function(e){var t=this,n=this.props.exit,a=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:p},function(){t.props.onExiting(e),t.onTransitionEnd(e,a.exit,function(){t.safeSetState({status:d},function(){t.props.onExited(e)})})})):this.safeSetState({status:d},function(){t.props.onExited(e)})},t.prototype.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.prototype.safeSetState=function(e,t){var n=this;this.pendingState=e,t=this.setNextCallback(t),this.setState(e,function(){n.pendingState=null,t()})},t.prototype.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},t.prototype.onTransitionEnd=function(e,t,n){this.setNextCallback(n),e?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},t.prototype.render=function(){var e=this.state.status;if(e===c)return null;var t=this.props,n=t.children,a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(t,["children"]);if(delete a.in,delete a.mountOnEnter,delete a.unmountOnExit,delete a.appear,delete a.enter,delete a.exit,delete a.timeout,delete a.addEndListener,delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,"function"==typeof n)return n(e,a);var r=i.default.Children.only(n);return i.default.cloneElement(r,a)},t}(i.default.Component);function m(){}g.contextTypes={transitionGroup:a.object},g.childContextTypes={transitionGroup:function(){}},g.propTypes="production"!==e.env.NODE_ENV?{children:a.oneOfType([a.func.isRequired,a.element.isRequired]).isRequired,in:a.bool,mountOnEnter:a.bool,unmountOnExit:a.bool,appear:a.bool,enter:a.bool,exit:a.bool,timeout:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r=Ve.timeoutsShape;return e.addEndListener||(r=r.isRequired),r.apply(void 0,[e].concat(n))},addEndListener:a.func,onEnter:a.func,onEntering:a.func,onEntered:a.func,onExit:a.func,onExiting:a.func,onExited:a.func}:{},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m},g.UNMOUNTED=0,g.EXITED=1,g.ENTERING=2,g.ENTERED=3,g.EXITING=4,n.default=g})),Qe=x({},Ze.propTypes,{children:s.a.oneOfType([s.a.arrayOf(s.a.node),s.a.node]),tag:s.a.oneOfType([s.a.string,s.a.func]),baseClass:s.a.string,baseClassActive:s.a.string,className:s.a.string,cssModule:s.a.object,innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])}),et=x({},Ze.defaultProps,{tag:"div",baseClass:"fade",baseClassActive:"show",timeout:z.Fade,appear:!0,enter:!0,exit:!0,in:!0});function tt(e){var t=e.tag,n=e.baseClass,a=e.baseClassActive,i=e.className,s=e.cssModule,o=e.children,c=e.innerRef,d=T(e,["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"]),h=D(d,K),u=I(d,K);return r.a.createElement(Ze,h,function(e){var d="entered"===e,h=A(l()(i,n,d&&a),s);return r.a.createElement(t,x({className:h},u,{ref:c}),o)})}tt.propTypes=Qe,tt.defaultProps=et;var nt={color:s.a.string,pill:s.a.bool,tag:s.a.oneOfType([s.a.func,s.a.string]),children:s.a.node,className:s.a.string,cssModule:s.a.object},at=function(e){var t=e.className,n=e.cssModule,a=e.color,i=e.pill,s=e.tag,o=T(e,["className","cssModule","color","pill","tag"]),c=A(l()(t,"badge","badge-"+a,!!i&&"badge-pill"),n);return o.href&&"span"===s&&(s="a"),r.a.createElement(s,x({},o,{className:c}))};at.propTypes=nt,at.defaultProps={color:"secondary",pill:!1,tag:"span"};var rt={tag:s.a.oneOfType([s.a.func,s.a.string]),inverse:s.a.bool,color:s.a.string,block:F(s.a.bool,'Please use the props "body"'),body:s.a.bool,outline:s.a.bool,className:s.a.string,cssModule:s.a.object,innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},it=function(e){var t=e.className,n=e.cssModule,a=e.color,i=e.block,s=e.body,o=e.inverse,c=e.outline,d=e.tag,h=e.innerRef,u=T(e,["className","cssModule","color","block","body","inverse","outline","tag","innerRef"]),p=A(l()(t,"card",!!o&&"text-white",!(!i&&!s)&&"card-body",!!a&&(c?"border":"bg")+"-"+a),n);return r.a.createElement(d,x({},u,{className:p,ref:h}))};it.propTypes=rt,it.defaultProps={tag:"div"};var st={tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object},ot=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=T(e,["className","cssModule","tag"]),s=A(l()(t,"card-group"),n);return r.a.createElement(a,x({},i,{className:s}))};ot.propTypes=st,ot.defaultProps={tag:"div"};var lt={tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object},ct=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=T(e,["className","cssModule","tag"]),s=A(l()(t,"card-deck"),n);return r.a.createElement(a,x({},i,{className:s}))};ct.propTypes=lt,ct.defaultProps={tag:"div"};var dt={tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object},ht=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=T(e,["className","cssModule","tag"]),s=A(l()(t,"card-columns"),n);return r.a.createElement(a,x({},i,{className:s}))};ht.propTypes=dt,ht.defaultProps={tag:"div"};var ut={tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object},pt=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=T(e,["className","cssModule","tag"]),s=A(l()(t,"card-body"),n);return r.a.createElement(a,x({},i,{className:s}))};pt.propTypes=ut,pt.defaultProps={tag:"div"};var ft={tag:s.a.oneOfType([s.a.func,s.a.string]),innerRef:s.a.oneOfType([s.a.object,s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object},gt=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=e.innerRef,s=T(e,["className","cssModule","tag","innerRef"]),o=A(l()(t,"card-link"),n);return r.a.createElement(a,x({},s,{ref:i,className:o}))};gt.propTypes=ft,gt.defaultProps={tag:"a"};var mt={tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object},_t=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=T(e,["className","cssModule","tag"]),s=A(l()(t,"card-footer"),n);return r.a.createElement(a,x({},i,{className:s}))};_t.propTypes=mt,_t.defaultProps={tag:"div"};var vt={tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object},bt=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=T(e,["className","cssModule","tag"]),s=A(l()(t,"card-header"),n);return r.a.createElement(a,x({},i,{className:s}))};bt.propTypes=vt,bt.defaultProps={tag:"div"};var yt={tag:s.a.oneOfType([s.a.func,s.a.string]),top:s.a.bool,bottom:s.a.bool,className:s.a.string,cssModule:s.a.object},kt=function(e){var t=e.className,n=e.cssModule,a=e.top,i=e.bottom,s=e.tag,o=T(e,["className","cssModule","top","bottom","tag"]),c="card-img";a&&(c="card-img-top"),i&&(c="card-img-bottom");var d=A(l()(t,c),n);return r.a.createElement(s,x({},o,{className:d}))};kt.propTypes=yt,kt.defaultProps={tag:"img"};var jt={tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object},xt=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=T(e,["className","cssModule","tag"]),s=A(l()(t,"card-img-overlay"),n);return r.a.createElement(a,x({},i,{className:s}))};xt.propTypes=jt,xt.defaultProps={tag:"div"};var wt=function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={startAnimation:!1},n.onEnter=n.onEnter.bind(n),n.onEntering=n.onEntering.bind(n),n.onExit=n.onExit.bind(n),n.onExiting=n.onExiting.bind(n),n.onExited=n.onExited.bind(n),n}return w(t,e),k(t,[{key:"onEnter",value:function(e,t){this.setState({startAnimation:!1}),this.props.onEnter(e,t)}},{key:"onEntering",value:function(e,t){var n=e.offsetHeight;return this.setState({startAnimation:!0}),this.props.onEntering(e,t),n}},{key:"onExit",value:function(e){this.setState({startAnimation:!1}),this.props.onExit(e)}},{key:"onExiting",value:function(e){this.setState({startAnimation:!0}),e.dispatchEvent(new CustomEvent("slide.bs.carousel")),this.props.onExiting(e)}},{key:"onExited",value:function(e){e.dispatchEvent(new CustomEvent("slid.bs.carousel")),this.props.onExited(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.in,a=t.children,i=t.cssModule,s=t.slide,o=t.tag,c=t.className,d=T(t,["in","children","cssModule","slide","tag","className"]);return r.a.createElement(Ze,x({},d,{enter:s,exit:s,in:n,onEnter:this.onEnter,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),function(t){var n=e.context.direction,s=t===H.ENTERED||t===H.EXITING,d=(t===H.ENTERING||t===H.EXITING)&&e.state.startAnimation&&("right"===n?"carousel-item-left":"carousel-item-right"),h=t===H.ENTERING&&("right"===n?"carousel-item-next":"carousel-item-prev"),u=A(l()(c,"carousel-item",s&&"active",d,h),i);return r.a.createElement(o,{className:u},a)})}}]),t}(r.a.Component);wt.propTypes=x({},Ze.propTypes,{tag:s.a.oneOfType([s.a.func,s.a.string]),in:s.a.bool,cssModule:s.a.object,children:s.a.node,slide:s.a.bool,className:s.a.string}),wt.defaultProps=x({},Ze.defaultProps,{tag:"div",timeout:z.Carousel,slide:!0}),wt.contextTypes={direction:s.a.string};var Tt=function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleKeyPress=n.handleKeyPress.bind(n),n.renderItems=n.renderItems.bind(n),n.hoverStart=n.hoverStart.bind(n),n.hoverEnd=n.hoverEnd.bind(n),n.state={direction:"right",indicatorClicked:!1},n}return w(t,e),k(t,[{key:"getChildContext",value:function(){return{direction:this.state.direction}}},{key:"componentDidMount",value:function(){"carousel"===this.props.ride&&this.setInterval(),document.addEventListener("keyup",this.handleKeyPress)}},{key:"componentWillReceiveProps",value:function(e){this.setInterval(e),this.props.activeIndex+1===e.activeIndex?this.setState({direction:"right"}):this.props.activeIndex-1===e.activeIndex?this.setState({direction:"left"}):this.props.activeIndex>e.activeIndex?this.setState({direction:this.state.indicatorClicked?"left":"right"}):this.props.activeIndex!==e.activeIndex&&this.setState({direction:this.state.indicatorClicked?"right":"left"}),this.setState({indicatorClicked:!1})}},{key:"componentWillUnmount",value:function(){this.clearInterval(),document.removeEventListener("keyup",this.handleKeyPress)}},{key:"setInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.clearInterval(),e.interval&&(this.cycleInterval=setInterval(function(){e.next()},parseInt(e.interval,10)))})},{key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){clearInterval(this.cycleInterval)})},{key:"hoverStart",value:function(){var e;("hover"===this.props.pause&&this.clearInterval(),this.props.mouseEnter)&&(e=this.props).mouseEnter.apply(e,arguments)}},{key:"hoverEnd",value:function(){var e;("hover"===this.props.pause&&this.setInterval(),this.props.mouseLeave)&&(e=this.props).mouseLeave.apply(e,arguments)}},{key:"handleKeyPress",value:function(e){this.props.keyboard&&(37===e.keyCode?this.props.previous():39===e.keyCode&&this.props.next())}},{key:"renderItems",value:function(e,t){var n=this,a=this.props.slide;return r.a.createElement("div",{role:"listbox",className:t},e.map(function(e,t){var i=t===n.props.activeIndex;return r.a.cloneElement(e,{in:i,slide:a})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.cssModule,a=t.slide,i=t.className,s=A(l()(i,"carousel",a&&"slide"),n),o=A(l()("carousel-inner"),n),c=this.props.children.filter(function(e){return null!=e&&"boolean"!=typeof e});if(c.every(function(e){return e.type===wt}))return r.a.createElement("div",{className:s,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},this.renderItems(c,o));if(c[0]instanceof Array){var d=c[0],h=c[1],u=c[2];return r.a.createElement("div",{className:s,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},this.renderItems(d,o),h,u)}var p=c[0],f=r.a.cloneElement(p,{onClickHandler:function(t){"function"==typeof p.props.onClickHandler&&e.setState({indicatorClicked:!0},function(){return p.props.onClickHandler(t)})}}),g=c[1],m=c[2],_=c[3];return r.a.createElement("div",{className:s,onMouseEnter:this.hoverStart,onMouseLeave:this.hoverEnd},f,this.renderItems(g,o),m,_)}}]),t}(r.a.Component);Tt.propTypes={activeIndex:s.a.number,next:s.a.func.isRequired,previous:s.a.func.isRequired,keyboard:s.a.bool,pause:s.a.oneOf(["hover",!1]),ride:s.a.oneOf(["carousel"]),interval:s.a.oneOfType([s.a.number,s.a.string,s.a.bool]),children:s.a.array,mouseEnter:s.a.func,mouseLeave:s.a.func,slide:s.a.bool,cssModule:s.a.object,className:s.a.string},Tt.defaultProps={interval:5e3,pause:"hover",keyboard:!0,slide:!0},Tt.childContextTypes={direction:s.a.string};var Et=function(e){var t=e.direction,n=e.onClickHandler,a=e.cssModule,i=e.directionText,s=e.className,o=A(l()(s,"carousel-control-"+t),a),c=A(l()("carousel-control-"+t+"-icon"),a),d=A(l()("sr-only"),a);return r.a.createElement("a",{className:o,role:"button",tabIndex:"0",onClick:function(e){e.preventDefault(),n()}},r.a.createElement("span",{className:c,"aria-hidden":"true"}),r.a.createElement("span",{className:d},i||t))};Et.propTypes={direction:s.a.oneOf(["prev","next"]).isRequired,onClickHandler:s.a.func.isRequired,cssModule:s.a.object,directionText:s.a.string,className:s.a.string};var Nt=function(e){var t=e.items,n=e.activeIndex,a=e.cssModule,i=e.onClickHandler,s=e.className,o=A(l()(s,"carousel-indicators"),a),c=t.map(function(e,t){var s=A(l()({active:n===t}),a);return r.a.createElement("li",{key:""+(e.key||e.src)+e.caption+e.altText,onClick:function(e){e.preventDefault(),i(t)},className:s})});return r.a.createElement("ol",{className:o},c)};Nt.propTypes={items:s.a.array.isRequired,activeIndex:s.a.number.isRequired,cssModule:s.a.object,onClickHandler:s.a.func.isRequired,className:s.a.string};var Ot=function(e){var t=e.captionHeader,n=e.captionText,a=e.cssModule,i=e.className,s=A(l()(i,"carousel-caption","d-none","d-md-block"),a);return r.a.createElement("div",{className:s},r.a.createElement("h3",null,t),r.a.createElement("p",null,n))};Ot.propTypes={captionHeader:s.a.string,captionText:s.a.string.isRequired,cssModule:s.a.object,className:s.a.string};var Ct={items:s.a.array.isRequired,indicators:s.a.bool,controls:s.a.bool,autoPlay:s.a.bool,activeIndex:s.a.number,next:s.a.func,previous:s.a.func,goToIndex:s.a.func},Mt=function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.animating=!1,n.state={activeIndex:0},n.next=n.next.bind(n),n.previous=n.previous.bind(n),n.goToIndex=n.goToIndex.bind(n),n.onExiting=n.onExiting.bind(n),n.onExited=n.onExited.bind(n),n}return w(t,e),k(t,[{key:"onExiting",value:function(){this.animating=!0}},{key:"onExited",value:function(){this.animating=!1}},{key:"next",value:function(){if(!this.animating){var e=this.state.activeIndex===this.props.items.length-1?0:this.state.activeIndex+1;this.setState({activeIndex:e})}}},{key:"previous",value:function(){if(!this.animating){var e=0===this.state.activeIndex?this.props.items.length-1:this.state.activeIndex-1;this.setState({activeIndex:e})}}},{key:"goToIndex",value:function(e){this.animating||this.setState({activeIndex:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoPlay,a=t.indicators,i=t.controls,s=t.items,o=t.goToIndex,l=T(t,["autoPlay","indicators","controls","items","goToIndex"]),c=this.state.activeIndex,d=s.map(function(t){return r.a.createElement(wt,{onExiting:e.onExiting,onExited:e.onExited,key:t.src},r.a.createElement("img",{className:"d-block w-100",src:t.src,alt:t.altText}),r.a.createElement(Ot,{captionText:t.caption,captionHeader:t.header||t.caption}))});return r.a.createElement(Tt,x({activeIndex:c,next:this.next,previous:this.previous,ride:n?"carousel":void 0},l),a&&r.a.createElement(Nt,{items:s,activeIndex:l.activeIndex||c,onClickHandler:o||this.goToIndex}),d,i&&r.a.createElement(Et,{direction:"prev",directionText:"Previous",onClickHandler:l.previous||this.previous}),i&&r.a.createElement(Et,{direction:"next",directionText:"Next",onClickHandler:l.next||this.next}))}}]),t}(a.Component);Mt.propTypes=Ct,Mt.defaultProps={controls:!0,indicators:!0,autoPlay:!0};var Pt={tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object},St=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=T(e,["className","cssModule","tag"]),s=A(l()(t,"card-subtitle"),n);return r.a.createElement(a,x({},i,{className:s}))};St.propTypes=Pt,St.defaultProps={tag:"h6"};var At={tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object},It=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=T(e,["className","cssModule","tag"]),s=A(l()(t,"card-text"),n);return r.a.createElement(a,x({},i,{className:s}))};It.propTypes=At,It.defaultProps={tag:"p"};var Dt={tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object},Lt=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=T(e,["className","cssModule","tag"]),s=A(l()(t,"card-title"),n);return r.a.createElement(a,x({},i,{className:s}))};Lt.propTypes=Dt,Lt.defaultProps={tag:"h5"};s.a.string,s.a.oneOfType([s.a.string,s.a.number]).isRequired,s.a.string.isRequired,s.a.node,s.a.bool,s.a.bool,s.a.bool,s.a.string,s.a.object,s.a.oneOfType([s.a.node,s.a.array,s.a.func]),s.a.oneOfType([s.a.object,s.a.string,s.a.func]);var Rt={children:s.a.node.isRequired,className:s.a.string,placement:s.a.string,placementPrefix:s.a.string,arrowClassName:s.a.string,hideArrow:s.a.bool,tag:s.a.string,isOpen:s.a.bool.isRequired,cssModule:s.a.object,offset:s.a.oneOfType([s.a.string,s.a.number]),fallbackPlacement:s.a.oneOfType([s.a.string,s.a.array]),flip:s.a.bool,container:U,target:U.isRequired,modifiers:s.a.object,boundariesElement:s.a.oneOfType([s.a.string,q])},Ft={popperManager:s.a.object.isRequired},qt=function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlePlacementChange=n.handlePlacementChange.bind(n),n.setTargetNode=n.setTargetNode.bind(n),n.getTargetNode=n.getTargetNode.bind(n),n.state={},n}return w(t,e),k(t,[{key:"getChildContext",value:function(){return{popperManager:{setTargetNode:this.setTargetNode,getTargetNode:this.getTargetNode}}}},{key:"componentDidMount",value:function(){this.handleProps()}},{key:"componentDidUpdate",value:function(e){this.props.isOpen!==e.isOpen?this.handleProps():this._element&&this.renderIntoSubtree()}},{key:"componentWillUnmount",value:function(){this.hide()}},{key:"setTargetNode",value:function(e){this.targetNode=e}},{key:"getTargetNode",value:function(){return this.targetNode}},{key:"getContainerNode",value:function(){return G(this.props.container)}},{key:"handlePlacementChange",value:function(e){return this.state.placement!==e.placement&&this.setState({placement:e.placement}),e}},{key:"handleProps",value:function(){"inline"!==this.props.container&&(this.props.isOpen?this.show():this.hide())}},{key:"hide",value:function(){this._element&&(this.getContainerNode().removeChild(this._element),f.a.unmountComponentAtNode(this._element),this._element=null)}},{key:"show",value:function(){this._element=document.createElement("div"),this.getContainerNode().appendChild(this._element),this.renderIntoSubtree(),this._element.childNodes&&this._element.childNodes[0]&&this._element.childNodes[0].focus&&this._element.childNodes[0].focus()}},{key:"renderIntoSubtree",value:function(){f.a.unstable_renderSubtreeIntoContainer(this,this.renderChildren(),this._element)}},{key:"renderChildren",value:function(){var e=this.props,t=e.cssModule,n=e.children,a=(e.isOpen,e.flip),i=(e.target,e.offset),s=e.fallbackPlacement,o=e.placementPrefix,c=e.arrowClassName,d=e.hideArrow,h=e.className,u=e.tag,p=(e.container,e.modifiers),f=e.boundariesElement,m=T(e,["cssModule","children","isOpen","flip","target","offset","fallbackPlacement","placementPrefix","arrowClassName","hideArrow","className","tag","container","modifiers","boundariesElement"]),_=A(l()("arrow",c),t),v=(this.state.placement||m.placement).split("-")[0],b=A(l()(h,o?o+"-"+v:v),this.props.cssModule),y=x({offset:{offset:i},flip:{enabled:a,behavior:s},preventOverflow:{boundariesElement:f},update:{enabled:!0,order:950,fn:this.handlePlacementChange}},p);return r.a.createElement(g.c,x({modifiers:y},m,{component:u,className:b,"x-placement":this.state.placement||m.placement}),n,!d&&r.a.createElement(g.a,{className:_}))}},{key:"render",value:function(){return this.setTargetNode(G(this.props.target)),"inline"===this.props.container&&this.props.isOpen?this.renderChildren():null}}]),t}(r.a.Component);qt.propTypes=Rt,qt.defaultProps={boundariesElement:"scrollParent",placement:"auto",hideArrow:!1,isOpen:!1,offset:0,fallbackPlacement:"flip",flip:!0,container:"body",modifiers:{}},qt.childContextTypes=Ft;var Ut=function(e,t){return t.popperManager.setTargetNode(G(e.target)),null};Ut.contextTypes={popperManager:s.a.object.isRequired},Ut.propTypes={target:U.isRequired};var zt={placement:s.a.oneOf(B),target:U.isRequired,container:U,boundariesElement:s.a.oneOfType([s.a.string,q]),isOpen:s.a.bool,disabled:s.a.bool,hideArrow:s.a.bool,className:s.a.string,innerClassName:s.a.string,placementPrefix:s.a.string,cssModule:s.a.object,toggle:s.a.func,delay:s.a.oneOfType([s.a.shape({show:s.a.number,hide:s.a.number}),s.a.number]),modifiers:s.a.object,offset:s.a.oneOfType([s.a.string,s.a.number])},Kt={show:0,hide:0},Ht={isOpen:!1,hideArrow:!1,placement:"right",placementPrefix:"bs-popover",delay:Kt,toggle:function(){}},Wt=function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.addTargetEvents=n.addTargetEvents.bind(n),n.handleDocumentClick=n.handleDocumentClick.bind(n),n.removeTargetEvents=n.removeTargetEvents.bind(n),n.getRef=n.getRef.bind(n),n.toggle=n.toggle.bind(n),n.show=n.show.bind(n),n.hide=n.hide.bind(n),n._target=null,n}return w(t,e),k(t,[{key:"componentDidMount",value:function(){this._target=G(this.props.target),this.handleProps()}},{key:"componentDidUpdate",value:function(){this.handleProps()}},{key:"componentWillUnmount",value:function(){this.clearShowTimeout(),this.clearHideTimeout(),this.removeTargetEvents()}},{key:"getRef",value:function(e){this._popover=e}},{key:"getDelay",value:function(e){var t=this.props.delay;return"object"===(void 0===t?"undefined":b(t))?isNaN(t[e])?Kt[e]:t[e]:t}},{key:"handleProps",value:function(){this.props.isOpen?this.show():this.hide()}},{key:"show",value:function(){this.clearHideTimeout(),this.addTargetEvents(),this.props.isOpen||(this.clearShowTimeout(),this._showTimeout=setTimeout(this.toggle,this.getDelay("show")))}},{key:"hide",value:function(){this.clearShowTimeout(),this.removeTargetEvents(),this.props.isOpen&&(this.clearHideTimeout(),this._hideTimeout=setTimeout(this.toggle,this.getDelay("hide")))}},{key:"clearShowTimeout",value:function(){clearTimeout(this._showTimeout),this._showTimeout=void 0}},{key:"clearHideTimeout",value:function(){clearTimeout(this._hideTimeout),this._hideTimeout=void 0}},{key:"handleDocumentClick",value:function(e){this._target&&(e.target===this._target||this._target.contains(e.target)||e.target===this._popover||this._popover&&this._popover.contains(e.target)||(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen&&this.toggle(e)))}},{key:"addTargetEvents",value:function(){var e=this;["click","touchstart"].forEach(function(t){return document.addEventListener(t,e.handleDocumentClick,!0)})}},{key:"removeTargetEvents",value:function(){var e=this;["click","touchstart"].forEach(function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)})}},{key:"toggle",value:function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle(e)}},{key:"render",value:function(){if(!this.props.isOpen)return null;var e=I(this.props,Object.keys(zt)),t=A(l()("popover-inner",this.props.innerClassName),this.props.cssModule),n=A(l()("popover","show",this.props.className),this.props.cssModule);return r.a.createElement(qt,{className:n,target:this.props.target,isOpen:this.props.isOpen,hideArrow:this.props.hideArrow,placement:this.props.placement,placementPrefix:this.props.placementPrefix,container:this.props.container,modifiers:this.props.modifiers,offset:this.props.offset,boundariesElement:this.props.boundariesElement},r.a.createElement("div",x({},e,{className:t,ref:this.getRef})))}}]),t}(r.a.Component);Wt.propTypes=zt,Wt.defaultProps=Ht;var Bt={tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object},$t=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=T(e,["className","cssModule","tag"]),s=A(l()(t,"popover-header"),n);return r.a.createElement(a,x({},i,{className:s}))};$t.propTypes=Bt,$t.defaultProps={tag:"h3"};var Jt={tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object},Xt=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=T(e,["className","cssModule","tag"]),s=A(l()(t,"popover-body"),n);return r.a.createElement(a,x({},i,{className:s}))};Xt.propTypes=Jt,Xt.defaultProps={tag:"div"};var Yt={children:s.a.node,bar:s.a.bool,multi:s.a.bool,tag:s.a.string,value:s.a.oneOfType([s.a.string,s.a.number]),max:s.a.oneOfType([s.a.string,s.a.number]),animated:s.a.bool,striped:s.a.bool,color:s.a.string,className:s.a.string,barClassName:s.a.string,cssModule:s.a.object},Gt=function(e){var t=e.children,n=e.className,a=e.barClassName,i=e.cssModule,s=e.value,o=e.max,c=e.animated,d=e.striped,h=e.color,u=e.bar,p=e.multi,f=e.tag,g=T(e,["children","className","barClassName","cssModule","value","max","animated","striped","color","bar","multi","tag"]),m=_()(s)/_()(o)*100,v=A(l()(n,"progress"),i),b=A(l()("progress-bar",u&&n||a,c?"progress-bar-animated":null,h?"bg-"+h:null,d||c?"progress-bar-striped":null),i),y=p?t:r.a.createElement("div",{className:b,style:{width:m+"%"},role:"progressbar","aria-valuenow":s,"aria-valuemin":"0","aria-valuemax":o,children:t});return u?y:r.a.createElement(f,x({},g,{className:v,children:y}))};Gt.propTypes=Yt,Gt.defaultProps={tag:"div",value:0,max:100};var Vt={children:s.a.node.isRequired,node:s.a.any},Zt=function(e){function t(){return y(this,t),E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,e),k(t,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return $?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),f.a.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),t}(r.a.Component);function Qt(){}Zt.propTypes=Vt;var en=s.a.shape(tt.propTypes),tn={isOpen:s.a.bool,autoFocus:s.a.bool,centered:s.a.bool,size:s.a.string,toggle:s.a.func,keyboard:s.a.bool,role:s.a.string,labelledBy:s.a.string,backdrop:s.a.oneOfType([s.a.bool,s.a.oneOf(["static"])]),onEnter:s.a.func,onExit:s.a.func,onOpened:s.a.func,onClosed:s.a.func,children:s.a.node,className:s.a.string,wrapClassName:s.a.string,modalClassName:s.a.string,backdropClassName:s.a.string,contentClassName:s.a.string,external:s.a.node,fade:s.a.bool,cssModule:s.a.object,zIndex:s.a.oneOfType([s.a.number,s.a.string]),backdropTransition:en,modalTransition:en,innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},nn=Object.keys(tn),an={isOpen:!1,autoFocus:!0,centered:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:Qt,onClosed:Qt,modalTransition:{timeout:z.Modal},backdropTransition:{mountOnEnter:!0,timeout:z.Fade}},rn=function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._element=null,n._originalBodyPadding=null,n.getFocusableChildren=n.getFocusableChildren.bind(n),n.handleBackdropClick=n.handleBackdropClick.bind(n),n.handleBackdropMouseDown=n.handleBackdropMouseDown.bind(n),n.handleEscape=n.handleEscape.bind(n),n.handleTab=n.handleTab.bind(n),n.onOpened=n.onOpened.bind(n),n.onClosed=n.onClosed.bind(n),n.state={isOpen:e.isOpen},e.isOpen&&n.init(),n}return w(t,e),k(t,[{key:"componentDidMount",value:function(){this.props.onEnter&&this.props.onEnter(),this.state.isOpen&&this.props.autoFocus&&this.setFocus(),this._isMounted=!0}},{key:"componentWillReceiveProps",value:function(e){e.isOpen&&!this.props.isOpen&&this.setState({isOpen:e.isOpen})}},{key:"componentWillUpdate",value:function(e,t){t.isOpen&&!this.state.isOpen&&this.init()}},{key:"componentDidUpdate",value:function(e,t){this.props.autoFocus&&this.state.isOpen&&!t.isOpen&&this.setFocus(),this._element&&e.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)}},{key:"componentWillUnmount",value:function(){this.props.onExit&&this.props.onExit(),this.state.isOpen&&this.destroy(),this._isMounted=!1}},{key:"onOpened",value:function(e,t){this.props.onOpened(),(this.props.modalTransition.onEntered||Qt)(e,t)}},{key:"onClosed",value:function(e){this.props.onClosed(),(this.props.modalTransition.onExited||Qt)(e),this.destroy(),this._isMounted&&this.setState({isOpen:!1})}},{key:"setFocus",value:function(){this._dialog&&this._dialog.parentNode&&"function"==typeof this._dialog.parentNode.focus&&this._dialog.parentNode.focus()}},{key:"getFocusableChildren",value:function(){return this._element.querySelectorAll(Q.join(", "))}},{key:"getFocusedChild",value:function(){var e=void 0,t=this.getFocusableChildren();try{e=document.activeElement}catch(n){e=t[0]}return e}},{key:"handleBackdropClick",value:function(e){if(e.target===this._mouseDownElement){if(e.stopPropagation(),!this.props.isOpen||!0!==this.props.backdrop)return;var t=this._dialog;e.target&&!t.contains(e.target)&&this.props.toggle&&this.props.toggle(e)}}},{key:"handleTab",value:function(e){if(9===e.which){for(var t=this.getFocusableChildren(),n=t.length,a=this.getFocusedChild(),r=0,i=0;i<n;i+=1)if(t[i]===a){r=i;break}e.shiftKey&&0===r?(e.preventDefault(),t[n-1].focus()):e.shiftKey||r!==n-1||(e.preventDefault(),t[0].focus())}}},{key:"handleBackdropMouseDown",value:function(e){this._mouseDownElement=e.target}},{key:"handleEscape",value:function(e){this.props.isOpen&&this.props.keyboard&&27===e.keyCode&&this.props.toggle&&this.props.toggle(e)}},{key:"init",value:function(){try{this._triggeringElement=document.activeElement}catch(e){this._triggeringElement=null}this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._originalBodyPadding=M(),P(),document.body.appendChild(this._element),0===t.openCount&&(document.body.className=l()(document.body.className,A("modal-open",this.props.cssModule))),t.openCount+=1}},{key:"destroy",value:function(){if(this._element&&(document.body.removeChild(this._element),this._element=null),this._triggeringElement&&(this._triggeringElement.focus&&this._triggeringElement.focus(),this._triggeringElement=null),t.openCount<=1){var e=A("modal-open",this.props.cssModule),n=new RegExp("(^| )"+e+"( |$)");document.body.className=document.body.className.replace(n," ").trim()}t.openCount-=1,O(this._originalBodyPadding)}},{key:"renderModalDialog",value:function(){var e,t=this,n=I(this.props,nn);return r.a.createElement("div",x({},n,{className:A(l()("modal-dialog",this.props.className,(e={},j(e,"modal-"+this.props.size,this.props.size),j(e,"modal-dialog-centered",this.props.centered),e)),this.props.cssModule),role:"document",ref:function(e){t._dialog=e}}),r.a.createElement("div",{className:A(l()("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))}},{key:"render",value:function(){if(this.state.isOpen){var e=this.props,t=e.wrapClassName,n=e.modalClassName,a=e.backdropClassName,i=e.cssModule,s=e.isOpen,o=e.backdrop,c=e.role,d=e.labelledBy,h=e.external,u=e.innerRef,p={onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown,onKeyUp:this.handleEscape,onKeyDown:this.handleTab,style:{display:"block"},"aria-labelledby":d,role:c,tabIndex:"-1"},f=this.props.fade,g=x({},tt.defaultProps,this.props.modalTransition,{baseClass:f?this.props.modalTransition.baseClass:"",timeout:f?this.props.modalTransition.timeout:0}),m=x({},tt.defaultProps,this.props.backdropTransition,{baseClass:f?this.props.backdropTransition.baseClass:"",timeout:f?this.props.backdropTransition.timeout:0}),_=f?r.a.createElement(tt,x({},m,{in:s&&!!o,cssModule:i,className:A(l()("modal-backdrop",a),i)})):r.a.createElement("div",{className:A(l()("modal-backdrop","show",a),i)});return r.a.createElement(Zt,{node:this._element},r.a.createElement("div",{className:A(t)},r.a.createElement(tt,x({},p,g,{in:s,onEntered:this.onOpened,onExited:this.onClosed,cssModule:i,className:A(l()("modal",n),i),innerRef:u}),h,this.renderModalDialog()),_))}return null}}]),t}(r.a.Component);rn.propTypes=tn,rn.defaultProps=an,rn.openCount=0;var sn={tag:s.a.oneOfType([s.a.func,s.a.string]),wrapTag:s.a.oneOfType([s.a.func,s.a.string]),toggle:s.a.func,className:s.a.string,cssModule:s.a.object,children:s.a.node,closeAriaLabel:s.a.string,charCode:s.a.oneOfType([s.a.string,s.a.number]),close:s.a.object},on=function(e){var t=void 0,n=e.className,a=e.cssModule,i=e.children,s=e.toggle,o=e.tag,c=e.wrapTag,d=e.closeAriaLabel,h=e.charCode,u=e.close,p=T(e,["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","charCode","close"]),f=A(l()(n,"modal-header"),a);if(!u&&s){var g="number"==typeof h?String.fromCharCode(h):h;t=r.a.createElement("button",{type:"button",onClick:s,className:A("close",a),"aria-label":d},r.a.createElement("span",{"aria-hidden":"true"},g))}return r.a.createElement(c,x({},p,{className:f}),r.a.createElement(o,{className:A("modal-title",a)},i),u||t)};on.propTypes=sn,on.defaultProps={tag:"h5",wrapTag:"div",closeAriaLabel:"Close",charCode:215};var ln={tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object},cn=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=T(e,["className","cssModule","tag"]),s=A(l()(t,"modal-body"),n);return r.a.createElement(a,x({},i,{className:s}))};cn.propTypes=ln,cn.defaultProps={tag:"div"};var dn={tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object},hn=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=T(e,["className","cssModule","tag"]),s=A(l()(t,"modal-footer"),n);return r.a.createElement(a,x({},i,{className:s}))};hn.propTypes=dn,hn.defaultProps={tag:"div"};var un={placement:s.a.oneOf(B),target:U.isRequired,container:U,isOpen:s.a.bool,disabled:s.a.bool,hideArrow:s.a.bool,boundariesElement:s.a.oneOfType([s.a.string,q]),className:s.a.string,innerClassName:s.a.string,arrowClassName:s.a.string,cssModule:s.a.object,toggle:s.a.func,autohide:s.a.bool,placementPrefix:s.a.string,delay:s.a.oneOfType([s.a.shape({show:s.a.number,hide:s.a.number}),s.a.number]),modifiers:s.a.object,offset:s.a.oneOfType([s.a.string,s.a.number]),innerRef:s.a.oneOfType([s.a.func,s.a.string,s.a.object]),trigger:s.a.string},pn={show:0,hide:250},fn={isOpen:!1,hideArrow:!1,placement:"top",placementPrefix:"bs-tooltip",delay:pn,autohide:!0,toggle:function(){}},gn=function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._target=null,n.addTargetEvents=n.addTargetEvents.bind(n),n.handleDocumentClick=n.handleDocumentClick.bind(n),n.removeTargetEvents=n.removeTargetEvents.bind(n),n.toggle=n.toggle.bind(n),n.onMouseOverTooltip=n.onMouseOverTooltip.bind(n),n.onMouseLeaveTooltip=n.onMouseLeaveTooltip.bind(n),n.onMouseOverTooltipContent=n.onMouseOverTooltipContent.bind(n),n.onMouseLeaveTooltipContent=n.onMouseLeaveTooltipContent.bind(n),n.show=n.show.bind(n),n.hide=n.hide.bind(n),n.onEscKeyDown=n.onEscKeyDown.bind(n),n}return w(t,e),k(t,[{key:"componentDidMount",value:function(){this._target=G(this.props.target),this.addTargetEvents()}},{key:"componentWillUnmount",value:function(){this.clearHideTimeout(),this.clearShowTimeout(),this.removeTargetEvents()}},{key:"onMouseOverTooltip",value:function(e){this._hideTimeout&&this.clearHideTimeout(),this._showTimeout=setTimeout(this.show.bind(this,e),this.getDelay("show"))}},{key:"onMouseLeaveTooltip",value:function(e){this._showTimeout&&this.clearShowTimeout(),this._hideTimeout=setTimeout(this.hide.bind(this,e),this.getDelay("hide"))}},{key:"onMouseOverTooltipContent",value:function(){this.props.autohide||this._hideTimeout&&this.clearHideTimeout()}},{key:"onMouseLeaveTooltipContent",value:function(e){this.props.autohide||(this._showTimeout&&this.clearShowTimeout(),e.persist(),this._hideTimeout=setTimeout(this.hide.bind(this,e),this.getDelay("hide")))}},{key:"onEscKeyDown",value:function(e){"Escape"===e.key&&this.hide(e)}},{key:"getDelay",value:function(e){var t=this.props.delay;return"object"===(void 0===t?"undefined":b(t))?isNaN(t[e])?pn[e]:t[e]:t}},{key:"show",value:function(e){this.props.isOpen||(this.clearShowTimeout(),this.toggle(e))}},{key:"hide",value:function(e){this.props.isOpen&&(this.clearHideTimeout(),this.toggle(e))}},{key:"clearShowTimeout",value:function(){clearTimeout(this._showTimeout),this._showTimeout=void 0}},{key:"clearHideTimeout",value:function(){clearTimeout(this._hideTimeout),this._hideTimeout=void 0}},{key:"handleDocumentClick",value:function(e){null===this._target||e.target!==this._target&&!this._target.contains(e.target)?this.props.isOpen&&"tooltip"!==e.target.getAttribute("role")&&(this._showTimeout&&this.clearShowTimeout(),this._hideTimeout=setTimeout(this.hide.bind(this,e),this.getDelay("hide"))):(this._hideTimeout&&this.clearHideTimeout(),this.props.isOpen||this.toggle(e))}},{key:"addTargetEvents",value:function(){var e=this;if(this.props.trigger){var t=this.props.trigger.split(" ");-1===t.indexOf("manual")&&(t.indexOf("click")>-1&&["click","touchstart"].forEach(function(t){return document.addEventListener(t,e.handleDocumentClick,!0)}),null!==this._target&&(t.indexOf("hover")>-1&&(this._target.addEventListener("mouseover",this.onMouseOverTooltip,!0),this._target.addEventListener("mouseout",this.onMouseLeaveTooltip,!0)),t.indexOf("focus")>-1&&(this._target.addEventListener("focusin",this.show,!0),this._target.addEventListener("focusout",this.hide,!0)),this._target.addEventListener("keydown",this.onEscKeyDown,!0)))}else null!==this._target&&(this._target.addEventListener("mouseover",this.onMouseOverTooltip,!0),this._target.addEventListener("mouseout",this.onMouseLeaveTooltip,!0),this._target.addEventListener("keydown",this.onEscKeyDown,!0),this._target.addEventListener("focusin",this.show,!0),this._target.addEventListener("focusout",this.hide,!0)),["click","touchstart"].forEach(function(t){return document.addEventListener(t,e.handleDocumentClick,!0)})}},{key:"removeTargetEvents",value:function(){var e=this;null!==this._target&&(this._target.removeEventListener("mouseover",this.onMouseOverTooltip,!0),this._target.removeEventListener("mouseout",this.onMouseLeaveTooltip,!0),this._target.addEventListener("keydown",this.onEscKeyDown,!0),this._target.addEventListener("focusin",this.show,!0),this._target.addEventListener("focusout",this.hide,!0)),["click","touchstart"].forEach(function(t){return document.removeEventListener(t,e.handleDocumentClick,!0)})}},{key:"toggle",value:function(e){return this.props.disabled?e&&e.preventDefault():this.props.toggle(e)}},{key:"render",value:function(){if(!this.props.isOpen)return null;var e=I(this.props,Object.keys(un)),t=A(l()("tooltip-inner",this.props.innerClassName),this.props.cssModule),n=A(l()("tooltip","show",this.props.className),this.props.cssModule);return r.a.createElement(qt,{className:n,target:this.props.target,isOpen:this.props.isOpen,hideArrow:this.props.hideArrow,boundariesElement:this.props.boundariesElement,placement:this.props.placement,placementPrefix:this.props.placementPrefix,arrowClassName:this.props.arrowClassName,container:this.props.container,modifiers:this.props.modifiers,offset:this.props.offset,cssModule:this.props.cssModule},r.a.createElement("div",x({},e,{ref:this.props.innerRef,className:t,role:"tooltip","aria-hidden":this.props.isOpen,onMouseOver:this.onMouseOverTooltipContent,onMouseLeave:this.onMouseLeaveTooltipContent,onKeyDown:this.onEscKeyDown})))}}]),t}(r.a.Component);gn.propTypes=un,gn.defaultProps=fn;var mn={className:s.a.string,cssModule:s.a.object,size:s.a.string,bordered:s.a.bool,borderless:s.a.bool,striped:s.a.bool,inverse:F(s.a.bool,'Please use the prop "dark"'),dark:s.a.bool,hover:s.a.bool,responsive:s.a.oneOfType([s.a.bool,s.a.string]),tag:s.a.oneOfType([s.a.func,s.a.string]),responsiveTag:s.a.oneOfType([s.a.func,s.a.string])},_n=function(e){var t=e.className,n=e.cssModule,a=e.size,i=e.bordered,s=e.borderless,o=e.striped,c=e.inverse,d=e.dark,h=e.hover,u=e.responsive,p=e.tag,f=e.responsiveTag,g=T(e,["className","cssModule","size","bordered","borderless","striped","inverse","dark","hover","responsive","tag","responsiveTag"]),m=A(l()(t,"table",!!a&&"table-"+a,!!i&&"table-bordered",!!s&&"table-borderless",!!o&&"table-striped",!(!d&&!c)&&"table-dark",!!h&&"table-hover"),n),_=r.a.createElement(p,x({},g,{className:m}));if(u){var v=!0===u?"table-responsive":"table-responsive-"+u;return r.a.createElement(f,{className:v},_)}return _};_n.propTypes=mn,_n.defaultProps={tag:"table",responsiveTag:"div"};var vn={tag:s.a.oneOfType([s.a.func,s.a.string]),flush:s.a.bool,className:s.a.string,cssModule:s.a.object},bn=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=e.flush,s=T(e,["className","cssModule","tag","flush"]),o=A(l()(t,"list-group",!!i&&"list-group-flush"),n);return r.a.createElement(a,x({},s,{className:o}))};bn.propTypes=vn,bn.defaultProps={tag:"ul"};var yn={children:s.a.node,inline:s.a.bool,tag:s.a.oneOfType([s.a.func,s.a.string]),innerRef:s.a.oneOfType([s.a.object,s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object},kn=function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getRef=n.getRef.bind(n),n.submit=n.submit.bind(n),n}return w(t,e),k(t,[{key:"getRef",value:function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e}},{key:"submit",value:function(){this.ref&&this.ref.submit()}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cssModule,a=e.inline,i=e.tag,s=e.innerRef,o=T(e,["className","cssModule","inline","tag","innerRef"]),c=A(l()(t,!!a&&"form-inline"),n);return r.a.createElement(i,x({},o,{ref:s,className:c}))}}]),t}(a.Component);kn.propTypes=yn,kn.defaultProps={tag:"form"};var jn={children:s.a.node,tag:s.a.string,className:s.a.string,cssModule:s.a.object,valid:s.a.bool,tooltip:s.a.bool},xn={tag:"div",valid:void 0},wn=function(e){var t=e.className,n=e.cssModule,a=e.valid,i=e.tooltip,s=e.tag,o=T(e,["className","cssModule","valid","tooltip","tag"]),c=i?"tooltip":"feedback",d=A(l()(t,a?"valid-"+c:"invalid-"+c),n);return r.a.createElement(s,x({},o,{className:d}))};wn.propTypes=jn,wn.defaultProps=xn;var Tn={children:s.a.node,row:s.a.bool,check:s.a.bool,inline:s.a.bool,disabled:s.a.bool,tag:s.a.string,className:s.a.string,cssModule:s.a.object},En=function(e){var t=e.className,n=e.cssModule,a=e.row,i=e.disabled,s=e.check,o=e.inline,c=e.tag,d=T(e,["className","cssModule","row","disabled","check","inline","tag"]),h=A(l()(t,"position-relative",!!a&&"row",s?"form-check":"form-group",!(!s||!o)&&"form-check-inline",!(!s||!i)&&"disabled"),n);return r.a.createElement(c,x({},d,{className:h}))};En.propTypes=Tn,En.defaultProps={tag:"div"};var Nn={children:s.a.node,inline:s.a.bool,tag:s.a.oneOfType([s.a.func,s.a.string]),color:s.a.string,className:s.a.string,cssModule:s.a.object},On=function(e){var t=e.className,n=e.cssModule,a=e.inline,i=e.color,s=e.tag,o=T(e,["className","cssModule","inline","color","tag"]),c=A(l()(t,!a&&"form-text",!!i&&"text-"+i),n);return r.a.createElement(s,x({},o,{className:c}))};On.propTypes=Nn,On.defaultProps={tag:"small",color:"muted"};var Cn={children:s.a.node,type:s.a.string,size:s.a.string,bsSize:s.a.string,state:F(s.a.string,'Please use the props "valid" and "invalid" to indicate the state.'),valid:s.a.bool,invalid:s.a.bool,tag:s.a.oneOfType([s.a.func,s.a.string]),innerRef:s.a.oneOfType([s.a.object,s.a.func,s.a.string]),static:F(s.a.bool,'Please use the prop "plaintext"'),plaintext:s.a.bool,addon:s.a.bool,className:s.a.string,cssModule:s.a.object},Mn=function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getRef=n.getRef.bind(n),n.focus=n.focus.bind(n),n}return w(t,e),k(t,[{key:"getRef",value:function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e}},{key:"focus",value:function(){this.ref&&this.ref.focus()}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cssModule,a=e.type,i=e.bsSize,s=e.state,o=e.valid,c=e.invalid,d=e.tag,h=e.addon,u=e.static,p=e.plaintext,f=e.innerRef,g=T(e,["className","cssModule","type","bsSize","state","valid","invalid","tag","addon","static","plaintext","innerRef"]),m=["radio","checkbox"].indexOf(a)>-1,_=new RegExp("\\D","g"),v=d||("select"===a||"textarea"===a?a:"input"),b="form-control";p||u?(b+="-plaintext",v=d||"p"):"file"===a?b+="-file":m&&(b=h?null:"form-check-input"),s&&void 0===o&&void 0===c&&("danger"===s?c=!0:"success"===s&&(o=!0)),g.size&&_.test(g.size)&&(R('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),i=g.size,delete g.size);var y=A(l()(t,c&&"is-invalid",o&&"is-valid",!!i&&"form-control-"+i,b),n);return("input"===v||d&&"function"==typeof d)&&(g.type=a),!g.children||p||u||"select"===a||"string"!=typeof v||"select"===v||(R('Input with a type of "'+a+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete g.children),r.a.createElement(v,x({},g,{ref:f,className:y}))}}]),t}(r.a.Component);Mn.propTypes=Cn,Mn.defaultProps={type:"text"};var Pn={tag:s.a.oneOfType([s.a.func,s.a.string]),size:s.a.string,className:s.a.string,cssModule:s.a.object},Sn=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=e.size,s=T(e,["className","cssModule","tag","size"]),o=A(l()(t,"input-group",i?"input-group-"+i:null),n);return r.a.createElement(a,x({},s,{className:o}))};Sn.propTypes=Pn,Sn.defaultProps={tag:"div"};var An={tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object},In=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=T(e,["className","cssModule","tag"]),s=A(l()(t,"input-group-text"),n);return r.a.createElement(a,x({},i,{className:s}))};In.propTypes=An,In.defaultProps={tag:"span"};var Dn={tag:s.a.oneOfType([s.a.func,s.a.string]),addonType:s.a.oneOf(["prepend","append"]).isRequired,children:s.a.node,className:s.a.string,cssModule:s.a.object},Ln=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=e.addonType,s=e.children,o=T(e,["className","cssModule","tag","addonType","children"]),c=A(l()(t,"input-group-"+i),n);return"string"==typeof s?r.a.createElement(a,x({},o,{className:c}),r.a.createElement(In,{children:s})):r.a.createElement(a,x({},o,{className:c,children:s}))};Ln.propTypes=Dn,Ln.defaultProps={tag:"div"};s.a.oneOfType([s.a.func,s.a.string]),s.a.oneOf(["prepend","append"]).isRequired,s.a.node,s.a.string,s.a.object,s.a.string,s.a.object,s.a.oneOf(["prepend","append"]).isRequired,s.a.node;var Rn=s.a.oneOfType([s.a.number,s.a.string]),Fn=s.a.oneOfType([s.a.string,s.a.number,s.a.shape({size:Rn,push:F(Rn,'Please use the prop "order"'),pull:F(Rn,'Please use the prop "order"'),order:Rn,offset:Rn})]),qn={children:s.a.node,hidden:s.a.bool,check:s.a.bool,size:s.a.string,for:s.a.string,tag:s.a.string,className:s.a.string,cssModule:s.a.object,xs:Fn,sm:Fn,md:Fn,lg:Fn,xl:Fn,widths:s.a.array},Un={tag:"label",widths:["xs","sm","md","lg","xl"]},zn=function(e,t,n){return!0===n||""===n?e?"col":"col-"+t:"auto"===n?e?"col-auto":"col-"+t+"-auto":e?"col-"+n:"col-"+t+"-"+n},Kn=function(e){var t=e.className,n=e.cssModule,a=e.hidden,i=e.widths,s=e.tag,o=e.check,c=e.size,d=e.for,h=T(e,["className","cssModule","hidden","widths","tag","check","size","for"]),p=[];i.forEach(function(t,a){var r=e[t];if(delete h[t],r||""===r){var i=!a,s=void 0;if(u()(r)){var o,c=i?"-":"-"+t+"-";s=zn(i,t,r.size),p.push(A(l()((j(o={},s,r.size||""===r.size),j(o,"order"+c+r.order,r.order||0===r.order),j(o,"offset"+c+r.offset,r.offset||0===r.offset),o))),n)}else s=zn(i,t,r),p.push(s)}});var f=A(l()(t,!!a&&"sr-only",!!o&&"form-check-label",!!c&&"col-form-label-"+c,p,!!p.length&&"col-form-label"),n);return r.a.createElement(s,x({htmlFor:d},h,{className:f}))};Kn.propTypes=qn,Kn.defaultProps=Un;s.a.bool,s.a.bool,s.a.node,s.a.string,s.a.object,s.a.bool,s.a.bool,s.a.bool,s.a.bool,s.a.bool,s.a.bool,s.a.oneOfType([s.a.func,s.a.string]),s.a.bool;var Hn={children:s.a.node,className:s.a.string,listClassName:s.a.string,cssModule:s.a.object,size:s.a.string,tag:s.a.oneOfType([s.a.func,s.a.string]),listTag:s.a.oneOfType([s.a.func,s.a.string]),"aria-label":s.a.string},Wn=function(e){var t=e.className,n=e.listClassName,a=e.cssModule,i=e.size,s=e.tag,o=e.listTag,c=e["aria-label"],d=T(e,["className","listClassName","cssModule","size","tag","listTag","aria-label"]),h=A(l()(t),a),u=A(l()(n,"pagination",j({},"pagination-"+i,!!i)),a);return r.a.createElement(s,{className:h,"aria-label":c},r.a.createElement(o,x({},d,{className:u})))};Wn.propTypes=Hn,Wn.defaultProps={tag:"nav",listTag:"ul","aria-label":"pagination"};var Bn={active:s.a.bool,children:s.a.node,className:s.a.string,cssModule:s.a.object,disabled:s.a.bool,tag:s.a.oneOfType([s.a.func,s.a.string])},$n=function(e){var t=e.active,n=e.className,a=e.cssModule,i=e.disabled,s=e.tag,o=T(e,["active","className","cssModule","disabled","tag"]),c=A(l()(n,"page-item",{active:t,disabled:i}),a);return r.a.createElement(s,x({},o,{className:c}))};$n.propTypes=Bn,$n.defaultProps={tag:"li"};var Jn={"aria-label":s.a.string,children:s.a.node,className:s.a.string,cssModule:s.a.object,next:s.a.bool,previous:s.a.bool,tag:s.a.oneOfType([s.a.func,s.a.string])},Xn=function(e){var t=e.className,n=e.cssModule,a=e.next,i=e.previous,s=e.tag,o=T(e,["className","cssModule","next","previous","tag"]),c=A(l()(t,"page-link"),n),d=void 0;i?d="Previous":a&&(d="Next");var h=e["aria-label"]||d,u=void 0;i?u="":a&&(u="");var p=e.children;return p&&Array.isArray(p)&&0===p.length&&(p=null),o.href||"a"!==s||(s="button"),(i||a)&&(p=[r.a.createElement("span",{"aria-hidden":"true",key:"caret"},p||u),r.a.createElement("span",{className:"sr-only",key:"sr"},h)]),r.a.createElement(s,x({},o,{className:c,"aria-label":h}),p)};Xn.propTypes=Jn,Xn.defaultProps={tag:"a"};var Yn={tag:s.a.oneOfType([s.a.func,s.a.string]),activeTab:s.a.any,className:s.a.string,cssModule:s.a.object},Gn={activeTabId:s.a.any},Vn=function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={activeTab:n.props.activeTab},n}return w(t,e),k(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return t.activeTab!==e.activeTab?{activeTab:e.activeTab}:null}}]),k(t,[{key:"getChildContext",value:function(){return{activeTabId:this.state.activeTab}}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cssModule,a=e.tag,i=I(this.props,Object.keys(Yn)),s=A(l()("tab-content",t),n);return r.a.createElement(a,x({},i,{className:s}))}}]),t}(a.Component);Object(v.a)(Vn),Vn.propTypes=Yn,Vn.defaultProps={tag:"div"},Vn.childContextTypes=Gn;var Zn={tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.string,cssModule:s.a.object,tabId:s.a.any},Qn={activeTabId:s.a.any};function ea(e,t){var n=e.className,a=e.cssModule,i=e.tabId,s=e.tag,o=T(e,["className","cssModule","tabId","tag"]),c=A(l()("tab-pane",n,{active:i===t.activeTabId}),a);return r.a.createElement(s,x({},o,{className:c}))}ea.propTypes=Zn,ea.defaultProps={tag:"div"},ea.contextTypes=Qn;var ta={tag:s.a.oneOfType([s.a.func,s.a.string]),fluid:s.a.bool,className:s.a.string,cssModule:s.a.object},na=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=e.fluid,s=T(e,["className","cssModule","tag","fluid"]),o=A(l()(t,"jumbotron",!!i&&"jumbotron-fluid"),n);return r.a.createElement(a,x({},s,{className:o}))};na.propTypes=ta,na.defaultProps={tag:"div"};var aa,ra={children:s.a.node,className:s.a.string,closeClassName:s.a.string,closeAriaLabel:s.a.string,cssModule:s.a.object,color:s.a.string,fade:s.a.bool,isOpen:s.a.bool,toggle:s.a.func,tag:s.a.oneOfType([s.a.func,s.a.string]),transition:s.a.shape(tt.propTypes),innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])},ia={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:x({},tt.defaultProps,{unmountOnExit:!0})};function sa(e){var t=e.className,n=e.closeClassName,a=e.closeAriaLabel,i=e.cssModule,s=e.tag,o=e.color,c=e.isOpen,d=e.toggle,h=e.children,u=e.transition,p=e.fade,f=e.innerRef,g=T(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),m=A(l()(t,"alert","alert-"+o,{"alert-dismissible":d}),i),_=A(l()("close",n),i),v=x({},tt.defaultProps,u,{baseClass:p?u.baseClass:"",timeout:p?u.timeout:0});return r.a.createElement(tt,x({},g,v,{tag:s,className:m,in:c,role:"alert",innerRef:f}),d?r.a.createElement("button",{type:"button",className:_,"aria-label":a,onClick:d},r.a.createElement("span",{"aria-hidden":"true"},"")):null,h)}sa.propTypes=ra,sa.defaultProps=ia;var oa=x({},Ze.propTypes,{isOpen:s.a.bool,children:s.a.oneOfType([s.a.arrayOf(s.a.node),s.a.node]),tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.node,navbar:s.a.bool,cssModule:s.a.object,innerRef:s.a.oneOfType([s.a.func,s.a.string,s.a.object])}),la=x({},Ze.defaultProps,{isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:z.Collapse}),ca=(j(aa={},H.ENTERING,"collapsing"),j(aa,H.ENTERED,"collapse show"),j(aa,H.EXITING,"collapsing"),j(aa,H.EXITED,"collapse"),aa);function da(e){return e.scrollHeight}var ha=function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={height:null},["onEntering","onEntered","onExit","onExiting","onExited"].forEach(function(e){n[e]=n[e].bind(n)}),n}return w(t,e),k(t,[{key:"onEntering",value:function(e,t){this.setState({height:da(e)}),this.props.onEntering(e,t)}},{key:"onEntered",value:function(e,t){this.setState({height:null}),this.props.onEntered(e,t)}},{key:"onExit",value:function(e){this.setState({height:da(e)}),this.props.onExit(e)}},{key:"onExiting",value:function(e){e.offsetHeight;this.setState({height:0}),this.props.onExiting(e)}},{key:"onExited",value:function(e){this.setState({height:null}),this.props.onExited(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.tag,a=t.isOpen,i=t.className,s=t.navbar,o=t.cssModule,c=t.children,d=(t.innerRef,T(t,["tag","isOpen","className","navbar","cssModule","children","innerRef"])),h=this.state.height,u=D(d,K),p=I(d,K);return r.a.createElement(Ze,x({},u,{in:a,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),function(t){var a=function(e){return ca[e]||"collapse"}(t),d=A(l()(i,a,s&&"navbar-collapse"),o),u=null===h?null:{height:h};return r.a.createElement(n,x({},p,{style:x({},p.style,u),className:d,ref:e.props.innerRef}),c)})}}]),t}(a.Component);ha.propTypes=oa,ha.defaultProps=la;var ua={tag:s.a.oneOfType([s.a.func,s.a.string]),active:s.a.bool,disabled:s.a.bool,color:s.a.string,action:s.a.bool,className:s.a.any,cssModule:s.a.object},pa=function(e){e.preventDefault()},fa=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=e.active,s=e.disabled,o=e.action,c=e.color,d=T(e,["className","cssModule","tag","active","disabled","action","color"]),h=A(l()(t,!!i&&"active",!!s&&"disabled",!!o&&"list-group-item-action",!!c&&"list-group-item-"+c,"list-group-item"),n);return s&&(d.onClick=pa),r.a.createElement(a,x({},d,{className:h}))};fa.propTypes=ua,fa.defaultProps={tag:"li"};var ga={tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.any,cssModule:s.a.object},ma=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=T(e,["className","cssModule","tag"]),s=A(l()(t,"list-group-item-heading"),n);return r.a.createElement(a,x({},i,{className:s}))};ma.propTypes=ga,ma.defaultProps={tag:"h5"};var _a={tag:s.a.oneOfType([s.a.func,s.a.string]),className:s.a.any,cssModule:s.a.object},va=function(e){var t=e.className,n=e.cssModule,a=e.tag,i=T(e,["className","cssModule","tag"]),s=A(l()(t,"list-group-item-text"),n);return r.a.createElement(a,x({},i,{className:s}))};va.propTypes=_a,va.defaultProps={tag:"p"};(function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!0},n.toggle=n.toggle.bind(n),n}w(t,e),k(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement(sa,x({isOpen:this.state.isOpen,toggle:this.toggle},this.props))}}])})(a.Component),function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!1},n.toggle=n.toggle.bind(n),n}w(t,e),k(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement(Ae,x({isOpen:this.state.isOpen,toggle:this.toggle},this.props))}}])}(a.Component);var ba={toggler:s.a.string.isRequired,toggleEvents:s.a.arrayOf(s.a.string)},ya={toggleEvents:V},ka=function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.togglers=null,n.removeEventListeners=null,n.toggle=n.toggle.bind(n),n.state={isOpen:!1},n}return w(t,e),k(t,[{key:"componentDidMount",value:function(){this.togglers=X(this.props.toggler),this.togglers.length&&(this.removeEventListeners=Z(this.togglers,this.toggle,this.props.toggleEvents))}},{key:"componentWillUnmount",value:function(){this.togglers.length&&this.removeEventListeners&&this.removeEventListeners()}},{key:"toggle",value:function(e){this.setState(function(e){return{isOpen:!e.isOpen}}),e.preventDefault()}},{key:"render",value:function(){var e=this.props,t=(e.toggleEvents,T(e,["toggleEvents"]));return r.a.createElement(ha,x({isOpen:this.state.isOpen},t))}}]),t}(a.Component);ka.propTypes=ba,ka.defaultProps=ya;(function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!1},n.toggle=n.toggle.bind(n),n}w(t,e),k(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement(xe,x({isOpen:this.state.isOpen,toggle:this.toggle},this.props))}}])})(a.Component),function(e){function t(e){y(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isOpen:!1},n.toggle=n.toggle.bind(n),n}w(t,e),k(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement(gn,x({isOpen:this.state.isOpen,toggle:this.toggle},this.props))}}])}(a.Component)}).call(t,n(20))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(6),s=n(10);t.a=class extends s.a{getContextualMenu(e,t,n){const a={};return a.editItem={label:Translator.trans("menu_item.action.edit"),action:e.handleEditTreeNode,separator_after:!0},Object.assign(a,super.getContextualMenu(e,t,n)||{})}getContextualMenuCreateBtn(e,t){const n=this.getNewItem.bind(this);return{label:Translator.trans("menu_item.action.create.".concat(this.identifier)),action:()=>{const a=n({parentId:t.id});e.handleCreateTreeNode(a)}}}getEditForm(e,t,n){return r.a.createElement(i.a,{item:e,onSubmit:t,onCancel:n})}}},function(e,t,n){"use strict";var a=n(2);t.a=class{getTreeType(){return{icon:"oi oi-link-intact",max_children:-1,max_depth:-1,valid_children:-1}}constructor(e,t){this.identifier=e,this.type=t}getContextualMenu(e,t,n){const a=e.getNode(t.parent),r={};return n.getOption("active",!0)?r.desactivateItem={label:Translator.trans("menu_item.action.desactivate"),action:t=>{e.getNode(t.reference).data.options.active=!1,e.onTreeChange()}}:r.activateItem={label:Translator.trans("menu_item.action.activate"),action:t=>{e.getNode(t.reference).data.options.active=!0,e.onTreeChange()}},t.state.disabled&&!a.state.disabled?r.restoreItem={label:Translator.trans("menu_item.action.restore"),action:t=>{e.enableTree(t.reference),e.onTreeChange()}}:r.removeItem={label:Translator.trans("menu_item.action.remove"),action:t=>{e.disableTree(t.reference),e.onTreeChange()}},r}getContextualMenuCreateBtn(e,t){return null}getNewItem(e){const t={id:null,name:Translator.trans("menu_item.default_title"),type:this.type};return e=Object.assign(t,e||{}),new a.a(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),r=n.n(a),i=n(0),s=n.n(i),o=n(12),l=n(18),c=n(32),d=n(9);!function(e,t){const n={config:{types:[],jsTreeTypes:{root:{icon:"oi oi-menu"}}},registerType:e=>{n.config.types.push(e),n.config.jsTreeTypes[e.type]=e.getTreeType()},getTypesMap:()=>{const e=new Map;for(const t of n.config.types)e.set(t.type,t);return e},getJsTreeTypes:()=>n.config.jsTreeTypes},a={render:(e,a,i)=>{const l=t.querySelector('meta[name="CSRF-Token"]').content,c=t.querySelector('meta[name="SiteAccess"]').content,d=()=>{r.a.render(s.a.createElement(o.a,{loadJson:()=>a.value,onChange:e=>{const t=[];for(const n of e.values())n.isEnabled()&&t.push({id:n.id,name:n.name,parentId:"#"!==n.parentId?n.parentId:null,position:n.position,url:n.url,target:n.target,type:n.type,options:n.options});a.value=JSON.stringify(t)},config:n,restInfo:{token:l,siteaccess:c},treeRootLocationId:i.value}),e)};d(),i.addEventListener("change",()=>{d()})}};n.registerType(new l.a("container","Novactive\\EzMenuManagerBundle\\Entity\\MenuItem\\ContainerMenuItem")),n.registerType(new c.a("content","Novactive\\EzMenuManagerBundle\\Entity\\MenuItem\\ContentMenuItem")),n.registerType(new d.a("default","Novactive\\EzMenuManagerBundle\\Entity\\MenuItem")),e.Novactive=e.Novactive||{},e.Novactive.MenuManagerRenderer=a,e.Novactive.MenuManagerConfig=n;document.querySelectorAll(".menu-edit-form").forEach(t=>{e.Novactive.MenuManagerRenderer.render(t.querySelector(".menu-manager"),t.querySelector(".ez-data-source__input"),t.querySelector('input[name="menu[rootLocationId]"]'))})}(window,window.document)},function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1),s=n.n(i),o=n(13),l=n(17),c=n(2);class d extends a.Component{constructor(e){super(e),this.state={items:new Map,editedItem:null},this.handleTreeChange=this.handleTreeChange.bind(this),this.handeEdit=this.handeEdit.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleFormCancel=this.handleFormCancel.bind(this)}handleTreeChange(e){this.props.onChange(e),this.setState(()=>({items:e}))}handeEdit(e){this.setState(()=>({editedItem:e}))}handleFormCancel(){this.setState(()=>({editedItem:null}))}handleFormSubmit(e){this.setState(()=>{const t=new Map(this.state.items);return t.set(e.id,e),this.props.onChange(t),{items:t,editedItem:null}})}componentDidMount(){const e=this.props.loadJson(),t=JSON.parse(e),n=this.state.items;for(const e of t){const t=new c.a({id:e.id,parentId:e.parentId||"#",name:e.name,position:e.position,url:e.url,target:e.target,type:e.type,options:Object.assign({},e.options)});n.set(t.id,t)}this.setState(()=>({items:n}))}render(){let e=null;if(this.state.editedItem){e=this.props.config.getTypesMap().get(this.state.editedItem.type).getEditForm(this.state.editedItem,this.handleFormSubmit,this.handleFormCancel)}return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(l.a,{items:this.state.items,onChange:this.handleTreeChange,onEdit:this.handeEdit,language:eZ.adminUiConfig.languages.priority[0],types:this.props.config.getTypesMap(),jsTreeTypes:this.props.config.getJsTreeTypes()})))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement(o.a,{treeRootLocationId:this.props.treeRootLocationId,restInfo:this.props.restInfo,jsTreeTypes:this.props.config.getJsTreeTypes()})))),e&&r.a.createElement("div",{className:"col-md-6 card menu-manager-edit-form-container"},e))}}t.a=d,d.propTypes={treeRootLocationId:s.a.number.isRequired,loadJson:s.a.func,onChange:s.a.func,config:s.a.object,restInfo:s.a.shape({token:s.a.string.isRequired,siteaccess:s.a.string.isRequired}).isRequired}},function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1),s=n.n(i),o=n(14),l=n(3),c=n.n(l),d=n(5);n.n(d);class h extends a.PureComponent{constructor(e){super(e),this.tree=null,this.getTreeData=this.getTreeData.bind(this),this.handleCheck=this.handleCheck.bind(this)}getTreeData(e,t){const n="#"===e.id?this.props.treeRootLocationId:e.data.locationId;void 0!==n&&this.loadMoreSubitems({parentLocationId:n,offet:0,limit:100},n=>{"#"===e.id?t.call(this,this.generateNodeFromLocation(n,"#")):t.call(this,this.generateNodesFromLocationChildren(n))})}generateNodesFromLocationChildren(e){const t=[];for(const n of e.subitems)t.push(this.generateNodeFromLocation(n,e.id));return t}generateNodeFromLocation(e,t){const n=e.totalSubitemsCount>0,a=this.generateNodesFromLocationChildren(e);return{id:String("_"+Math.random().toString(36).substr(2,9)),text:e.name,state:{opened:a.length>0,disabled:!1},type:"Novactive\\EzMenuManagerBundle\\Entity\\MenuItem\\ContentMenuItem",data:{position:0,url:"content:".concat(e.contentId),target:null,options:[],locationId:e.locationId},li_attr:{title:"(location id: ".concat(e.locationId," | content id: ").concat(e.contentId,")")},children:a.length>0?a:n}}loadMoreSubitems({parentLocationId:e,offset:t,limit:n},a){Object(o.a)(this.props.restInfo,e,a,n,t)}handleCheck(e,t,n,a,r){return"copy_node"!==e}componentDidMount(){this.tree=c()(this.treeContainer).jstree({core:{data:this.getTreeData,check_callback:this.handleCheck},types:this.props.jsTreeTypes,dnd:{always_copy:!0,drag_selection:!1},plugins:["state","dnd","types"]}).jstree(!0),c()(document).on("dnd_stop.vakata.jstree",this.onDnDStart.bind(this))}onDnDStart(e,t){if(t.data.origin!==this.tree)return;const n=[];for(let e=0,a=t.data.nodes.length;e<a;e++){const a=t.data.origin?t.data.origin.get_node(t.data.nodes[e]):t.data.nodes[e],r=Object.assign({},a);r.state.loaded=!0,r.children=[],r.children_d=[],r.id=String("_"+Math.random().toString(36).substr(2,9)),n[e]=r}t.data.nodes=n,t.data.origin=null}componentDidUpdate(){this.tree.settings.core.data=this.getTreeData,this.tree.refresh({skip_loading:!0})}render(){return r.a.createElement("div",{ref:e=>this.treeContainer=e})}}t.a=h,h.propTypes={jsTreeTypes:s.a.object,treeRootLocationId:s.a.number.isRequired,restInfo:s.a.shape({token:s.a.string.isRequired,siteaccess:s.a.string.isRequired}).isRequired}},function(e,t,n){"use strict";var a=n(15),r=n(16);t.a=(({siteaccess:e},t,n,s=50,o=0)=>{const l=new Request(`/api/ezp/v2/location/tree/load-subitems/${t}/${s}/${o}`,{method:"GET",mode:"same-origin",credentials:"same-origin",headers:{Accept:"application/vnd.ez.api.ContentTreeNode+json","X-Siteaccess":e}});fetch(l).then(a.a).then(e=>{const t=e.ContentTreeNode;return t.children=t.children.map(i),i(t)}).then(n).catch(r.a)});const i=e=>(e.totalSubitemsCount=e.totalChildrenCount,e.subitems=e.children,delete e.totalChildrenCount,delete e.children,delete e.displayLimit,e)},function(e,t,n){"use strict";const a=e=>{if(!e.ok)throw Error(e.statusText);return e};t.a=(e=>a(e).json())},function(e,t,n){"use strict";const a=e=>{const t=new CustomEvent("ez-notify",{detail:e});document.body.dispatchEvent(t)};t.a=(e=>{const t=e instanceof Error?e.message:e;a({message:t,label:"danger"})})},function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1),s=n.n(i),o=n(3),l=n.n(o),c=n(5),d=(n.n(c),n(2));const h="root";class u extends a.PureComponent{constructor(e){super(e),this.tree=null,this.onTreeChange=this.onTreeChange.bind(this),this.handleCheck=this.handleCheck.bind(this),this.getNode=this.getNode.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleEditTreeNode=this.handleEditTreeNode.bind(this),this.handleCreateTreeNode=this.handleCreateTreeNode.bind(this)}getTreeData(){const e=[{id:h,text:Translator.trans("menu.root"),parent:"#",type:h,state:{opened:!0}}];for(const t of this.props.items.values()){const n=t.toTreeNode(this.props.language);"#"===n.parent&&(n.parent=h),e.push(n)}return e}onTreeChange(){const e=new Map,t=this.tree.get_json(null,{flat:!0});for(const[n,a]of Object.entries(t)){if(a.id===h)continue;a.parent===h&&(a.parent="#");const t=d.a.fromTreeNode(a,n);e.set(t.id,t)}this.props.onChange(e)}handleCheck(e,t,n,a,r){if("move_node"===e){if(t.id===h)return!1;if("#"===n.id)return!1;if(t.state.disabled)return!1}return!0}handleContextMenu(e){const t=this.props.items.get(e.id);let n={};if(!e.state.disabled){const a=[...this.props.types.values()],r={};for(const n of a){const a=n.getContextualMenuCreateBtn(this,e,t);a&&(r["createItem_".concat(n.identifier)]=a)}n.createItem={label:Translator.trans("menu_item.action.create"),submenu:r,separator_after:!0}}if(e.id!==h){const a=this.props.types.get(e.type);n=Object.assign(n,a.getContextualMenu(this,e,t)||{})}return n}handleCreateTreeNode(e){this.props.onEdit(e)}handleEditTreeNode(e){const t=this.tree.get_node(e.reference),n=this.props.items.get(t.id);this.props.onEdit(n)}getNode(e){return this.tree.get_node(e)}disableTree(e){const t=this.disableNode(e);if(t&&t.children.length>0)for(const e of t.children)this.disableTree(e)}enableTree(e){const t=this.enableNode(e);if(t&&t.children.length>0)for(const e of t.children)this.enableTree(e)}enableNode(e){const t=this.tree.get_node(e);return this.tree.enable_node(t),t}disableNode(e){const t=this.tree.get_node(e);return this.tree.disable_node(t),t}componentDidMount(){this.tree=l()(this.treeContainer).jstree({core:{data:this.getTreeData(),check_callback:this.handleCheck},types:this.props.jsTreeTypes,conditionalselect:(e,t)=>!1,contextmenu:{items:this.handleContextMenu},plugins:["changed","dnd","conditionalselect","contextmenu","types"]}).jstree(!0),l()(this.treeContainer).on("move_node.jstree copy_node.jstree delete_node.jstree create_node.jstree",this.onTreeChange)}componentDidUpdate(){this.tree.settings.core.data=this.getTreeData(),this.tree.refresh({skip_loading:!0})}render(){return r.a.createElement("div",{ref:e=>this.treeContainer=e})}}t.a=u,u.propTypes={items:s.a.instanceOf(Map),types:s.a.instanceOf(Map),jsTreeTypes:s.a.object,onChange:s.a.func,onEdit:s.a.func,language:s.a.string}},function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(19),s=n(9),o=n(2);t.a=class extends s.a{getTreeType(){return{icon:"oi oi-folder",max_children:-1,max_depth:-1,valid_children:-1}}getEditForm(e,t,n){return r.a.createElement(i.a,{item:e,onSubmit:t,onCancel:n})}getNewItem(e){const t={id:null,name:Translator.trans("menu_item.default_container_title"),type:this.type};return e=Object.assign(t,e||{}),new o.a(e)}}},function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1),s=n.n(i),o=n(6),l=n(7);class c extends o.a{constructor(e){super(e),this.defaultLanguage=eZ.adminUiConfig.languages.priority[0],this.state={name:this.props.item.name,language:this.defaultLanguage},this.handleSubmit=this.handleSubmit.bind(this)}componentDidUpdate(e,t){e.item!==this.props.item&&this.setState(e=>({name:this.props.item.name}))}handleSubmit(e){e.preventDefault();const t=this.props.item;t.name=this.state.name,this.props.onSubmit(t)}render(){const e=[];for(const t in eZ.adminUiConfig.languages.mappings)e.push(eZ.adminUiConfig.languages.mappings[t]);return r.a.createElement("div",null,r.a.createElement(l.b,{onSubmit:this.handleSubmit},r.a.createElement(l.c,null,r.a.createElement(l.e,{for:"language"},Translator.trans("menu_item.property.language")),r.a.createElement(l.d,{type:"select",onChange:this.handleLanguageChange},[...e].map(e=>r.a.createElement("option",{key:e.id,value:e.languageCode},e.name)))),r.a.createElement(l.c,null,r.a.createElement(l.e,{for:"item_name"},Translator.trans("menu_item.property.container_name")," (",this.state.language,")"),r.a.createElement(l.d,{type:"text",name:"name",value:this.getInputValue(this.state.name),id:"item_name",onChange:this.handleLocalizedInputChange})),r.a.createElement(l.a,{type:"submit",className:"pull-right",color:"primary"},Translator.trans("menu_item.edit_form.save")),r.a.createElement(l.a,{type:"button",onClick:this.handleCancel},Translator.trans("menu_item.edit_form.cancel"))))}}t.a=c,c.propTypes={item:s.a.object,onSubmit:s.a.func,onCancel:s.a.func}},function(e,t){var n,a,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{a="function"==typeof clearTimeout?clearTimeout:s}catch(e){a=s}}();var l,c=[],d=!1,h=-1;function u(){d&&l&&(d=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!d){var e=o(u);d=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,d=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===s||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||d||o(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){var a;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a)&&a.length){var s=r.apply(null,a);s&&e.push(s)}else if("object"===i)for(var o in a)n.call(a,o)&&a[o]&&e.push(o)}}return e.join(" ")}void 0!==e&&e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},function(e,t,n){(function(t){var n="[object AsyncFunction]",a="[object Function]",r="[object GeneratorFunction]",i="[object Null]",s="[object Proxy]",o="[object Undefined]",l="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,d=l||c||Function("return this")(),h=Object.prototype,u=h.hasOwnProperty,p=h.toString,f=d.Symbol,g=f?f.toStringTag:void 0;function m(e){return null==e?void 0===e?o:i:g&&g in Object(e)?function(e){var t=u.call(e,g),n=e[g];try{e[g]=void 0;var a=!0}catch(e){}var r=p.call(e);a&&(t?e[g]=n:delete e[g]);return r}(e):function(e){return p.call(e)}(e)}e.exports=function(e){if(!function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}(e))return!1;var t=m(e);return t==a||t==r||t==n||t==s}}).call(t,n(8))},function(e,t){e.exports=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";var a=n(25);n.d(t,"b",function(){return a.a});var r=n(26);n.d(t,"d",function(){return r.a});var i=n(27);n.d(t,"c",function(){return i.a});var s=n(29);n.d(t,"a",function(){return s.a})},function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(1)),i=n.n(r),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a._setTargetNode=function(e){a._targetNode=e},a._getTargetNode=function(){return a._targetNode},o(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),s(t,[{key:"getChildContext",value:function(){return{popperManager:{setTargetNode:this._setTargetNode,getTargetNode:this._getTargetNode}}}},{key:"render",value:function(){var e=this.props,t=e.tag,n=e.children,r=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["tag","children"]);return!1!==t?Object(a.createElement)(t,r,n):n}}]),t}();l.childContextTypes={popperManager:i.a.object.isRequired},l.propTypes={tag:i.a.oneOfType([i.a.string,i.a.bool]),children:i.a.oneOfType([i.a.node,i.a.func])},l.defaultProps={tag:"div"},t.a=l},function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(1)),i=n.n(r),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var o=function(e,t){var n=e.component,r=void 0===n?"div":n,i=e.innerRef,o=e.children,l=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["component","innerRef","children"]),c=t.popperManager,d=function(e){c.setTargetNode(e),"function"==typeof i&&i(e)};if("function"==typeof o)return o({targetProps:{ref:d},restProps:l});var h=s({},l);return"string"==typeof r?h.ref=d:h.innerRef=d,Object(a.createElement)(r,h,o)};o.contextTypes={popperManager:i.a.object.isRequired},o.propTypes={component:i.a.oneOfType([i.a.node,i.a.func]),innerRef:i.a.func,children:i.a.oneOfType([i.a.node,i.a.func])},t.a=o},function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(1)),i=n.n(r),s=n(28),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=s.a.placements,h=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=a=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.state={},a._setArrowNode=function(e){a._arrowNode=e},a._getTargetNode=function(){if(a.props.target)return a.props.target;if(!a.context.popperManager||!a.context.popperManager.getTargetNode())throw new Error("Target missing. Popper must be given a target from the Popper Manager, or as a prop.");return a.context.popperManager.getTargetNode()},a._getOffsets=function(e){return Object.keys(e.offsets).map(function(t){return e.offsets[t]})},a._isDataDirty=function(e){return!a.state.data||JSON.stringify(a._getOffsets(a.state.data))!==JSON.stringify(a._getOffsets(e))},a._updateStateModifier={enabled:!0,order:900,fn:function(e){return a._isDataDirty(e)&&a.setState({data:e}),e}},a._getPopperStyle=function(){var e=a.state.data;return a._popper&&e?o({position:e.offsets.popper.position},e.styles):{position:"absolute",pointerEvents:"none",opacity:0}},a._getPopperPlacement=function(){return a.state.data?a.state.data.placement:void 0},a._getPopperHide=function(){return a.state.data&&a.state.data.hide?"":void 0},a._getArrowStyle=function(){if(a.state.data&&a.state.data.offsets.arrow){var e=a.state.data.offsets.arrow;return{top:e.top,left:e.left}}return{}},a._handlePopperRef=function(e){a._popperNode=e,e?a._createPopper():a._destroyPopper(),a.props.innerRef&&a.props.innerRef(e)},a._scheduleUpdate=function(){a._popper&&a._popper.scheduleUpdate()},c(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["Component"]),l(t,[{key:"getChildContext",value:function(){return{popper:{setArrowNode:this._setArrowNode,getArrowStyle:this._getArrowStyle}}}},{key:"componentDidUpdate",value:function(e){e.placement===this.props.placement&&e.eventsEnabled===this.props.eventsEnabled&&e.target===this.props.target||(this._destroyPopper(),this._createPopper()),e.children!==this.props.children&&this._scheduleUpdate()}},{key:"componentWillUnmount",value:function(){this._destroyPopper()}},{key:"_createPopper",value:function(){var e=this,t=this.props,n=t.placement,a=t.eventsEnabled,r=t.positionFixed,i=o({},this.props.modifiers,{applyStyle:{enabled:!1},updateState:this._updateStateModifier});this._arrowNode&&(i.arrow=o({},this.props.modifiers.arrow||{},{element:this._arrowNode})),this._popper=new s.a(this._getTargetNode(),this._popperNode,{placement:n,positionFixed:r,eventsEnabled:a,modifiers:i}),setTimeout(function(){return e._scheduleUpdate()})}},{key:"_destroyPopper",value:function(){this._popper&&this._popper.destroy()}},{key:"render",value:function(){var e=this.props,t=e.component,n=(e.innerRef,e.placement,e.eventsEnabled,e.positionFixed,e.modifiers,e.children),r=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["component","innerRef","placement","eventsEnabled","positionFixed","modifiers","children"]),i=this._getPopperStyle(),s=this._getPopperPlacement(),l=this._getPopperHide();if("function"==typeof n)return n({popperProps:{ref:this._handlePopperRef,style:i,"data-placement":s,"data-x-out-of-boundaries":l},restProps:r,scheduleUpdate:this._scheduleUpdate});var c=o({},r,{style:o({},r.style,i),"data-placement":s,"data-x-out-of-boundaries":l});return"string"==typeof t?c.ref=this._handlePopperRef:c.innerRef=this._handlePopperRef,Object(a.createElement)(t,c,n)}}]),t}();h.contextTypes={popperManager:i.a.object},h.childContextTypes={popper:i.a.object.isRequired},h.propTypes={component:i.a.oneOfType([i.a.node,i.a.func]),innerRef:i.a.func,placement:i.a.oneOf(d),eventsEnabled:i.a.bool,positionFixed:i.a.bool,modifiers:i.a.object,children:i.a.oneOfType([i.a.node,i.a.func]),target:i.a.oneOfType([i.a.instanceOf("undefined"!=typeof Element?Element:Object),i.a.shape({getBoundingClientRect:i.a.func.isRequired,clientWidth:i.a.number.isRequired,clientHeight:i.a.number.isRequired})])},h.defaultProps={component:"div",placement:"bottom",eventsEnabled:!0,positionFixed:!1,modifiers:{}},t.a=h},function(e,t,n){"use strict";(function(e){for(var n="undefined"!=typeof window&&"undefined"!=typeof document,a=["Edge","Trident","Firefox"],r=0,i=0;i<a.length;i+=1)if(n&&navigator.userAgent.indexOf(a[i])>=0){r=1;break}var s=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},r))}};function o(e){return e&&"[object Function]"==={}.toString.call(e)}function l(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function c(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function d(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=l(e),n=t.overflow,a=t.overflowX,r=t.overflowY;return/(auto|scroll|overlay)/.test(n+r+a)?e:d(c(e))}var h=n&&!(!window.MSInputMethodContext||!document.documentMode),u=n&&/MSIE 10/.test(navigator.userAgent);function p(e){return 11===e?h:10===e?u:h||u}function f(e){if(!e)return document.documentElement;for(var t=p(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var a=n&&n.nodeName;return a&&"BODY"!==a&&"HTML"!==a?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===l(n,"position")?f(n):n:e?e.ownerDocument.documentElement:document.documentElement}function g(e){return null!==e.parentNode?g(e.parentNode):e}function m(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,a=n?e:t,r=n?t:e,i=document.createRange();i.setStart(a,0),i.setEnd(r,0);var s,o,l=i.commonAncestorContainer;if(e!==l&&t!==l||a.contains(r))return"BODY"===(o=(s=l).nodeName)||"HTML"!==o&&f(s.firstElementChild)!==s?f(l):l;var c=g(e);return c.host?m(c.host,t):m(e,g(t).host)}function _(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var a=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||a)[t]}return e[t]}function v(e,t){var n="x"===t?"Left":"Top",a="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+a+"Width"],10)}function b(e,t,n,a){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],p(10)?parseInt(n["offset"+e])+parseInt(a["margin"+("Height"===e?"Top":"Left")])+parseInt(a["margin"+("Height"===e?"Bottom":"Right")]):0)}function y(e){var t=e.body,n=e.documentElement,a=p(10)&&getComputedStyle(n);return{height:b("Height",t,n,a),width:b("Width",t,n,a)}}var k=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},j=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),x=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function T(e){return w({},e,{right:e.left+e.width,bottom:e.top+e.height})}function E(e){var t={};try{if(p(10)){t=e.getBoundingClientRect();var n=_(e,"top"),a=_(e,"left");t.top+=n,t.left+=a,t.bottom+=n,t.right+=a}else t=e.getBoundingClientRect()}catch(e){}var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?y(e.ownerDocument):{},s=i.width||e.clientWidth||r.right-r.left,o=i.height||e.clientHeight||r.bottom-r.top,c=e.offsetWidth-s,d=e.offsetHeight-o;if(c||d){var h=l(e);c-=v(h,"x"),d-=v(h,"y"),r.width-=c,r.height-=d}return T(r)}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=p(10),r="HTML"===t.nodeName,i=E(e),s=E(t),o=d(e),c=l(t),h=parseFloat(c.borderTopWidth,10),u=parseFloat(c.borderLeftWidth,10);n&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var f=T({top:i.top-s.top-h,left:i.left-s.left-u,width:i.width,height:i.height});if(f.marginTop=0,f.marginLeft=0,!a&&r){var g=parseFloat(c.marginTop,10),m=parseFloat(c.marginLeft,10);f.top-=h-g,f.bottom-=h-g,f.left-=u-m,f.right-=u-m,f.marginTop=g,f.marginLeft=m}return(a&&!n?t.contains(o):t===o&&"BODY"!==o.nodeName)&&(f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=_(t,"top"),r=_(t,"left"),i=n?-1:1;return e.top+=a*i,e.bottom+=a*i,e.left+=r*i,e.right+=r*i,e}(f,t)),f}function O(e){if(!e||!e.parentElement||p())return document.documentElement;for(var t=e.parentElement;t&&"none"===l(t,"transform");)t=t.parentElement;return t||document.documentElement}function C(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},s=r?O(e):m(e,t);if("viewport"===a)i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,a=N(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:_(n),o=t?0:_(n,"left");return T({top:s-a.top+a.marginTop,left:o-a.left+a.marginLeft,width:r,height:i})}(s,r);else{var o=void 0;"scrollParent"===a?"BODY"===(o=d(c(t))).nodeName&&(o=e.ownerDocument.documentElement):o="window"===a?e.ownerDocument.documentElement:a;var h=N(o,s,r);if("HTML"!==o.nodeName||function e(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===l(t,"position"))return!0;var a=c(t);return!!a&&e(a)}(s))i=h;else{var u=y(e.ownerDocument),p=u.height,f=u.width;i.top+=h.top-h.marginTop,i.bottom=p+h.top,i.left+=h.left-h.marginLeft,i.right=f+h.left}}var g="number"==typeof(n=n||0);return i.left+=g?n:n.left||0,i.top+=g?n:n.top||0,i.right-=g?n:n.right||0,i.bottom-=g?n:n.bottom||0,i}function M(e,t,n,a,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=C(n,a,i,r),o={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(o).map(function(e){return w({key:e},o[e],{area:(t=o[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),c=l.filter(function(e){var t=e.width,a=e.height;return t>=n.clientWidth&&a>=n.clientHeight}),d=c.length>0?c[0].key:l[0].key,h=e.split("-")[1];return d+(h?"-"+h:"")}function P(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return N(n,a?O(t):m(t,n),a)}function S(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),a=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+a,height:e.offsetHeight+n}}function A(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function I(e,t,n){n=n.split("-")[0];var a=S(e),r={width:a.width,height:a.height},i=-1!==["right","left"].indexOf(n),s=i?"top":"left",o=i?"left":"top",l=i?"height":"width",c=i?"width":"height";return r[s]=t[s]+t[l]/2-a[l]/2,r[o]=n===o?t[o]-a[c]:t[A(o)],r}function D(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function L(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var a=D(e,function(e){return e[t]===n});return e.indexOf(a)}(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&o(n)&&(t.offsets.popper=T(t.offsets.popper),t.offsets.reference=T(t.offsets.reference),t=n(t,e))}),t}function R(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function F(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),a=0;a<t.length;a++){var r=t[a],i=r?""+r+n:e;if(void 0!==document.body.style[i])return i}return null}function q(e){var t=e.ownerDocument;return t?t.defaultView:window}function U(e,t,n,a){n.updateBound=a,q(e).addEventListener("resize",n.updateBound,{passive:!0});var r=d(e);return function e(t,n,a,r){var i="BODY"===t.nodeName,s=i?t.ownerDocument.defaultView:t;s.addEventListener(n,a,{passive:!0}),i||e(d(s.parentNode),n,a,r),r.push(s)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function z(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,q(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function K(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function H(e,t){Object.keys(t).forEach(function(n){var a="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&K(t[n])&&(a="px"),e.style[n]=t[n]+a})}var W=n&&/Firefox/i.test(navigator.userAgent);function B(e,t,n){var a=D(e,function(e){return e.name===t}),r=!!a&&e.some(function(e){return e.name===n&&e.enabled&&e.order<a.order});if(!r){var i="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return r}var $=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],J=$.slice(3);function X(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=J.indexOf(e),a=J.slice(n+1).concat(J.slice(0,n));return t?a.reverse():a}var Y={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function G(e,t,n,a){var r=[0,0],i=-1!==["right","left"].indexOf(a),s=e.split(/(\+|\-)/).map(function(e){return e.trim()}),o=s.indexOf(D(s,function(e){return-1!==e.search(/,|\s/)}));s[o]&&-1===s[o].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==o?[s.slice(0,o).concat([s[o].split(l)[0]]),[s[o].split(l)[1]].concat(s.slice(o+1))]:[s];return(c=c.map(function(e,a){var r=(1===a?!i:i)?"height":"width",s=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,a){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+r[1],s=r[2];if(!i)return e;if(0===s.indexOf("%")){var o=void 0;switch(s){case"%p":o=n;break;case"%":case"%r":default:o=a}return T(o)[t]/100*i}if("vh"===s||"vw"===s)return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;return i}(e,r,t,n)})})).forEach(function(e,t){e.forEach(function(n,a){K(n)&&(r[t]+=n*("-"===e[a-1]?-1:1))})}),r}var V={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],a=t.split("-")[1];if(a){var r=e.offsets,i=r.reference,s=r.popper,o=-1!==["bottom","top"].indexOf(n),l=o?"left":"top",c=o?"width":"height",d={start:x({},l,i[l]),end:x({},l,i[l]+i[c]-s[c])};e.offsets.popper=w({},s,d[a])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,a=e.placement,r=e.offsets,i=r.popper,s=r.reference,o=a.split("-")[0],l=void 0;return l=K(+n)?[+n,0]:G(n,i,s,o),"left"===o?(i.top+=l[0],i.left-=l[1]):"right"===o?(i.top+=l[0],i.left+=l[1]):"top"===o?(i.left+=l[0],i.top-=l[1]):"bottom"===o&&(i.left+=l[0],i.top+=l[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||f(e.instance.popper);e.instance.reference===n&&(n=f(n));var a=F("transform"),r=e.instance.popper.style,i=r.top,s=r.left,o=r[a];r.top="",r.left="",r[a]="";var l=C(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);r.top=i,r.left=s,r[a]=o,t.boundaries=l;var c=t.priority,d=e.offsets.popper,h={primary:function(e){var n=d[e];return d[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(d[e],l[e])),x({},e,n)},secondary:function(e){var n="right"===e?"left":"top",a=d[n];return d[e]>l[e]&&!t.escapeWithReference&&(a=Math.min(d[n],l[e]-("right"===e?d.width:d.height))),x({},n,a)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";d=w({},d,h[t](e))}),e.offsets.popper=d,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,a=t.reference,r=e.placement.split("-")[0],i=Math.floor,s=-1!==["top","bottom"].indexOf(r),o=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[o]<i(a[l])&&(e.offsets.popper[l]=i(a[l])-n[c]),n[l]>i(a[o])&&(e.offsets.popper[l]=i(a[o])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!B(e.instance.modifiers,"arrow","keepTogether"))return e;var a=t.element;if("string"==typeof a){if(!(a=e.instance.popper.querySelector(a)))return e}else if(!e.instance.popper.contains(a))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],i=e.offsets,s=i.popper,o=i.reference,c=-1!==["left","right"].indexOf(r),d=c?"height":"width",h=c?"Top":"Left",u=h.toLowerCase(),p=c?"left":"top",f=c?"bottom":"right",g=S(a)[d];o[f]-g<s[u]&&(e.offsets.popper[u]-=s[u]-(o[f]-g)),o[u]+g>s[f]&&(e.offsets.popper[u]+=o[u]+g-s[f]),e.offsets.popper=T(e.offsets.popper);var m=o[u]+o[d]/2-g/2,_=l(e.instance.popper),v=parseFloat(_["margin"+h],10),b=parseFloat(_["border"+h+"Width"],10),y=m-e.offsets.popper[u]-v-b;return y=Math.max(Math.min(s[d]-g,y),0),e.arrowElement=a,e.offsets.arrow=(x(n={},u,Math.round(y)),x(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(R(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=C(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),a=e.placement.split("-")[0],r=A(a),i=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case Y.FLIP:s=[a,r];break;case Y.CLOCKWISE:s=X(a);break;case Y.COUNTERCLOCKWISE:s=X(a,!0);break;default:s=t.behavior}return s.forEach(function(o,l){if(a!==o||s.length===l+1)return e;a=e.placement.split("-")[0],r=A(a);var c=e.offsets.popper,d=e.offsets.reference,h=Math.floor,u="left"===a&&h(c.right)>h(d.left)||"right"===a&&h(c.left)<h(d.right)||"top"===a&&h(c.bottom)>h(d.top)||"bottom"===a&&h(c.top)<h(d.bottom),p=h(c.left)<h(n.left),f=h(c.right)>h(n.right),g=h(c.top)<h(n.top),m=h(c.bottom)>h(n.bottom),_="left"===a&&p||"right"===a&&f||"top"===a&&g||"bottom"===a&&m,v=-1!==["top","bottom"].indexOf(a),b=!!t.flipVariations&&(v&&"start"===i&&p||v&&"end"===i&&f||!v&&"start"===i&&g||!v&&"end"===i&&m),y=!!t.flipVariationsByContent&&(v&&"start"===i&&f||v&&"end"===i&&p||!v&&"start"===i&&m||!v&&"end"===i&&g),k=b||y;(u||_||k)&&(e.flipped=!0,(u||_)&&(a=s[l+1]),k&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=a+(i?"-"+i:""),e.offsets.popper=w({},e.offsets.popper,I(e.instance.popper,e.offsets.reference,e.placement)),e=L(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],a=e.offsets,r=a.popper,i=a.reference,s=-1!==["left","right"].indexOf(n),o=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=i[n]-(o?r[s?"width":"height"]:0),e.placement=A(t),e.offsets.popper=T(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!B(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=D(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,a=t.y,r=e.offsets.popper,i=D(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==i?i:t.gpuAcceleration,o=f(e.instance.popper),l=E(o),c={position:r.position},d=function(e,t){var n=e.offsets,a=n.popper,r=n.reference,i=Math.round,s=Math.floor,o=function(e){return e},l=i(r.width),c=i(a.width),d=-1!==["left","right"].indexOf(e.placement),h=-1!==e.placement.indexOf("-"),u=t?d||h||l%2==c%2?i:s:o,p=t?i:o;return{left:u(l%2==1&&c%2==1&&!h&&t?a.left-1:a.left),top:p(a.top),bottom:p(a.bottom),right:u(a.right)}}(e,window.devicePixelRatio<2||!W),h="bottom"===n?"top":"bottom",u="right"===a?"left":"right",p=F("transform"),g=void 0,m=void 0;if(m="bottom"===h?"HTML"===o.nodeName?-o.clientHeight+d.bottom:-l.height+d.bottom:d.top,g="right"===u?"HTML"===o.nodeName?-o.clientWidth+d.right:-l.width+d.right:d.left,s&&p)c[p]="translate3d("+g+"px, "+m+"px, 0)",c[h]=0,c[u]=0,c.willChange="transform";else{var _="bottom"===h?-1:1,v="right"===u?-1:1;c[h]=m*_,c[u]=g*v,c.willChange=h+", "+u}var b={"x-placement":e.placement};return e.attributes=w({},b,e.attributes),e.styles=w({},c,e.styles),e.arrowStyles=w({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return H(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&H(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,a,r){var i=P(r,t,e,n.positionFixed),s=M(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),H(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},Z=function(){function e(t,n){var a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};k(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(a.update)},this.update=s(this.update.bind(this)),this.options=w({},e.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(w({},e.Defaults.modifiers,r.modifiers)).forEach(function(t){a.options.modifiers[t]=w({},e.Defaults.modifiers[t]||{},r.modifiers?r.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return w({name:e},a.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&o(e.onLoad)&&e.onLoad(a.reference,a.popper,a.options,e,a.state)}),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return j(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=P(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=M(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=I(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=L(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,R(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[F("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=U(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return z.call(this)}}]),e}();Z.Utils=("undefined"!=typeof window?window:e).PopperUtils,Z.placements=$,Z.Defaults=V,t.a=Z}).call(t,n(8))},function(e,t,n){"use strict";var a=n(0),r=(n.n(a),n(1)),i=n.n(r),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var o=function(e,t){var n=e.component,r=void 0===n?"span":n,i=e.innerRef,o=e.children,l=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["component","innerRef","children"]),c=t.popper,d=function(e){c.setArrowNode(e),"function"==typeof i&&i(e)},h=c.getArrowStyle();if("function"==typeof o)return o({arrowProps:{ref:d,style:h},restProps:l});var u=s({},l,{style:s({},h,l.style)});return"string"==typeof r?u.ref=d:u.innerRef=d,Object(a.createElement)(r,u,o)};o.contextTypes={popper:i.a.object.isRequired},o.propTypes={component:i.a.oneOfType([i.a.node,i.a.func]),innerRef:i.a.func,children:i.a.oneOfType([i.a.node,i.a.func])},t.a=o},function(e,t){var n=NaN,a="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,c=Object.prototype.toString;function d(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&c.call(e)==a}(e))return n;if(d(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=d(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var h=s.test(e);return h||o.test(e)?l(e.slice(2),h?2:8):i.test(e)?n:+e}},function(e,t,n){"use strict";function a(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function r(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function i(e,t){try{var n=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,a)}finally{this.props=n,this.state=a}}function s(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,s=null,o=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?s="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(s="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==s||null!==o){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==s?"\n  "+s:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=a,t.componentWillReceiveProps=r),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var d=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var a=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;d.call(this,e,t,a)}}return e}n.d(t,"a",function(){return s}),a.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";var a=n(10);t.a=class extends a.a{getTreeType(){return{icon:"oi oi-document",max_children:-1,max_depth:-1,valid_children:-1}}}}]).default});
//# sourceMappingURL=MenuManager.module.js.map